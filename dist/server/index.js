/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/server.ts");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./node_modules/@rpgjs/common/lib/Event.js":
/*!*************************************************!*\
  !*** ./node_modules/@rpgjs/common/lib/Event.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst Player_1 = __webpack_require__(/*! ./Player */ \"./node_modules/@rpgjs/common/lib/Player.js\");\nclass Event extends Player_1.RpgCommonPlayer {\n}\nexports.default = Event;\n//# sourceMappingURL=Event.js.map\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/common/lib/Event.js?");

/***/ }),

/***/ "./node_modules/@rpgjs/common/lib/EventEmitter.js":
/*!********************************************************!*\
  !*** ./node_modules/@rpgjs/common/lib/EventEmitter.js ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EventEmitter = void 0;\nconst Utils_1 = __webpack_require__(/*! ./Utils */ \"./node_modules/@rpgjs/common/lib/Utils.js\");\nclass EventEmitter {\n    constructor() {\n        this.listeners = {};\n        this.listenersOnce = {};\n    }\n    once(name, cb) {\n        this.listenersOnce[name] = cb;\n        return this;\n    }\n    on(name, cb) {\n        if (!this.listeners[name])\n            this.listeners[name] = [];\n        this.listeners[name].push(cb);\n        return this;\n    }\n    emit(name, data, rest = false) {\n        const ret = [];\n        if (this.listeners[name]) {\n            for (let listener of this.listeners[name]) {\n                if (rest)\n                    ret.push(listener(...data));\n                else\n                    ret.push(listener(data));\n            }\n        }\n        else if (this.listenersOnce[name]) {\n            if (rest)\n                ret.push(this.listenersOnce[name](...data));\n            else\n                ret.push(this.listenersOnce[name](data));\n        }\n        return Promise.all(ret.map(val => {\n            if (!Utils_1.isPromise(val)) {\n                return Promise.resolve(val);\n            }\n            return val;\n        }));\n    }\n    off(name) {\n        delete this.listeners[name];\n        delete this.listenersOnce[name];\n    }\n}\nexports.EventEmitter = EventEmitter;\n//# sourceMappingURL=EventEmitter.js.map\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/common/lib/EventEmitter.js?");

/***/ }),

/***/ "./node_modules/@rpgjs/common/lib/Game.js":
/*!************************************************!*\
  !*** ./node_modules/@rpgjs/common/lib/Game.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst Utils_1 = __webpack_require__(/*! ./Utils */ \"./node_modules/@rpgjs/common/lib/Utils.js\");\nconst EventEmitter_1 = __webpack_require__(/*! ./EventEmitter */ \"./node_modules/@rpgjs/common/lib/EventEmitter.js\");\nconst Player_1 = __webpack_require__(/*! ./Player */ \"./node_modules/@rpgjs/common/lib/Player.js\");\nconst Input_1 = __webpack_require__(/*! ./Input */ \"./node_modules/@rpgjs/common/lib/Input.js\");\nconst Plugin_1 = __webpack_require__(/*! ./Plugin */ \"./node_modules/@rpgjs/common/lib/Plugin.js\");\nclass Game extends EventEmitter_1.EventEmitter {\n    constructor(side) {\n        super();\n        this.side = side;\n        this.events = {}; // events for all player in map\n    }\n    start(world) {\n        this.world = world;\n    }\n    addObject(_class, playerId) {\n        let event;\n        if (!playerId)\n            playerId = Utils_1.generateUID();\n        if (_class.constructor.name == 'Function') {\n            event = new _class(this, playerId);\n        }\n        else {\n            event = _class;\n        }\n        return event;\n    }\n    addPlayer(playerClass, playerId) {\n        const player = this.addObject(playerClass, playerId);\n        return player;\n    }\n    addEvent(eventClass) {\n        const event = this.addObject(eventClass);\n        return event;\n    }\n    processInput(inputData, playerId) {\n        const player = this.world.getObject(playerId);\n        const { input } = inputData;\n        if (!player)\n            return;\n        if (!player.canMove)\n            return;\n        if (input == Input_1.Control.Action) {\n            player.triggerCollisionWith(Player_1.RpgCommonPlayer.ACTIONS.ACTION);\n        }\n        else if (input == Player_1.Direction.Left ||\n            input == Player_1.Direction.Right ||\n            input == Player_1.Direction.Up ||\n            input == Player_1.Direction.Down) {\n            player.moveByDirection(input);\n        }\n        if (this.side == 'server')\n            Plugin_1.RpgPlugin.emit('Server.onInput', [player, inputData], true);\n    }\n}\nexports.default = Game;\n//# sourceMappingURL=Game.js.map\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/common/lib/Game.js?");

/***/ }),

/***/ "./node_modules/@rpgjs/common/lib/Hit.js":
/*!***********************************************!*\
  !*** ./node_modules/@rpgjs/common/lib/Hit.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Hit = void 0;\nconst sat_1 = __importDefault(__webpack_require__(/*! sat */ \"sat\"));\nclass HitClass {\n    createObjectHitbox(x, y, z, w, h) {\n        return new sat_1.default.Box(new sat_1.default.Vector(x, y - z), w, h);\n    }\n    getHitbox(obj, offset) {\n        let hitbox, type;\n        if (!offset)\n            offset = { x: 0, y: 0 };\n        const x = obj.x + offset.x;\n        const y = obj.y + offset.y;\n        if (obj.ellipse) {\n            type = 'circle';\n            hitbox = new sat_1.default.Circle(new sat_1.default.Vector(x, y), obj.width);\n        }\n        else if (obj.polygon) {\n            type = 'polygon';\n            hitbox = new sat_1.default.Polygon(new sat_1.default.Vector(x, y), obj.polygon.map(pos => new sat_1.default.Vector(+pos.x, +pos.y)));\n        }\n        else if (!obj.polygon && obj.width > 0 && obj.height > 0) {\n            type = 'box';\n            hitbox = new sat_1.default.Box(new sat_1.default.Vector(x, y), obj.width, obj.height);\n        }\n        else {\n            hitbox = new sat_1.default.Vector(x, y);\n            type = obj.type;\n        }\n        return {\n            properties: obj.properties,\n            hitbox,\n            type,\n            name: obj.name\n        };\n    }\n    testPolyCollision(type, hit1, hit2) {\n        let collided = false;\n        switch (type) {\n            case 'box':\n                collided = sat_1.default.testPolygonPolygon(hit1.toPolygon(), hit2.toPolygon());\n                break;\n            case 'circle':\n                collided = sat_1.default.testPolygonCircle(hit1.toPolygon(), hit2);\n                break;\n            case 'polygon':\n                collided = sat_1.default.testPolygonPolygon(hit1, hit2.toPolygon());\n                break;\n        }\n        return collided;\n    }\n}\nexports.Hit = new HitClass();\n//# sourceMappingURL=Hit.js.map\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/common/lib/Hit.js?");

/***/ }),

/***/ "./node_modules/@rpgjs/common/lib/Input.js":
/*!*************************************************!*\
  !*** ./node_modules/@rpgjs/common/lib/Input.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Input = exports.Control = void 0;\nvar Control;\n(function (Control) {\n    Control[\"Action\"] = \"action\";\n    Control[\"Back\"] = \"back\";\n    Control[\"Up\"] = \"up\";\n    Control[\"Down\"] = \"down\";\n    Control[\"Right\"] = \"right\";\n    Control[\"Left\"] = \"left\";\n})(Control = exports.Control || (exports.Control = {}));\nvar Input;\n(function (Input) {\n    Input[\"Break\"] = \"break\";\n    Input[\"Backspace\"] = \"backspace\";\n    Input[\"Tab\"] = \"tab\";\n    Input[\"Clear\"] = \"clear\";\n    Input[\"Enter\"] = \"enter\";\n    Input[\"Shift\"] = \"shift\";\n    Input[\"Ctrl\"] = \"ctrl\";\n    Input[\"Alt\"] = \"alt\";\n    Input[\"Pause\"] = \"pause/break\";\n    Input[\"CapsLock\"] = \"caps lock\";\n    Input[\"Escape\"] = \"escape\";\n    Input[\"Conversion\"] = \"conversion\";\n    Input[\"NonConversion\"] = \"non-conversion\";\n    Input[\"Space\"] = \"space\";\n    Input[\"PageUp\"] = \"page up\";\n    Input[\"PageDown\"] = \"page down\";\n    Input[\"End\"] = \"end\";\n    Input[\"Home\"] = \"home\";\n    Input[\"Left\"] = \"left\";\n    Input[\"Up\"] = \"up\";\n    Input[\"Right\"] = \"right\";\n    Input[\"Down\"] = \"down\";\n    Input[\"Select\"] = \"select\";\n    Input[\"Print\"] = \"print\";\n    Input[\"Execute\"] = \"execute\";\n    Input[\"PrintScreen\"] = \"Print Screen\";\n    Input[\"Insert\"] = \"insert\";\n    Input[\"Delete\"] = \"delete\";\n    Input[\"Zero\"] = \"0\";\n    Input[\"One\"] = \"1\";\n    Input[\"Two\"] = \"2\";\n    Input[\"Three\"] = \"3\";\n    Input[\"Four\"] = \"4\";\n    Input[\"Five\"] = \"5\";\n    Input[\"Six\"] = \"6\";\n    Input[\"Seven\"] = \"7\";\n    Input[\"Height\"] = \"8\";\n    Input[\"Nine\"] = \"9\";\n    Input[\"Equal\"] = \"=\";\n    Input[\"Semicolon\"] = \"semicolon (firefox), equals\";\n    Input[\"LessThan\"] = \"<\";\n    Input[\"Equals\"] = \"equals (firefox)\";\n    Input[\"Beta\"] = \"\\u00DF\";\n    Input[\"At\"] = \"@\";\n    Input[\"A\"] = \"a\";\n    Input[\"B\"] = \"b\";\n    Input[\"C\"] = \"c\";\n    Input[\"D\"] = \"d\";\n    Input[\"E\"] = \"e\";\n    Input[\"F\"] = \"f\";\n    Input[\"G\"] = \"g\";\n    Input[\"H\"] = \"h\";\n    Input[\"I\"] = \"i\";\n    Input[\"J\"] = \"j\";\n    Input[\"K\"] = \"k\";\n    Input[\"L\"] = \"l\";\n    Input[\"M\"] = \"m\";\n    Input[\"N\"] = \"n\";\n    Input[\"O\"] = \"o\";\n    Input[\"P\"] = \"p\";\n    Input[\"Q\"] = \"q\";\n    Input[\"R\"] = \"r\";\n    Input[\"S\"] = \"s\";\n    Input[\"T\"] = \"t\";\n    Input[\"U\"] = \"u\";\n    Input[\"V\"] = \"v\";\n    Input[\"W\"] = \"w\";\n    Input[\"X\"] = \"x\";\n    Input[\"Y\"] = \"y\";\n    Input[\"Z\"] = \"z\";\n    Input[\"SearchKey\"] = \"Windows Key / Left \\u2318 / Chromebook Search key\";\n    Input[\"NumPad0\"] = \"numpad 0\";\n    Input[\"NumPad1\"] = \"numpad 1\";\n    Input[\"NumPad2\"] = \"numpad 2\";\n    Input[\"NumPad3\"] = \"numpad 3\";\n    Input[\"NumPad4\"] = \"numpad 4\";\n    Input[\"NumPad5\"] = \"numpad 5\";\n    Input[\"NumPad6\"] = \"numpad 6\";\n    Input[\"NumPad7\"] = \"numpad 7\";\n    Input[\"NumPad8\"] = \"numpad 8\";\n    Input[\"NumPad9\"] = \"numpad 9\";\n    Input[\"Multiply\"] = \"multiply\";\n    Input[\"Add\"] = \"add\";\n    Input[\"Subtract\"] = \"subtract\";\n    Input[\"DecimalPoint\"] = \"decimal point\";\n    Input[\"Divide\"] = \"divide\";\n    Input[\"F1\"] = \"f1\";\n    Input[\"F2\"] = \"f2\";\n    Input[\"F3\"] = \"f3\";\n    Input[\"F4\"] = \"f4\";\n    Input[\"F5\"] = \"f5\";\n    Input[\"F6\"] = \"f6\";\n    Input[\"F7\"] = \"f7\";\n    Input[\"F8\"] = \"f8\";\n    Input[\"F9\"] = \"f9\";\n    Input[\"F10\"] = \"f10\";\n    Input[\"F11\"] = \"f11\";\n    Input[\"F12\"] = \"f12\";\n    Input[\"F13\"] = \"f13\";\n    Input[\"F14\"] = \"f14\";\n    Input[\"F15\"] = \"f15\";\n    Input[\"F16\"] = \"f16\";\n    Input[\"F17\"] = \"f17\";\n    Input[\"F18\"] = \"f18\";\n    Input[\"F19\"] = \"f19\";\n    Input[\"F20\"] = \"f20\";\n    Input[\"F21\"] = \"f21\";\n    Input[\"F22\"] = \"f22\";\n    Input[\"F23\"] = \"f23\";\n    Input[\"F24\"] = \"f24\";\n    Input[\"NumLock\"] = \"num lock\";\n    Input[\"ScrollLock\"] = \"scroll lock\";\n    Input[\"CircumflexAccent\"] = \"^\";\n    Input[\"ExclamationMark\"] = \"!\";\n    Input[\"Hash\"] = \"#\";\n    Input[\"Dollar\"] = \"$\";\n    Input[\"AccentU\"] = \"\\u00F9\";\n    Input[\"PageBackward\"] = \"page backward\";\n    Input[\"PageForWard\"] = \"page forward\";\n    Input[\"Star\"] = \"*\";\n    Input[\"DecreaseVolume\"] = \"decrease volume level\";\n    Input[\"IncreaseVolume\"] = \"increase volume level\";\n    Input[\"Next\"] = \"next\";\n    Input[\"Previous\"] = \"previous\";\n    Input[\"Stop\"] = \"stop\";\n    Input[\"PlayPause\"] = \"play/pause\";\n    Input[\"Email\"] = \"e-mail\";\n    Input[\"SemiColon\"] = \"semi-colon / \\u00F1\";\n    Input[\"EqualSign\"] = \"equal sign\";\n    Input[\"Comma\"] = \"comma\";\n    Input[\"Dash\"] = \"dash\";\n    Input[\"FowardSlach\"] = \"forward slash / \\u00E7\";\n    Input[\"GraveAccent\"] = \"grave accent / \\u00F1 / \\u00E6\";\n    Input[\"OpenBracket\"] = \"open bracket\";\n    Input[\"BackSlach\"] = \"back slash\";\n    Input[\"CloseBracket\"] = \"close bracket / \\u00E5\";\n    Input[\"SingleQuote\"] = \"single quote / \\u00F8\";\n    Input[\"BackQuote\"] = \"`\";\n    Input[\"Altgr\"] = \"altgr\";\n})(Input = exports.Input || (exports.Input = {}));\n//# sourceMappingURL=Input.js.map\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/common/lib/Input.js?");

/***/ }),

/***/ "./node_modules/@rpgjs/common/lib/Logger.js":
/*!**************************************************!*\
  !*** ./node_modules/@rpgjs/common/lib/Logger.js ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.warning = exports.log = void 0;\nfunction log(message) {\n    return new Error(`[RPGJS] - ${message}`);\n}\nexports.log = log;\nfunction warning(...message) {\n    console.warn('[RPGJS Warning]', ...message);\n}\nexports.warning = warning;\n//# sourceMappingURL=Logger.js.map\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/common/lib/Logger.js?");

/***/ }),

/***/ "./node_modules/@rpgjs/common/lib/Map.js":
/*!***********************************************!*\
  !*** ./node_modules/@rpgjs/common/lib/Map.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst Utils_1 = __webpack_require__(/*! ./Utils */ \"./node_modules/@rpgjs/common/lib/Utils.js\");\nconst Shape_1 = __webpack_require__(/*! ./Shape */ \"./node_modules/@rpgjs/common/lib/Shape.js\");\nconst buffer = new Map();\nclass RpgCommonMap {\n    constructor() {\n        this.width = 0;\n        this.height = 0;\n        this.tileWidth = 0;\n        this.tileHeight = 0;\n        this.layers = [];\n        this.shapes = [];\n    }\n    static get buffer() {\n        return buffer;\n    }\n    load(data) {\n        this.data = data;\n        this.width = data.width;\n        this.tileWidth = data.tileWidth;\n        this.tileHeight = data.tileHeight;\n        this.height = data.height;\n        this.layers = data.layers;\n        this._extractShapes();\n    }\n    get widthPx() {\n        return this.width * this.tileWidth;\n    }\n    get heightPx() {\n        return this.height * this.tileHeight;\n    }\n    get zTileHeight() {\n        return this.tileHeight;\n    }\n    _extractShapes() {\n        for (let layer of this.layers) {\n            if (layer.type != 'object')\n                continue;\n            for (let obj of layer.objects) {\n                this.createShape(obj);\n            }\n        }\n    }\n    createShape(obj) {\n        obj.name = (obj.name || Utils_1.generateUID());\n        const shape = new Shape_1.Shape(obj);\n        this.shapes.push(shape);\n        return shape;\n    }\n    removeShape(name) {\n        // TODO: out players after delete shape\n        this.shapes = this.shapes.filter(shape => shape.name != name);\n    }\n    getShapes() {\n        return this.shapes;\n    }\n    getPositionByShape(filter) {\n        const startsFind = this.getShapes().filter(filter);\n        if (startsFind.length) {\n            const start = startsFind[Utils_1.random(0, startsFind.length - 1)];\n            return { x: start.hitbox.x, y: start.hitbox.y, z: start.properties.z * this.zTileHeight || 0 };\n        }\n        return null;\n    }\n    getTileIndex(x, y, [z]) {\n        return this.width * Math.floor((y - z) / this.tileHeight) + Math.floor(x / this.tileWidth);\n    }\n    getTileByIndex(tileIndex, zPlayer) {\n        const tiles = [];\n        for (let layer of this.layers) {\n            if (layer.type != 'tile') {\n                continue;\n            }\n            const _tiles = layer.tiles[tileIndex];\n            if (!_tiles) {\n                continue;\n            }\n            const zLayer = layer.properties.z;\n            const zTile = _tiles.properties.z;\n            let z, zIntersection;\n            if (zLayer !== undefined) {\n                z = zLayer + (zTile !== undefined ? zTile : 0);\n            }\n            else if (zTile !== undefined) {\n                z = zTile;\n            }\n            if (z !== undefined) {\n                const realZ = z * this.tileHeight;\n                zIntersection = Utils_1.intersection(zPlayer, [realZ, realZ + this.tileHeight]);\n            }\n            if (zIntersection !== undefined) {\n                if (zIntersection)\n                    tiles.push(_tiles);\n            }\n            else {\n                tiles.push(_tiles);\n            }\n        }\n        const getLastTile = tiles[tiles.length - 1];\n        if (!getLastTile) {\n            return {\n                tiles,\n                hasCollision: true,\n                isOverlay: false,\n                objectGroups: []\n            };\n        }\n        const hasCollision = getLastTile.properties.collision;\n        const isOverlay = getLastTile.properties.overlay;\n        const isClimbable = getLastTile.properties.climb;\n        const objectGroups = getLastTile.objectGroups;\n        return {\n            tiles,\n            hasCollision,\n            isOverlay,\n            objectGroups,\n            isClimbable\n        };\n    }\n    getTileOriginPosition(x, y) {\n        return {\n            x: Math.floor(x / this.tileWidth) * this.tileWidth,\n            y: Math.floor(y / this.tileHeight) * this.tileHeight\n        };\n    }\n    getTileByPosition(x, y, z) {\n        const tileIndex = this.getTileIndex(x, y, z);\n        return this.getTileByIndex(tileIndex, z);\n    }\n}\nexports.default = RpgCommonMap;\n//# sourceMappingURL=Map.js.map\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/common/lib/Map.js?");

/***/ }),

/***/ "./node_modules/@rpgjs/common/lib/Module.js":
/*!**************************************************!*\
  !*** ./node_modules/@rpgjs/common/lib/Module.js ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.loadModules = exports.RpgModule = void 0;\nconst Plugin_1 = __webpack_require__(/*! ./Plugin */ \"./node_modules/@rpgjs/common/lib/Plugin.js\");\nconst Utils_1 = __webpack_require__(/*! ./Utils */ \"./node_modules/@rpgjs/common/lib/Utils.js\");\nconst Logger_1 = __webpack_require__(/*! ./Logger */ \"./node_modules/@rpgjs/common/lib/Logger.js\");\nvar Side;\n(function (Side) {\n    Side[\"Server\"] = \"server\";\n    Side[\"Client\"] = \"client\";\n})(Side || (Side = {}));\nfunction RpgModule(options) {\n    return (target) => {\n        for (let key in options) {\n            target.prototype[key] = options[key];\n        }\n    };\n}\nexports.RpgModule = RpgModule;\nfunction loadModules(modules, obj) {\n    const { side, relations } = obj;\n    for (let module of modules) {\n        if (!module)\n            continue;\n        let plug = [];\n        if (!Utils_1.isArray(module)) {\n            plug = [module];\n        }\n        else {\n            plug = module;\n        }\n        const [moduleClassSides, options] = plug;\n        const moduleClass = moduleClassSides[side];\n        if (!moduleClass)\n            continue;\n        let mod;\n        if (options && side == Side.Client && options[Side.Server]) {\n            Logger_1.warning(`Data that may be sensitive (normally visible only on the server side) are made optional and visible on the client side.\\nInstead, import the configuration with the server! flag into an import. Example: \\n\\nimport config from 'server!./config\\n\\n'`, options[Side.Server]);\n        }\n        if (options && !Utils_1.isClass(moduleClass) && Utils_1.isFunction(moduleClass)) {\n            mod = new (moduleClass(options[side]))();\n        }\n        else if (Utils_1.isClass(moduleClass)) {\n            mod = new moduleClass();\n        }\n        else {\n            mod = moduleClass;\n        }\n        const { imports, maps, spritesheets, sounds, gui, scenes, engine, database } = mod;\n        if (imports) {\n            loadModules(imports, obj);\n        }\n        if (maps) {\n            Plugin_1.RpgPlugin.on(Plugin_1.HookServer.AddMap, () => maps);\n        }\n        if (database) {\n            Plugin_1.RpgPlugin.on(Plugin_1.HookServer.AddDatabase, () => database);\n        }\n        if (spritesheets) {\n            Plugin_1.RpgPlugin.on(Plugin_1.HookClient.AddSpriteSheet, () => spritesheets);\n        }\n        if (sounds) {\n            Plugin_1.RpgPlugin.on(Plugin_1.HookClient.AddSound, () => sounds);\n        }\n        if (gui) {\n            Plugin_1.RpgPlugin.on(Plugin_1.HookClient.AddGui, () => gui);\n        }\n        const player = side == Side.Server ? mod.player : mod.sprite;\n        const loadRelations = (hook, relatioName) => {\n            if (hook) {\n                for (let method in relations[relatioName]) {\n                    const hookName = relations[relatioName][method];\n                    if (hook[method])\n                        Plugin_1.RpgPlugin.on(hookName, hook[method]);\n                }\n            }\n        };\n        loadRelations(player, 'player');\n        loadRelations(engine, 'engine');\n        if (scenes)\n            loadRelations(scenes.map, 'sceneMap');\n    }\n}\nexports.loadModules = loadModules;\n//# sourceMappingURL=Module.js.map\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/common/lib/Module.js?");

/***/ }),

/***/ "./node_modules/@rpgjs/common/lib/Player.js":
/*!**************************************************!*\
  !*** ./node_modules/@rpgjs/common/lib/Player.js ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RpgCommonPlayer = exports.PlayerType = exports.Direction = void 0;\nconst Utils_1 = __webpack_require__(/*! ./Utils */ \"./node_modules/@rpgjs/common/lib/Utils.js\");\nconst Hit_1 = __webpack_require__(/*! ./Hit */ \"./node_modules/@rpgjs/common/lib/Hit.js\");\nconst sat_1 = __importDefault(__webpack_require__(/*! sat */ \"sat\"));\nconst Map_1 = __importDefault(__webpack_require__(/*! ./Map */ \"./node_modules/@rpgjs/common/lib/Map.js\"));\nconst ACTIONS = { IDLE: 0, RUN: 1, ACTION: 2 };\nvar Direction;\n(function (Direction) {\n    Direction[\"Up\"] = \"up\";\n    Direction[\"Down\"] = \"down\";\n    Direction[\"Left\"] = \"left\";\n    Direction[\"Right\"] = \"right\";\n})(Direction = exports.Direction || (exports.Direction = {}));\nvar PlayerType;\n(function (PlayerType) {\n    PlayerType[\"Player\"] = \"player\";\n    PlayerType[\"Event\"] = \"event\";\n})(PlayerType = exports.PlayerType || (exports.PlayerType = {}));\nclass RpgCommonPlayer {\n    constructor(gameEngine, playerId) {\n        this.gameEngine = gameEngine;\n        this.playerId = playerId;\n        this.map = '';\n        this.graphic = '';\n        this.height = 0;\n        this.width = 0;\n        this.events = [];\n        this.direction = 0;\n        this.collisionWith = [];\n        this.data = {};\n        this.inShapes = {};\n        this.inVision = {};\n        this._hitboxPos = new sat_1.default.Vector(0, 0);\n        this.setHitbox(this.width, this.height);\n        this.position = { x: 0, y: 0, z: 0 };\n    }\n    static get ACTIONS() {\n        return ACTIONS;\n    }\n    get id() {\n        return this.playerId;\n    }\n    set id(str) {\n        this.playerId = str;\n    }\n    /**\n     * Get/Set position x, y and z of player\n     *\n     * z is the depth layer. By default, its value is 0. Collisions and overlays will be performed with other objects on the same z-position.\n     *\n     * @title Get/Set position\n     * @prop { { x: number, y: number, z: number } } position\n     * @memberof Player\n     */\n    set position(val) {\n        const { x, y, z } = val;\n        this._hitboxPos.x = x;\n        this._hitboxPos.y = y;\n        this._hitboxPos.z = z;\n        if (this.steerable) {\n            this.steerable.position.copy(this.getVector3D(x, z, y));\n        }\n        this._position = new Proxy(val, {\n            get: (target, prop) => target[prop],\n            set: (target, prop, value) => {\n                this._hitboxPos[prop] = value;\n                if (this.steerable) {\n                    this.steerable[prop] = value;\n                }\n                target[prop] = value;\n                return true;\n            }\n        });\n    }\n    get position() {\n        return this._position;\n    }\n    set posX(val) {\n        this.position.x = val;\n    }\n    set posY(val) {\n        this.position.y = val;\n    }\n    set posZ(val) {\n        this.position.z = val;\n    }\n    get mapInstance() {\n        return Map_1.default.buffer.get(this.map);\n    }\n    /**\n     * Define the size of the player. You can set the hitbox for collisions\n     *\n     * ```ts\n     * player.setSizes({\n     *      width: 32,\n     *      height: 32\n     * })\n     * ```\n     *\n     * and with hitbox:\n     *\n     *  ```ts\n     * player.setSizes({\n     *      width: 32,\n     *      height: 32,\n     *      hitbox: {\n     *          width: 20,\n     *          height: 20\n     *      }\n     * })\n     * ```\n     *\n     * @title Set Sizes\n     * @method player.setSizes(key,value)\n     * @param { { width: number, height: number, hitbox?: { width: number, height: number } } } obj\n     * @deprecated\n     * @returns {void}\n     * @memberof Player\n     */\n    setSizes(obj) {\n        this.width = obj.width;\n        this.height = obj.height;\n        if (obj.hitbox) {\n            this.hitbox = new sat_1.default.Box(this._hitboxPos, obj.hitbox.width, obj.hitbox.height);\n        }\n    }\n    /**\n     * Define the hitbox of the player.\n     *\n     * ```ts\n     * player.setHitbox({\n     *      width: 20,\n     *      height: 20\n     * })\n     * ```\n     *\n     * @title Set Hitbox\n     * @method player.setHitbox(width,height)\n     * @param {number} width\n     * @param {number} height\n     * @returns {void}\n     * @memberof Player\n     */\n    setHitbox(width, height) {\n        const map = this.mapInstance;\n        if (map) {\n            this.width = map.tileWidth;\n            this.height = map.tileHeight;\n        }\n        this.hitbox = new sat_1.default.Box(this._hitboxPos, width, height);\n        this.wHitbox = width;\n        this.hHitbox = height;\n    }\n    set wHitbox(val) {\n        this.hitbox.w = val;\n    }\n    set hHitbox(val) {\n        this.hitbox.h = val;\n    }\n    get wHitbox() {\n        return this.hitbox.w;\n    }\n    get hHitbox() {\n        return this.hitbox.h;\n    }\n    get visionHitbox() {\n        if (!this.vision.type)\n            return null;\n        const x = this.position.x - (this.vision.width / 2 - this.wHitbox / 2);\n        const y = this.position.y - (this.vision.height / 2 - this.hHitbox / 2);\n        return Hit_1.Hit.getHitbox(Object.assign(Object.assign({}, this.vision), { x,\n            y }));\n    }\n    defineNextPosition(direction) {\n        switch (direction) {\n            case Direction.Left:\n                return {\n                    x: this.position.x - this.speed,\n                    y: this.position.y,\n                    z: this.position.z\n                };\n            case Direction.Right:\n                return {\n                    x: this.position.x + this.speed,\n                    y: this.position.y,\n                    z: this.position.z\n                };\n            case Direction.Up:\n                return {\n                    x: this.position.x,\n                    y: this.position.y - this.speed,\n                    z: this.position.z\n                };\n            case Direction.Down:\n                return {\n                    x: this.position.x,\n                    y: this.position.y + this.speed,\n                    z: this.position.z\n                };\n        }\n        return this.position;\n    }\n    setPosition({ x, y, tileX, tileY }, move = true) {\n        const { tileWidth, tileHeight } = this.mapInstance;\n        if (x !== undefined)\n            this.posX = x;\n        if (y !== undefined)\n            this.posY = y;\n        if (tileX !== undefined)\n            this.posX = tileX * tileWidth;\n        if (tileY !== undefined)\n            this.posY = tileY * tileHeight;\n    }\n    triggerCollisionWith(type) {\n        for (let collisionWith of this.collisionWith) {\n            const { properties } = collisionWith;\n            if (type == RpgCommonPlayer.ACTIONS.ACTION) {\n                if (collisionWith.onAction)\n                    collisionWith.execMethod('onAction', [this]);\n            }\n            else if (collisionWith.onPlayerTouch)\n                collisionWith.execMethod('onPlayerTouch', [this]);\n            else if (properties) {\n                if (properties['go-map'] && this['changeMap'])\n                    this['changeMap'](properties['go-map']);\n            }\n        }\n    }\n    zCollision(other) {\n        const z = this.position.z;\n        const otherZ = other.position.z;\n        return Utils_1.intersection([z, z + this.height], [otherZ, otherZ + other.height]);\n    }\n    moveByDirection(direction) {\n        const nextPosition = this.defineNextPosition(direction);\n        return this.move(nextPosition);\n    }\n    isCollided(nextPosition) {\n        this.collisionWith = [];\n        const map = this.mapInstance;\n        const hitbox = Hit_1.Hit.createObjectHitbox(nextPosition.x, nextPosition.y, 0, this.hitbox.w, this.hitbox.h);\n        if (!map) {\n            return true;\n        }\n        if (nextPosition.x < 0) {\n            this.posX = 0;\n            return true;\n        }\n        if (nextPosition.y < 0) {\n            this.posY = 0;\n            return true;\n        }\n        if (nextPosition.x > map.widthPx - this.hitbox.w) {\n            this.posX = map.widthPx - this.hitbox.w;\n            return true;\n        }\n        if (nextPosition.y > map.heightPx - this.hitbox.h) {\n            this.posY = map.heightPx - this.hitbox.h;\n            return true;\n        }\n        let isClimbable = false;\n        const tileCollision = (x, y) => {\n            const tile = map.getTileByPosition(x, y, [nextPosition.z, this.height]);\n            const tilePos = map.getTileOriginPosition(x, y);\n            if (tile.hasCollision) {\n                return true;\n            }\n            else if (tile.objectGroups) {\n                for (let object of tile.objectGroups) {\n                    const hit = Hit_1.Hit.getHitbox(object, {\n                        x: tilePos.x,\n                        y: tilePos.y\n                    });\n                    const collided = Hit_1.Hit.testPolyCollision(hit.type, hit.hitbox, hitbox);\n                    if (collided) {\n                        return true;\n                    }\n                }\n            }\n            if (!isClimbable && tile.isClimbable) {\n                isClimbable = true;\n            }\n            return false;\n        };\n        if (tileCollision(nextPosition.x, nextPosition.y) ||\n            tileCollision(nextPosition.x + this.hitbox.w, nextPosition.y) ||\n            tileCollision(nextPosition.x, nextPosition.y + this.hitbox.h) ||\n            tileCollision(nextPosition.x + this.hitbox.w, nextPosition.y + this.hitbox.h)) {\n            return true;\n        }\n        let events = this.gameEngine.world.getObjectsOfGroup(this.map, this);\n        const inArea = (player1, player2) => {\n            var _a;\n            if (player1.vision && player1.vision.type) {\n                const playerInVision = Hit_1.Hit.testPolyCollision('box', player2.hitbox, (_a = player1.visionHitbox) === null || _a === void 0 ? void 0 : _a.hitbox);\n                if (playerInVision && !player1.inVision[player2.id]) {\n                    player1.inVision[player2.id] = true;\n                    if (player1.execMethod)\n                        player1.execMethod('onInVision', [player2]);\n                }\n                if (!playerInVision && player1.inVision[player2.id]) {\n                    delete player1.inVision[player2.id];\n                    if (player1.execMethod)\n                        player1.execMethod('onOutVision', [player2]);\n                }\n            }\n        };\n        for (let event of events) {\n            if (event.id == this.id)\n                continue;\n            if (!this.zCollision(event))\n                continue;\n            const collided = Hit_1.Hit.testPolyCollision('box', hitbox, event.hitbox);\n            inArea(event, this);\n            inArea(this, event);\n            if (collided) {\n                this.collisionWith.push(event);\n                this.triggerCollisionWith();\n                let throughOtherPlayer = false;\n                if (event.type == PlayerType.Player && this.type == PlayerType.Player) {\n                    if (!(event.throughOtherPlayer || this.throughOtherPlayer)) {\n                        return true;\n                    }\n                    else {\n                        throughOtherPlayer = true;\n                    }\n                }\n                if (!throughOtherPlayer && (!(event.through || this.through)))\n                    return true;\n            }\n        }\n        const shapes = map.getShapes();\n        for (let shape of shapes) {\n            const { collision, z } = shape.properties;\n            if (shape.isShapePosition())\n                continue;\n            if (z !== undefined && !this.zCollision({\n                position: { z },\n                height: map.tileHeight\n            })) {\n                continue;\n            }\n            const hitbox = Hit_1.Hit.createObjectHitbox(nextPosition.x, nextPosition.y, nextPosition.z, this.hitbox.w, this.hitbox.h);\n            let collided = Hit_1.Hit.testPolyCollision(shape.type, hitbox, shape.hitbox);\n            if (collided) {\n                this.collisionWith.push(shape);\n                // TODO: in shape after map load\n                if (!collision)\n                    shape.in(this);\n                this.triggerCollisionWith();\n                if (collision)\n                    return true;\n            }\n            else {\n                shape.out(this);\n            }\n        }\n        return false;\n    }\n    move(nextPosition, testCollision = true) {\n        {\n            const { x, y } = this.position;\n            const { x: nx, y: ny } = nextPosition;\n            if (Math.abs(x - nx) > Math.abs(y - ny)) {\n                if (nx > x) {\n                    this.changeDirection(Direction.Right);\n                }\n                else {\n                    this.changeDirection(Direction.Left);\n                }\n            }\n            else {\n                if (ny > y) {\n                    this.changeDirection(Direction.Down);\n                }\n                else {\n                    this.changeDirection(Direction.Up);\n                }\n            }\n        }\n        if (testCollision && !this.isCollided(nextPosition)) {\n            this.position = nextPosition;\n        }\n        return true;\n    }\n    getInShapes() {\n        return Object.values(this.inShapes);\n    }\n    /**\n    * Get the current direction.\n    *\n    * ```ts\n    * player.getDirection()\n    * ```\n    *\n    * @title Get Direction\n    * @method player.getDirection()\n    * @returns {string} left, right, up or down\n    * @memberof Player\n    */\n    getDirection(direction) {\n        const currentDir = direction || this.direction;\n        if (!Utils_1.isString(currentDir)) {\n            return [Direction.Down, Direction.Left, Direction.Right, Direction.Up][currentDir];\n        }\n        const dir = {\n            [Direction.Down]: 0,\n            [Direction.Left]: 1,\n            [Direction.Right]: 2,\n            [Direction.Up]: 3\n        };\n        return dir[currentDir];\n    }\n    /**\n    * Changes the player's direction\n    *\n    * ```ts\n    * import { Direction } from '@rpgjs/server'\nimport { Shape } from './Shape';\n    *\n    * player.changeDirection(Direction.Left)\n    * ```\n    *\n    * @title Change direction\n    * @method player.changeDirection(direction)\n    * @param {Direction} direction\n    * @enum {string}\n    *\n    * Direction.Left | left\n    * Direction.Right | right\n    * Direction.Up | up\n    * Direction.Down | down\n    * @returns {boolean} the direction has changed\n    * @memberof Player\n    */\n    changeDirection(direction) {\n        const dir = +this.getDirection(direction);\n        if (dir === undefined)\n            return false;\n        this.direction = dir;\n        return true;\n    }\n    /**\n     * Gets the necessary number of pixels to allow the player to cross a tile.\n     * This is the ratio between the height or width of the tile and the speed of the player.\n     */\n    get nbPixelInTile() {\n        const direction = this.getDirection();\n        switch (direction) {\n            case Direction.Down:\n            case Direction.Up:\n                return this.mapInstance.tileHeight / this.speed;\n            case Direction.Left:\n            case Direction.Right:\n                return this.mapInstance.tileWidth / this.speed;\n            default:\n                return NaN;\n        }\n    }\n    execMethod(methodName, methodData, instance) { }\n}\nexports.RpgCommonPlayer = RpgCommonPlayer;\n//# sourceMappingURL=Player.js.map\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/common/lib/Player.js?");

/***/ }),

/***/ "./node_modules/@rpgjs/common/lib/Plugin.js":
/*!**************************************************!*\
  !*** ./node_modules/@rpgjs/common/lib/Plugin.js ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RpgPlugin = exports.PluginSystem = exports.HookClient = exports.HookServer = void 0;\nconst EventEmitter_1 = __webpack_require__(/*! ./EventEmitter */ \"./node_modules/@rpgjs/common/lib/EventEmitter.js\");\nconst Utils_1 = __webpack_require__(/*! ./Utils */ \"./node_modules/@rpgjs/common/lib/Utils.js\");\nvar HookServer;\n(function (HookServer) {\n    HookServer[\"Start\"] = \"Server.Start\";\n    HookServer[\"PlayerConnected\"] = \"Server.onConnected\";\n    HookServer[\"PlayerDisconnected\"] = \"Server.onDisconnected\";\n    HookServer[\"AddMap\"] = \"Server.AddMap\";\n    HookServer[\"AddDatabase\"] = \"Server.AddDatabase\";\n    HookServer[\"PlayerInVision\"] = \"Server.onInVision\";\n    HookServer[\"PlayerOutVision\"] = \"Server.onOutVision\";\n    HookServer[\"PlayerInput\"] = \"Server.onInput\";\n    HookServer[\"PlayerJoinMap\"] = \"Server.onJoinMap\";\n    HookServer[\"PlayerLeaveMap\"] = \"Server.onLeaveMap\";\n    HookServer[\"PlayerLevelUp\"] = \"Server.onLevelUp\";\n    HookServer[\"PlayerDead\"] = \"Server.onDead\";\n    HookServer[\"PlayerInShape\"] = \"Server.onInShape\";\n    HookServer[\"PlayerOutShape\"] = \"Server.onOutShape\";\n})(HookServer = exports.HookServer || (exports.HookServer = {}));\nvar HookClient;\n(function (HookClient) {\n    HookClient[\"Start\"] = \"Client.Start\";\n    HookClient[\"Step\"] = \"Client.Step\";\n    HookClient[\"Connected\"] = \"Client.Connected\";\n    HookClient[\"Disconnect\"] = \"Client.Disconnect\";\n    HookClient[\"ConnectedError\"] = \"Client.ConnectedError\";\n    HookClient[\"AddSpriteSheet\"] = \"Client.AddSpriteSheet\";\n    HookClient[\"AddGui\"] = \"Client.AddGui\";\n    HookClient[\"AddSound\"] = \"Client.AddSound\";\n    HookClient[\"SendInput\"] = \"Client.SendInput\";\n    HookClient[\"BeforeSceneLoading\"] = \"Client.BeforeSceneLoading\";\n    HookClient[\"AfterSceneLoading\"] = \"Client.AfterSceneLoading\";\n    HookClient[\"SceneMapLoading\"] = \"Client.SceneMapLoading\";\n    HookClient[\"SceneAddSprite\"] = \"Client.SceneAddSprite\";\n    HookClient[\"SceneOnChanges\"] = \"Client.SceneOnChanges\";\n    HookClient[\"SceneDraw\"] = \"Client.SceneDraw\";\n    HookClient[\"SceneRemoveSprite\"] = \"Client.SceneRemoveSprite\";\n    HookClient[\"AddSprite\"] = \"Client.AddSprite\";\n    HookClient[\"RemoveSprite\"] = \"Client.RemoveSprite\";\n    HookClient[\"UpdateSprite\"] = \"Client.UpdateSprite\";\n    HookClient[\"ChangesSprite\"] = \"Client.ChangesSprite\";\n    HookClient[\"WindowResize\"] = \"Client.WindowResize\";\n})(HookClient = exports.HookClient || (exports.HookClient = {}));\n// deprecated\nclass PluginSystem extends EventEmitter_1.EventEmitter {\n    loadPlugins(plugins, shared, type) {\n        if (!plugins)\n            return;\n        for (let plugin of plugins) {\n            if (!plugin)\n                continue;\n            let plug = [];\n            if (!Utils_1.isArray(plugin)) {\n                plug = [plugin];\n            }\n            else {\n                plug = plugin;\n            }\n            const [side, options] = plug;\n            if (!side[type])\n                continue;\n            side[type](Object.assign({ RpgPlugin: exports.RpgPlugin }, shared), options);\n        }\n    }\n    loadServerPlugins(plugins, shared) {\n        this.loadPlugins(plugins, shared, 'server');\n    }\n    loadClientPlugins(plugins, shared) {\n        this.loadPlugins(plugins, shared, 'client');\n    }\n}\nexports.PluginSystem = PluginSystem;\nexports.RpgPlugin = new PluginSystem();\n//# sourceMappingURL=Plugin.js.map\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/common/lib/Plugin.js?");

/***/ }),

/***/ "./node_modules/@rpgjs/common/lib/Scheduler.js":
/*!*****************************************************!*\
  !*** ./node_modules/@rpgjs/common/lib/Scheduler.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Scheduler = void 0;\nconst EventEmitter_1 = __webpack_require__(/*! ./EventEmitter */ \"./node_modules/@rpgjs/common/lib/EventEmitter.js\");\nconst SIXTY_PER_SEC = 1000 / 60;\nconst LOOP_SLOW_THRESH = 0.3;\nconst LOOP_SLOW_COUNT = 10;\n/**\n * Scheduler class\n *\n */\nclass Scheduler extends EventEmitter_1.EventEmitter {\n    /**\n     * schedule a function to be called\n     *\n     * @param {Object} options the options\n     * @param {Function} options.tick the function to be called\n     * @param {Number} options.period number of milliseconds between each invocation, not including the function's execution time\n     * @param {Number} options.delay number of milliseconds to add when delaying or hurrying the execution\n     */\n    constructor(options) {\n        super();\n        this.options = Object.assign({\n            tick: null,\n            period: SIXTY_PER_SEC,\n            delay: SIXTY_PER_SEC / 3\n        }, options);\n        this.nextExecTime = null;\n        this.requestedDelay = 0;\n        this.delayCounter = 0;\n    }\n    // in same cases, setTimeout is ignored by the browser,\n    // this is known to happen during the first 100ms of a touch event\n    // on android chrome.  Double-check the game loop using requestAnimationFrame\n    nextTickChecker() {\n        let currentTime = (new Date()).getTime();\n        if (currentTime > this.nextExecTime) {\n            this.delayCounter++;\n            this.callTick();\n            this.nextExecTime = currentTime + this.options.stepPeriod;\n        }\n        window.requestAnimationFrame(this.nextTickChecker.bind(this));\n    }\n    nextTick() {\n        let stepStartTime = (new Date()).getTime();\n        if (stepStartTime > this.nextExecTime + this.options.period * LOOP_SLOW_THRESH) {\n            this.delayCounter++;\n        }\n        else\n            this.delayCounter = 0;\n        this.callTick();\n        this.nextExecTime = stepStartTime + this.options.period + this.requestedDelay;\n        this.requestedDelay = 0;\n        setTimeout(this.nextTick.bind(this), this.nextExecTime - (new Date()).getTime());\n    }\n    callTick() {\n        if (this.delayCounter >= LOOP_SLOW_COUNT) {\n            this.emit('loopRunningSlow');\n            this.delayCounter = 0;\n        }\n        this.options.tick();\n    }\n    /**\n     * start the schedule\n     * @return {Scheduler} returns this scheduler instance\n     */\n    start() {\n        setTimeout(this.nextTick.bind(this));\n        if (typeof window === 'object' && typeof window.requestAnimationFrame === 'function')\n            window.requestAnimationFrame(this.nextTickChecker.bind(this));\n        return this;\n    }\n    /**\n     * delay next execution\n     */\n    delayTick() {\n        this.requestedDelay += this.options.delay;\n    }\n    /**\n     * hurry the next execution\n     */\n    hurryTick() {\n        this.requestedDelay -= this.options.delay;\n    }\n}\nexports.Scheduler = Scheduler;\n//# sourceMappingURL=Scheduler.js.map\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/common/lib/Scheduler.js?");

/***/ }),

/***/ "./node_modules/@rpgjs/common/lib/Shape.js":
/*!*************************************************!*\
  !*** ./node_modules/@rpgjs/common/lib/Shape.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Shape = void 0;\nconst Hit_1 = __webpack_require__(/*! ./Hit */ \"./node_modules/@rpgjs/common/lib/Hit.js\");\nclass Shape {\n    constructor(obj) {\n        this.properties = {};\n        this.type = 'box';\n        this.name = '';\n        this.playersIn = {};\n        this.set(obj);\n    }\n    isEvent() {\n        return this.type == 'event';\n    }\n    set(obj) {\n        const hit = Hit_1.Hit.getHitbox(obj);\n        Object.assign(this, hit);\n    }\n    in(player) {\n        if (!this.playerIsIn(player)) {\n            this.playersIn[player.id] = true;\n            player.inShapes[this.name] = this;\n            player.execMethod('onInShape', [this]);\n            player.execMethod('onIn', [player], this);\n            return true;\n        }\n        return false;\n    }\n    out(player) {\n        if (this.playerIsIn(player)) {\n            delete this.playersIn[player.id];\n            delete player.inShapes[this.name];\n            player.execMethod('onOutShape', [this]);\n            player.execMethod('onOut', [player], this);\n            return true;\n        }\n        return false;\n    }\n    playerIsIn(player) {\n        return !!this.playersIn[player.id];\n    }\n    isShapePosition() {\n        return !this.hitbox.w;\n    }\n}\nexports.Shape = Shape;\n//# sourceMappingURL=Shape.js.map\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/common/lib/Shape.js?");

/***/ }),

/***/ "./node_modules/@rpgjs/common/lib/Utils.js":
/*!*************************************************!*\
  !*** ./node_modules/@rpgjs/common/lib/Utils.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.perlin = exports.generateUID = exports.applyMixins = exports.arrayEquals = exports.capitalize = exports.intersection = exports.arrayFlat = exports.arrayUniq = exports.isInstanceOf = exports.isString = exports.isObject = exports.isArray = exports.isPromise = exports.isClass = exports.isFunction = exports.isBrowser = exports.random = void 0;\nfunction random(min, max) {\n    return Math.floor(Math.random() * (max - min + 1) + min);\n}\nexports.random = random;\nfunction isBrowser() {\n    return typeof window !== 'undefined';\n}\nexports.isBrowser = isBrowser;\nfunction isFunction(val) {\n    return {}.toString.call(val) === '[object Function]';\n}\nexports.isFunction = isFunction;\nfunction isClass(func) {\n    return typeof func === 'function'\n        && /^class\\s/.test(Function.prototype.toString.call(func));\n}\nexports.isClass = isClass;\nfunction isPromise(val) {\n    return isInstanceOf(val, Promise);\n}\nexports.isPromise = isPromise;\nfunction isArray(val) {\n    return isInstanceOf(val, Array);\n}\nexports.isArray = isArray;\nfunction isObject(val) {\n    return typeof val == 'object';\n}\nexports.isObject = isObject;\nfunction isString(val) {\n    return typeof val == 'string';\n}\nexports.isString = isString;\nfunction isInstanceOf(val, _class) {\n    return val instanceof _class;\n}\nexports.isInstanceOf = isInstanceOf;\nfunction arrayUniq(array) {\n    return [...new Set(array)];\n}\nexports.arrayUniq = arrayUniq;\nfunction arrayFlat(array) {\n    return array.reduce((acc, val) => acc.concat(val), []);\n}\nexports.arrayFlat = arrayFlat;\nfunction intersection([start1, end1], [start2, end2]) {\n    return (start1 >= start2 && start1 <= end2) || (start2 >= start1 && start2 < end1);\n}\nexports.intersection = intersection;\nfunction capitalize(s) {\n    if (typeof s !== 'string')\n        return '';\n    return s.charAt(0).toUpperCase() + s.slice(1);\n}\nexports.capitalize = capitalize;\nfunction arrayEquals(a, b) {\n    return a.length === b.length && a.every((v, i) => v === b[i]);\n}\nexports.arrayEquals = arrayEquals;\nfunction applyMixins(derivedCtor, baseCtors) {\n    baseCtors.forEach((baseCtor) => {\n        Object.getOwnPropertyNames(baseCtor.prototype).forEach((name) => {\n            const baseCtorName = Object.getOwnPropertyDescriptor(baseCtor.prototype, name);\n            if (!baseCtorName) {\n                return;\n            }\n            Object.defineProperty(derivedCtor.prototype, name, baseCtorName);\n        });\n    });\n}\nexports.applyMixins = applyMixins;\nfunction generateUID() {\n    let firstPart = (Math.random() * 46656) | 0;\n    let secondPart = (Math.random() * 46656) | 0;\n    firstPart = (\"000\" + firstPart.toString(36)).slice(-3);\n    secondPart = (\"000\" + secondPart.toString(36)).slice(-3);\n    return firstPart + secondPart;\n}\nexports.generateUID = generateUID;\nfunction perlin() {\n    let perlin = {\n        rand_vect: function () {\n            let theta = Math.random() * 2 * Math.PI;\n            return { x: Math.cos(theta), y: Math.sin(theta) };\n        },\n        dot_prod_grid: function (x, y, vx, vy) {\n            let g_vect;\n            let d_vect = { x: x - vx, y: y - vy };\n            if (this.gradients[`${vx},${vy}`]) {\n                g_vect = this.gradients[`${vx},${vy}`];\n            }\n            else {\n                g_vect = this.rand_vect();\n                this.gradients[`${vx},${vy}`] = g_vect;\n            }\n            return d_vect.x * g_vect.x + d_vect.y * g_vect.y;\n        },\n        smootherstep: function (x) {\n            return 6 * Math.pow(x, 5) - 15 * Math.pow(x, 4) + 10 * Math.pow(x, 3);\n        },\n        interp: function (x, a, b) {\n            return a + this.smootherstep(x) * (b - a);\n        },\n        seed: function () {\n            this.gradients = {};\n            this.memory = {};\n        },\n        get: function (x, y) {\n            if (this.memory.hasOwnProperty(`${x},${y}`))\n                return this.memory[`${x},${y}`];\n            let xf = Math.floor(x);\n            let yf = Math.floor(y);\n            //interpolate\n            let tl = this.dot_prod_grid(x, y, xf, yf);\n            let tr = this.dot_prod_grid(x, y, xf + 1, yf);\n            let bl = this.dot_prod_grid(x, y, xf, yf + 1);\n            let br = this.dot_prod_grid(x, y, xf + 1, yf + 1);\n            let xt = this.interp(x - xf, tl, tr);\n            let xb = this.interp(x - xf, bl, br);\n            let v = this.interp(y - yf, xt, xb);\n            this.memory[`${x},${y}`] = v;\n            return v;\n        }\n    };\n    perlin.seed();\n    return perlin;\n}\nexports.perlin = perlin;\nexports.default = {\n    random,\n    isBrowser,\n    isPromise,\n    isArray,\n    isObject,\n    isString,\n    isFunction,\n    isClass,\n    isInstanceOf,\n    arrayUniq,\n    arrayFlat,\n    arrayEquals,\n    intersection,\n    applyMixins,\n    capitalize,\n    perlin,\n    generateUID\n};\n//# sourceMappingURL=Utils.js.map\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/common/lib/Utils.js?");

/***/ }),

/***/ "./node_modules/@rpgjs/common/lib/gui/PrebuiltGui.js":
/*!***********************************************************!*\
  !*** ./node_modules/@rpgjs/common/lib/gui/PrebuiltGui.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PrebuiltGui = void 0;\n/**\n*\n* Pre-made GUIs already exist. For example, the command `player.showText()` displays the rpg-dialog component. It is up to you to customize the component or take advantage of the `@rpgjs/default-gui` module which already contains ready-made components\n*\n* @title Prebuilt GUI\n* @enum {string}\n*\n* PrebuiltGui.Dialog | rpg-dialog\n* PrebuiltGui.MainMenu | rpg-main-menu\n* PrebuiltGui.Shop | rpg-shop\n* PrebuiltGui.Disconnect | rpg-disconnect\n* PrebuiltGui.Gameover | rpg-gameover\n* PrebuiltGui.Save | rpg-save\n* PrebuiltGui.Controls | rpg-controls\n* PrebuiltGui.Notification | rpg-notification\n* @memberof PrebuiltGui\n* */\nvar PrebuiltGui;\n(function (PrebuiltGui) {\n    PrebuiltGui[\"Dialog\"] = \"rpg-dialog\";\n    PrebuiltGui[\"MainMenu\"] = \"rpg-main-menu\";\n    PrebuiltGui[\"Shop\"] = \"rpg-shop\";\n    PrebuiltGui[\"Disconnect\"] = \"rpg-disconnect\";\n    PrebuiltGui[\"Gameover\"] = \"rpg-gameover\";\n    PrebuiltGui[\"Save\"] = \"rpg-save\";\n    PrebuiltGui[\"Controls\"] = \"rpg-controls\";\n    PrebuiltGui[\"Notification\"] = \"rpg-notification\";\n})(PrebuiltGui = exports.PrebuiltGui || (exports.PrebuiltGui = {}));\n//# sourceMappingURL=PrebuiltGui.js.map\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/common/lib/gui/PrebuiltGui.js?");

/***/ }),

/***/ "./node_modules/@rpgjs/common/lib/index.js":
/*!*************************************************!*\
  !*** ./node_modules/@rpgjs/common/lib/index.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Logger = exports.loadModules = exports.RpgModule = exports.Hit = exports.Scheduler = exports.HookClient = exports.HookServer = exports.RpgPlugin = exports.MockIo = exports.Control = exports.Input = exports.PlayerType = exports.PrebuiltGui = exports.Direction = exports.TransportIo = exports.Utils = exports.EventEmitter = exports.RpgCommonGame = exports.RpgCommonMap = exports.RpgCommonEvent = exports.RpgCommonPlayer = void 0;\nconst Player_1 = __webpack_require__(/*! ./Player */ \"./node_modules/@rpgjs/common/lib/Player.js\");\nObject.defineProperty(exports, \"Direction\", { enumerable: true, get: function () { return Player_1.Direction; } });\nObject.defineProperty(exports, \"RpgCommonPlayer\", { enumerable: true, get: function () { return Player_1.RpgCommonPlayer; } });\nObject.defineProperty(exports, \"PlayerType\", { enumerable: true, get: function () { return Player_1.PlayerType; } });\nconst Event_1 = __importDefault(__webpack_require__(/*! ./Event */ \"./node_modules/@rpgjs/common/lib/Event.js\"));\nexports.RpgCommonEvent = Event_1.default;\nconst Map_1 = __importDefault(__webpack_require__(/*! ./Map */ \"./node_modules/@rpgjs/common/lib/Map.js\"));\nexports.RpgCommonMap = Map_1.default;\nconst Game_1 = __importDefault(__webpack_require__(/*! ./Game */ \"./node_modules/@rpgjs/common/lib/Game.js\"));\nexports.RpgCommonGame = Game_1.default;\nconst EventEmitter_1 = __webpack_require__(/*! ./EventEmitter */ \"./node_modules/@rpgjs/common/lib/EventEmitter.js\");\nObject.defineProperty(exports, \"EventEmitter\", { enumerable: true, get: function () { return EventEmitter_1.EventEmitter; } });\nconst PrebuiltGui_1 = __webpack_require__(/*! ./gui/PrebuiltGui */ \"./node_modules/@rpgjs/common/lib/gui/PrebuiltGui.js\");\nObject.defineProperty(exports, \"PrebuiltGui\", { enumerable: true, get: function () { return PrebuiltGui_1.PrebuiltGui; } });\nconst Utils_1 = __importDefault(__webpack_require__(/*! ./Utils */ \"./node_modules/@rpgjs/common/lib/Utils.js\"));\nexports.Utils = Utils_1.default;\nconst Plugin_1 = __webpack_require__(/*! ./Plugin */ \"./node_modules/@rpgjs/common/lib/Plugin.js\");\nObject.defineProperty(exports, \"RpgPlugin\", { enumerable: true, get: function () { return Plugin_1.RpgPlugin; } });\nObject.defineProperty(exports, \"HookServer\", { enumerable: true, get: function () { return Plugin_1.HookServer; } });\nObject.defineProperty(exports, \"HookClient\", { enumerable: true, get: function () { return Plugin_1.HookClient; } });\nconst TransportIo = __importStar(__webpack_require__(/*! ./transports/io */ \"./node_modules/@rpgjs/common/lib/transports/io.js\"));\nexports.TransportIo = TransportIo;\nconst Input_1 = __webpack_require__(/*! ./Input */ \"./node_modules/@rpgjs/common/lib/Input.js\");\nObject.defineProperty(exports, \"Input\", { enumerable: true, get: function () { return Input_1.Input; } });\nObject.defineProperty(exports, \"Control\", { enumerable: true, get: function () { return Input_1.Control; } });\nconst Hit_1 = __webpack_require__(/*! ./Hit */ \"./node_modules/@rpgjs/common/lib/Hit.js\");\nObject.defineProperty(exports, \"Hit\", { enumerable: true, get: function () { return Hit_1.Hit; } });\nconst Scheduler_1 = __webpack_require__(/*! ./Scheduler */ \"./node_modules/@rpgjs/common/lib/Scheduler.js\");\nObject.defineProperty(exports, \"Scheduler\", { enumerable: true, get: function () { return Scheduler_1.Scheduler; } });\nconst Module_1 = __webpack_require__(/*! ./Module */ \"./node_modules/@rpgjs/common/lib/Module.js\");\nObject.defineProperty(exports, \"RpgModule\", { enumerable: true, get: function () { return Module_1.RpgModule; } });\nObject.defineProperty(exports, \"loadModules\", { enumerable: true, get: function () { return Module_1.loadModules; } });\nconst MockIo = __importStar(__webpack_require__(/*! ./transports/io */ \"./node_modules/@rpgjs/common/lib/transports/io.js\"));\nexports.MockIo = MockIo;\nconst Logger = __importStar(__webpack_require__(/*! ./Logger */ \"./node_modules/@rpgjs/common/lib/Logger.js\"));\nexports.Logger = Logger;\n//# sourceMappingURL=index.js.map\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/common/lib/index.js?");

/***/ }),

/***/ "./node_modules/@rpgjs/common/lib/transports/io.js":
/*!*********************************************************!*\
  !*** ./node_modules/@rpgjs/common/lib/transports/io.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ClientIo = exports.serverIo = void 0;\nclass MockIo {\n    constructor() {\n        this.events = new Map();\n    }\n    on(name, value) {\n        this.events.set(name, value);\n    }\n    once(name, value) {\n        this.on(name, value);\n    }\n    _trigger(name, data, client) {\n        const fn = this.events.get(name);\n        if (fn)\n            fn(data, client);\n    }\n}\nclass MockSocket {\n    constructor(io) {\n        this.io = io;\n        this.id = '' + Math.random();\n    }\n    on(name, value) {\n        this.io.on(name, value, this.id);\n        return this;\n    }\n    emit(name, data) {\n        this.io.emit(name, data, this.id);\n    }\n}\nclass MockClientIo extends MockIo {\n    constructor() {\n        super(...arguments);\n        this.id = '';\n    }\n    connection() {\n        exports.serverIo.connection(this);\n        return this;\n    }\n    emit(name, data) {\n        exports.serverIo._trigger(name, data, this);\n        return this;\n    }\n}\nclass MockServerIo extends MockIo {\n    constructor() {\n        super(...arguments);\n        this.clients = new Map();\n    }\n    connection(client) {\n        const socket = new MockSocket(this);\n        this.clients.set(socket.id, client);\n        client.id = socket.id;\n        this._trigger('connection', socket);\n    }\n    emit(name, data, id) {\n        var _a;\n        (_a = this.clients.get(id)) === null || _a === void 0 ? void 0 : _a._trigger(name, data);\n    }\n}\nexports.serverIo = new MockServerIo();\nexports.ClientIo = MockClientIo;\n//# sourceMappingURL=io.js.map\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/common/lib/transports/io.js?");

/***/ }),

/***/ "./node_modules/@rpgjs/compiler/loaders/content.js!./node_modules/@rpgjs/starter-kit/src/server/database/index.ts":
/*!************************************************************************************************************************!*\
  !*** ./node_modules/@rpgjs/compiler/loaders/content.js!./node_modules/@rpgjs/starter-kit/src/server/database/index.ts ***!
  \************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst potion_1 = __webpack_require__(/*! ./items/potion */ \"./node_modules/@rpgjs/starter-kit/src/server/database/items/potion.ts\");\nconst key_1 = __webpack_require__(/*! ./items/key */ \"./node_modules/@rpgjs/starter-kit/src/server/database/items/key.ts\");\nconst paralyze_1 = __webpack_require__(/*! ./states/paralyze */ \"./node_modules/@rpgjs/starter-kit/src/server/database/states/paralyze.ts\");\nconst hero_1 = __webpack_require__(/*! ./actors/hero */ \"./node_modules/@rpgjs/starter-kit/src/server/database/actors/hero.ts\");\nconst sword_1 = __webpack_require__(/*! ./weapons/sword */ \"./node_modules/@rpgjs/starter-kit/src/server/database/weapons/sword.ts\");\nconst shield_1 = __webpack_require__(/*! ./armors/shield */ \"./node_modules/@rpgjs/starter-kit/src/server/database/armors/shield.ts\");\nconst monster_1 = __webpack_require__(/*! ./enemies/monster */ \"./node_modules/@rpgjs/starter-kit/src/server/database/enemies/monster.ts\");\nexports.default = {\n    Potion: potion_1.Potion,\n    Paralyze: paralyze_1.Paralyze,\n    Hero: hero_1.Hero,\n    Key: key_1.Key,\n    Sword: sword_1.Sword,\n    Shield: shield_1.Shield,\n    Monster: monster_1.Monster\n};\n\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/starter-kit/src/server/database/index.ts?./node_modules/@rpgjs/compiler/loaders/content.js");

/***/ }),

/***/ "./node_modules/@rpgjs/compiler/loaders/content.js!./node_modules/@rpgjs/starter-kit/src/server/index.ts":
/*!***************************************************************************************************************!*\
  !*** ./node_modules/@rpgjs/compiler/loaders/content.js!./node_modules/@rpgjs/starter-kit/src/server/index.ts ***!
  \***************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst server_1 = __webpack_require__(/*! @rpgjs/server */ \"./node_modules/@rpgjs/server/lib/index.js\");\nconst samplemap_1 = __webpack_require__(/*! ./maps/samplemap */ \"./node_modules/@rpgjs/starter-kit/src/server/maps/samplemap.ts\");\nconst mapz_1 = __webpack_require__(/*! ./maps/mapz */ \"./node_modules/@rpgjs/starter-kit/src/server/maps/mapz.ts\");\nconst cave_1 = __webpack_require__(/*! ./maps/cave */ \"./node_modules/@rpgjs/starter-kit/src/server/maps/cave.ts\");\nconst database_1 = __importDefault(__webpack_require__(/*! ./database */ \"./node_modules/@rpgjs/starter-kit/src/server/database/index.ts\"));\nlet serverEngine;\nlet RpgServerModule = class RpgServerModule {\n};\nRpgServerModule = __decorate([\n    server_1.RpgModule({\n        maps: [\n            samplemap_1.SampleMap,\n            mapz_1.MapZ,\n            cave_1.CaveMap,\n        ],\n        database: database_1.default,\n        player: {\n            onConnected(player) {\n                player.setHitbox(20, 16);\n                player.setGraphic('male1_2');\n                if (!serverEngine.globalConfig.startMap) {\n                    player.changeMap('medieval');\n                }\n                player.setActor(database_1.default.Hero);\n            }\n        },\n        engine: {\n            onStart(engine) {\n                serverEngine = engine;\n            }\n        }\n    })\n], RpgServerModule);\nexports.default = RpgServerModule;\n\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/starter-kit/src/server/index.ts?./node_modules/@rpgjs/compiler/loaders/content.js");

/***/ }),

/***/ "./node_modules/@rpgjs/compiler/loaders/content.js!./src/modules/main/server/index.ts":
/*!********************************************************************************************!*\
  !*** ./node_modules/@rpgjs/compiler/loaders/content.js!./src/modules/main/server/index.ts ***!
  \********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst server_1 = __webpack_require__(/*! @rpgjs/server */ \"./node_modules/@rpgjs/server/lib/index.js\");\nconst player_1 = __webpack_require__(/*! ./player */ \"./src/modules/main/server/player.ts\");\nlet RpgServerEngine = class RpgServerEngine {\n};\nRpgServerEngine = __decorate([\n    server_1.RpgModule({\n        player: player_1.player\n    })\n], RpgServerEngine);\nexports.default = RpgServerEngine;\n\n\n//# sourceURL=webpack:///./src/modules/main/server/index.ts?./node_modules/@rpgjs/compiler/loaders/content.js");

/***/ }),

/***/ "./node_modules/@rpgjs/compiler/loaders/null.js!./node_modules/@rpgjs/default-gui/src/client.ts":
/*!******************************************************************************************************!*\
  !*** ./node_modules/@rpgjs/compiler/loaders/null.js!./node_modules/@rpgjs/default-gui/src/client.ts ***!
  \******************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = null\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/default-gui/src/client.ts?./node_modules/@rpgjs/compiler/loaders/null.js");

/***/ }),

/***/ "./node_modules/@rpgjs/compiler/loaders/null.js!./node_modules/@rpgjs/gamepad/client/index.ts":
/*!****************************************************************************************************!*\
  !*** ./node_modules/@rpgjs/compiler/loaders/null.js!./node_modules/@rpgjs/gamepad/client/index.ts ***!
  \****************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = null\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/gamepad/client/index.ts?./node_modules/@rpgjs/compiler/loaders/null.js");

/***/ }),

/***/ "./node_modules/@rpgjs/compiler/loaders/null.js!./node_modules/@rpgjs/mobile-gui/src/client.ts":
/*!*****************************************************************************************************!*\
  !*** ./node_modules/@rpgjs/compiler/loaders/null.js!./node_modules/@rpgjs/mobile-gui/src/client.ts ***!
  \*****************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = null\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/mobile-gui/src/client.ts?./node_modules/@rpgjs/compiler/loaders/null.js");

/***/ }),

/***/ "./node_modules/@rpgjs/compiler/loaders/null.js!./node_modules/@rpgjs/starter-kit/src/client/index.ts":
/*!************************************************************************************************************!*\
  !*** ./node_modules/@rpgjs/compiler/loaders/null.js!./node_modules/@rpgjs/starter-kit/src/client/index.ts ***!
  \************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = null\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/starter-kit/src/client/index.ts?./node_modules/@rpgjs/compiler/loaders/null.js");

/***/ }),

/***/ "./node_modules/@rpgjs/compiler/loaders/null.js!./src/modules/main/client/index.ts":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@rpgjs/compiler/loaders/null.js!./src/modules/main/client/index.ts ***!
  \*****************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = null\n\n//# sourceURL=webpack:///./src/modules/main/client/index.ts?./node_modules/@rpgjs/compiler/loaders/null.js");

/***/ }),

/***/ "./node_modules/@rpgjs/database/lib/actor.js":
/*!***************************************************!*\
  !*** ./node_modules/@rpgjs/database/lib/actor.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Actor = void 0;\nconst common_1 = __webpack_require__(/*! ./common */ \"./node_modules/@rpgjs/database/lib/common.js\");\nfunction Actor(options) {\n    return common_1.merge(options, 'actor');\n}\nexports.Actor = Actor;\n//# sourceMappingURL=actor.js.map\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/database/lib/actor.js?");

/***/ }),

/***/ "./node_modules/@rpgjs/database/lib/armor.js":
/*!***************************************************!*\
  !*** ./node_modules/@rpgjs/database/lib/armor.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Armor = void 0;\nconst common_1 = __webpack_require__(/*! ./common */ \"./node_modules/@rpgjs/database/lib/common.js\");\nfunction Armor(options) {\n    return common_1.merge(options, 'armor', {\n        price: options.price\n    });\n}\nexports.Armor = Armor;\n//# sourceMappingURL=armor.js.map\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/database/lib/armor.js?");

/***/ }),

/***/ "./node_modules/@rpgjs/database/lib/class.js":
/*!***************************************************!*\
  !*** ./node_modules/@rpgjs/database/lib/class.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Class = void 0;\nconst common_1 = __webpack_require__(/*! ./common */ \"./node_modules/@rpgjs/database/lib/common.js\");\nfunction Class(options) {\n    return common_1.merge(options, 'class');\n}\nexports.Class = Class;\n//# sourceMappingURL=class.js.map\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/database/lib/class.js?");

/***/ }),

/***/ "./node_modules/@rpgjs/database/lib/common.js":
/*!****************************************************!*\
  !*** ./node_modules/@rpgjs/database/lib/common.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.merge = void 0;\nfunction merge(options, type, _static = {}) {\n    const transformToRate = (optionName, propName) => {\n        if (options[optionName]) {\n            options[optionName] = options[optionName].map(element => {\n                if (!element.rate) {\n                    return {\n                        rate: 1,\n                        [propName]: element\n                    };\n                }\n                return element;\n            });\n        }\n    };\n    transformToRate('elements', 'element');\n    transformToRate('elementsDefense', 'element');\n    transformToRate('elementsEfficiency', 'element');\n    transformToRate('addStates', 'state');\n    transformToRate('removeStates', 'state');\n    transformToRate('statesDefense', 'state');\n    transformToRate('statesEfficiency', 'state');\n    return (target) => {\n        const id = options.id || target.name.toLowerCase();\n        target.id = id;\n        target.prototype.id = id;\n        target._type = type;\n        for (let key in _static) {\n            target[key] = options[key];\n        }\n        for (let key in options) {\n            target.prototype[key] = options[key];\n        }\n        target.prototype.toJSON = function () {\n            return this.id;\n        };\n    };\n}\nexports.merge = merge;\n//# sourceMappingURL=common.js.map\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/database/lib/common.js?");

/***/ }),

/***/ "./node_modules/@rpgjs/database/lib/effect.js":
/*!****************************************************!*\
  !*** ./node_modules/@rpgjs/database/lib/effect.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Effect = void 0;\n/**\n* @title Existing effects\n* @enum {string}\n*\n* Effect.NONE | No effect\n* Effect.CAN_NOT_SKILL | The player will not be able to use a skill. The `player.useSkill()` method will return an exception with the `RESTRICTION_SKILL` id\n* Effect.CAN_NOT_ITEM | The player may not use an item. The `player.useItem()` method will return an exception with the `RESTRICTION_ITEM` id\n* Effect.GUARD | The player goes on defense. When using applyDamage(), damage will be reduced using the damageGuard formula\n* Effect.SUPER_GUARD | Damage with the applyDamage() method will be divided by 4\n* Effect.HALF_SP_COST | The cost of the SP will be halved when calling the `useSkill()` method\n* @memberof Effect\n* */\nvar Effect;\n(function (Effect) {\n    Effect[\"NONE\"] = \"NONE\";\n    Effect[\"CAN_NOT_SKILL\"] = \"CAN_NOT_SKILL\";\n    Effect[\"CAN_NOT_ITEM\"] = \"CAN_NOT_ITEM\";\n    Effect[\"ALWAYS_ATTACK_ENEMIES\"] = \"ALWAYS_ATTACK_ENEMIES\";\n    Effect[\"CAN_NOT_EVADE\"] = \"CAN_NOT_EVADE\";\n    Effect[\"CAN_NOT_GET_EXP\"] = \"CAN_NOT_GET_EXP\";\n    Effect[\"CAN_NOT_GET_GOLD\"] = \"CAN_NOT_GET_GOLD\";\n    Effect[\"PHARMACOLOGY\"] = \"PHARMACOLOGY\";\n    // Increases the chances of making a critical hit\n    Effect[\"CRITICAL_BONUS\"] = \"CRITICAL_BONUS\";\n    Effect[\"SUPER_GUARD\"] = \"SUPER_GUARD\";\n    Effect[\"GUARD\"] = \"GUARD\";\n    // the chances of making a critical strike are set to 0\n    Effect[\"PREVENT_CRITICAL\"] = \"PREVENT_CRITICAL\";\n    Effect[\"HALF_SP_COST\"] = \"HALF_SP_COST\";\n    Effect[\"DOUBLE_EXP_GAIN\"] = \"DOUBLE_EXP_GAIN\";\n    Effect[\"AUTO_HP_RECOVER\"] = \"AUTO_HP_RECOVER\";\n    // He's the first to attack\n    Effect[\"FAST_ATTACK\"] = \"FAST_ATTACK\";\n    // The hero can attack twice\n    Effect[\"DUAL_ATTACK\"] = \"DUAL_ATTACK\";\n    // Each turn, the hero loses 10% of his health points.\n    Effect[\"SLIP_DAMAGE\"] = \"SLIP_DAMAGE\";\n})(Effect = exports.Effect || (exports.Effect = {}));\n//# sourceMappingURL=effect.js.map\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/database/lib/effect.js?");

/***/ }),

/***/ "./node_modules/@rpgjs/database/lib/enemy.js":
/*!***************************************************!*\
  !*** ./node_modules/@rpgjs/database/lib/enemy.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Enemy = void 0;\nconst common_1 = __webpack_require__(/*! ./common */ \"./node_modules/@rpgjs/database/lib/common.js\");\nfunction Enemy(options) {\n    return common_1.merge({\n        options\n    }, 'enemy');\n}\nexports.Enemy = Enemy;\n//# sourceMappingURL=enemy.js.map\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/database/lib/enemy.js?");

/***/ }),

/***/ "./node_modules/@rpgjs/database/lib/index.js":
/*!***************************************************!*\
  !*** ./node_modules/@rpgjs/database/lib/index.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Efficiency = exports.Enemy = exports.Armor = exports.Weapon = exports.Effect = exports.State = exports.Skill = exports.Class = exports.Actor = exports.Item = void 0;\nconst item_1 = __webpack_require__(/*! ./item */ \"./node_modules/@rpgjs/database/lib/item.js\");\nObject.defineProperty(exports, \"Item\", { enumerable: true, get: function () { return item_1.Item; } });\nconst actor_1 = __webpack_require__(/*! ./actor */ \"./node_modules/@rpgjs/database/lib/actor.js\");\nObject.defineProperty(exports, \"Actor\", { enumerable: true, get: function () { return actor_1.Actor; } });\nconst class_1 = __webpack_require__(/*! ./class */ \"./node_modules/@rpgjs/database/lib/class.js\");\nObject.defineProperty(exports, \"Class\", { enumerable: true, get: function () { return class_1.Class; } });\nconst skill_1 = __webpack_require__(/*! ./skill */ \"./node_modules/@rpgjs/database/lib/skill.js\");\nObject.defineProperty(exports, \"Skill\", { enumerable: true, get: function () { return skill_1.Skill; } });\nconst state_1 = __webpack_require__(/*! ./state */ \"./node_modules/@rpgjs/database/lib/state.js\");\nObject.defineProperty(exports, \"State\", { enumerable: true, get: function () { return state_1.State; } });\nconst weapon_1 = __webpack_require__(/*! ./weapon */ \"./node_modules/@rpgjs/database/lib/weapon.js\");\nObject.defineProperty(exports, \"Weapon\", { enumerable: true, get: function () { return weapon_1.Weapon; } });\nconst armor_1 = __webpack_require__(/*! ./armor */ \"./node_modules/@rpgjs/database/lib/armor.js\");\nObject.defineProperty(exports, \"Armor\", { enumerable: true, get: function () { return armor_1.Armor; } });\nconst enemy_1 = __webpack_require__(/*! ./enemy */ \"./node_modules/@rpgjs/database/lib/enemy.js\");\nObject.defineProperty(exports, \"Enemy\", { enumerable: true, get: function () { return enemy_1.Enemy; } });\nconst effect_1 = __webpack_require__(/*! ./effect */ \"./node_modules/@rpgjs/database/lib/effect.js\");\nObject.defineProperty(exports, \"Effect\", { enumerable: true, get: function () { return effect_1.Effect; } });\nconst efficiency_1 = __webpack_require__(/*! ./interfaces/efficiency */ \"./node_modules/@rpgjs/database/lib/interfaces/efficiency.js\");\nObject.defineProperty(exports, \"Efficiency\", { enumerable: true, get: function () { return efficiency_1.Efficiency; } });\n//# sourceMappingURL=index.js.map\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/database/lib/index.js?");

/***/ }),

/***/ "./node_modules/@rpgjs/database/lib/interfaces/efficiency.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@rpgjs/database/lib/interfaces/efficiency.js ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Efficiency = void 0;\nvar Efficiency;\n(function (Efficiency) {\n    Efficiency[Efficiency[\"VERY_VULNERABLE\"] = 2] = \"VERY_VULNERABLE\";\n    Efficiency[Efficiency[\"VULNERABLE\"] = 1.5] = \"VULNERABLE\";\n    Efficiency[Efficiency[\"NORMAL\"] = 1] = \"NORMAL\";\n    Efficiency[Efficiency[\"INVULNERABLE\"] = 0.5] = \"INVULNERABLE\";\n    Efficiency[Efficiency[\"PERFECT_INVULNERABLE\"] = 0] = \"PERFECT_INVULNERABLE\";\n    Efficiency[Efficiency[\"GAIN_HP\"] = -0.5] = \"GAIN_HP\";\n})(Efficiency = exports.Efficiency || (exports.Efficiency = {}));\n//# sourceMappingURL=efficiency.js.map\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/database/lib/interfaces/efficiency.js?");

/***/ }),

/***/ "./node_modules/@rpgjs/database/lib/item.js":
/*!**************************************************!*\
  !*** ./node_modules/@rpgjs/database/lib/item.js ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Item = void 0;\nconst common_1 = __webpack_require__(/*! ./common */ \"./node_modules/@rpgjs/database/lib/common.js\");\nfunction Item(options) {\n    return common_1.merge(options, 'item', {\n        price: options.price\n    });\n}\nexports.Item = Item;\n//# sourceMappingURL=item.js.map\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/database/lib/item.js?");

/***/ }),

/***/ "./node_modules/@rpgjs/database/lib/skill.js":
/*!***************************************************!*\
  !*** ./node_modules/@rpgjs/database/lib/skill.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Skill = void 0;\nconst common_1 = __webpack_require__(/*! ./common */ \"./node_modules/@rpgjs/database/lib/common.js\");\nfunction Skill(options) {\n    return common_1.merge(options, 'skill');\n}\nexports.Skill = Skill;\n//# sourceMappingURL=skill.js.map\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/database/lib/skill.js?");

/***/ }),

/***/ "./node_modules/@rpgjs/database/lib/state.js":
/*!***************************************************!*\
  !*** ./node_modules/@rpgjs/database/lib/state.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.State = void 0;\nconst common_1 = __webpack_require__(/*! ./common */ \"./node_modules/@rpgjs/database/lib/common.js\");\nfunction State(options) {\n    return common_1.merge(options, 'state');\n}\nexports.State = State;\n//# sourceMappingURL=state.js.map\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/database/lib/state.js?");

/***/ }),

/***/ "./node_modules/@rpgjs/database/lib/weapon.js":
/*!****************************************************!*\
  !*** ./node_modules/@rpgjs/database/lib/weapon.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Weapon = void 0;\nconst common_1 = __webpack_require__(/*! ./common */ \"./node_modules/@rpgjs/database/lib/common.js\");\nfunction Weapon(options) {\n    return common_1.merge(options, 'weapon', {\n        price: options.price\n    });\n}\nexports.Weapon = Weapon;\n//# sourceMappingURL=weapon.js.map\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/database/lib/weapon.js?");

/***/ }),

/***/ "./node_modules/@rpgjs/default-gui/src/index.ts":
/*!******************************************************!*\
  !*** ./node_modules/@rpgjs/default-gui/src/index.ts ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst client_1 = __importDefault(__webpack_require__(/*! client!./client */ \"./node_modules/@rpgjs/compiler/loaders/null.js!./node_modules/@rpgjs/default-gui/src/client.ts\"));\nexports.default = {\n    client: client_1.default\n};\n\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/default-gui/src/index.ts?");

/***/ }),

/***/ "./node_modules/@rpgjs/gamepad/index.ts":
/*!**********************************************!*\
  !*** ./node_modules/@rpgjs/gamepad/index.ts ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst client_1 = __importDefault(__webpack_require__(/*! client!./client */ \"./node_modules/@rpgjs/compiler/loaders/null.js!./node_modules/@rpgjs/gamepad/client/index.ts\"));\nexports.default = {\n    client: client_1.default\n};\n\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/gamepad/index.ts?");

/***/ }),

/***/ "./node_modules/@rpgjs/mobile-gui/src/index.ts":
/*!*****************************************************!*\
  !*** ./node_modules/@rpgjs/mobile-gui/src/index.ts ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst client_1 = __importDefault(__webpack_require__(/*! client!./client */ \"./node_modules/@rpgjs/compiler/loaders/null.js!./node_modules/@rpgjs/mobile-gui/src/client.ts\"));\nexports.default = {\n    client: client_1.default\n};\n\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/mobile-gui/src/index.ts?");

/***/ }),

/***/ "./node_modules/@rpgjs/server/lib/Enemy.js":
/*!*************************************************!*\
  !*** ./node_modules/@rpgjs/server/lib/Enemy.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst Player_1 = __webpack_require__(/*! ./Player/Player */ \"./node_modules/@rpgjs/server/lib/Player/Player.js\");\nclass RpgEnemy extends Player_1.RpgPlayer {\n    constructor(...args) {\n        super(...args);\n        this.type = 'enemy';\n        const { parameters = {}, startingEquipment = [], startingItems = [], gain, graphic, statesEfficiency = [], elementsEfficiency = [] } = this.options;\n        for (let param in parameters) {\n            this.addParameter(param, parameters[param]);\n        }\n        for (let item of startingEquipment) {\n            this.addItem(item);\n            this.equip(item, true);\n        }\n        for (let { nb, item } of startingItems) {\n            this.addItem(item, nb);\n        }\n        this.statesEfficiency = statesEfficiency;\n        this.elementsEfficiency = elementsEfficiency;\n        this.gain = gain;\n        this.graphic = graphic;\n    }\n}\nexports.default = RpgEnemy;\n//# sourceMappingURL=Enemy.js.map\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/server/lib/Enemy.js?");

/***/ }),

/***/ "./node_modules/@rpgjs/server/lib/Event.js":
/*!*************************************************!*\
  !*** ./node_modules/@rpgjs/server/lib/Event.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RpgEvent = exports.EventMode = void 0;\nconst Player_1 = __webpack_require__(/*! ./Player/Player */ \"./node_modules/@rpgjs/server/lib/Player/Player.js\");\nconst common_1 = __webpack_require__(/*! @rpgjs/common */ \"./node_modules/@rpgjs/common/lib/index.js\");\nvar EventMode;\n(function (EventMode) {\n    EventMode[\"Shared\"] = \"shared\";\n    EventMode[\"Scenario\"] = \"scenario\";\n})(EventMode = exports.EventMode || (exports.EventMode = {}));\nclass RpgEvent extends Player_1.RpgPlayer {\n    constructor() {\n        super(...arguments);\n        this.type = 'event';\n        this.properties = {};\n    }\n    execMethod(methodName, methodData = []) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!this[methodName]) {\n                return;\n            }\n            const ret = this[methodName](...methodData);\n            const sync = () => {\n                const player = methodData[0];\n                if (player instanceof Player_1.RpgPlayer) {\n                    player.syncChanges();\n                }\n            };\n            if (common_1.Utils.isPromise(ret)) {\n                ret.then(sync);\n            }\n            else {\n                sync();\n            }\n            return ret;\n        });\n    }\n}\nexports.RpgEvent = RpgEvent;\n//# sourceMappingURL=Event.js.map\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/server/lib/Event.js?");

/***/ }),

/***/ "./node_modules/@rpgjs/server/lib/Game/Map.js":
/*!****************************************************!*\
  !*** ./node_modules/@rpgjs/server/lib/Game/Map.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RpgMap = void 0;\nconst common_1 = __webpack_require__(/*! @rpgjs/common */ \"./node_modules/@rpgjs/common/lib/index.js\");\nconst fs_1 = __importDefault(__webpack_require__(/*! fs */ \"fs\"));\nconst YUKA = __importStar(__webpack_require__(/*! yuka */ \"yuka\"));\nconst Event_1 = __webpack_require__(/*! ../Event */ \"./node_modules/@rpgjs/server/lib/Event.js\");\nconst MoveManager_1 = __webpack_require__(/*! ../Player/MoveManager */ \"./node_modules/@rpgjs/server/lib/Player/MoveManager.js\");\nclass AutoEvent extends Event_1.RpgEvent {\n    onInit() {\n        const { graphic, direction, speed, frequency, move } = this.properties;\n        if (graphic) {\n            this.setGraphic(graphic);\n        }\n        if (direction) {\n            this.changeDirection(direction);\n        }\n        if (speed) {\n            this.speed = speed;\n        }\n        if (frequency) {\n            this.frequency = frequency;\n        }\n        if (move == 'random') {\n            this.infiniteMoveRoute([MoveManager_1.Move.tileRandom()]);\n        }\n    }\n    onAction(player) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const { text } = this.properties;\n            if (text) {\n                yield player.showText(text, {\n                    talkWith: this\n                });\n            }\n        });\n    }\n}\nAutoEvent.hitbox = {};\nclass RpgMap extends common_1.RpgCommonMap {\n    constructor(_server) {\n        super();\n        this._server = _server;\n        this.events = {};\n        this.entityManager = new YUKA.EntityManager();\n    }\n    load() {\n        const _super = Object.create(null, {\n            load: { get: () => super.load }\n        });\n        return __awaiter(this, void 0, void 0, function* () {\n            if (common_1.RpgCommonMap.buffer.has(this.id)) {\n                return;\n            }\n            const data = yield this.parseFile();\n            _super.load.call(this, data);\n            common_1.RpgCommonMap.buffer.set(this.id, this);\n            //this.kWorld = new Kompute.World(data.width * data.tileWidth, data.height * data.tileHeight, 1000, 32) \n            this.events = this.createEvents(this._events, Event_1.EventMode.Shared);\n            // TODO\n            // this.autoLoadEvent()\n            for (let key in this.events) {\n                this.events[key].execMethod('onInit');\n            }\n            this.onLoad();\n        });\n    }\n    get game() {\n        return this._server.gameEngine;\n    }\n    onLoad() { }\n    onJoin(player) {\n        this.entityManager.add(player.steerable);\n    }\n    onLeave(player) {\n        player.stopBehavior();\n        this.entityManager.remove(player.steerable);\n        this.getShapes().forEach(shape => shape.out(player));\n    }\n    autoLoadEvent() {\n        this.getShapes().forEach(shape => {\n            const { properties } = shape;\n            const { x, y, pos, w, h } = shape.hitbox;\n            if (shape.isEvent() && !this.events[shape.name]) {\n                const mode = properties.mode || Event_1.EventMode.Shared;\n                AutoEvent.prototype['_name'] = shape.name;\n                AutoEvent.mode = mode;\n                AutoEvent.hitbox = {\n                    width: 32,\n                    height: 16\n                };\n                const event = this.createEvent({\n                    x,\n                    y,\n                    event: AutoEvent\n                }, mode, shape);\n                if (event)\n                    this.events[shape.name] = event;\n            }\n        });\n    }\n    // TODO: return type\n    getEventShape(eventName) {\n        return this.getShapes().find(shape => shape.name == eventName);\n    }\n    createEvent(obj, mode, shape) {\n        let event, position;\n        // We retrieve the information of the event ([Event] or [{event: Event, x: number, y: number}])\n        if (obj['x'] === undefined) {\n            event = obj;\n        }\n        else {\n            event = obj['event'];\n            position = { x: obj['x'], y: obj['y'] };\n        }\n        // The event is ignored if the mode is different.\n        if (event.mode != mode) {\n            return null;\n        }\n        // Create an instance of RpgEvent and assign its options\n        const ev = this.game.addEvent(event, mode == Event_1.EventMode.Shared);\n        const _shape = shape || this.getEventShape(ev.name);\n        this.entityManager.add(ev.steerable);\n        ev.width = event.width || this.tileWidth;\n        ev.height = event.height || this.tileHeight;\n        if (_shape && _shape.properties)\n            ev.properties = _shape.properties;\n        if (event.hitbox)\n            ev.setHitbox(event.hitbox.width, event.hitbox.height);\n        ev.map = this.id;\n        ev.teleport(position || ev.name);\n        ev.server = this._server;\n        return ev;\n    }\n    createEvents(eventsList, mode) {\n        const events = {};\n        if (!eventsList)\n            return events;\n        for (let obj of eventsList) {\n            const ev = this.createEvent(obj, mode);\n            if (ev) {\n                events[ev.id] = ev;\n            }\n        }\n        return events;\n    }\n    parseFile() {\n        if (this.file.version) {\n            return Promise.resolve(this.file);\n        }\n        if (common_1.Utils.isBrowser()) {\n            return fetch(this.file)\n                .then(res => res.json());\n        }\n        const filepath = this._server.inputOptions.basePath + '/' + this.file;\n        return new Promise((resolve, reject) => {\n            fs_1.default.readFile(filepath, 'utf-8', (err, data) => {\n                if (err)\n                    return reject(err);\n                resolve(JSON.parse(data));\n            });\n        });\n    }\n    setSync(schema) {\n        return this.$setSchema(schema);\n    }\n}\nexports.RpgMap = RpgMap;\n//# sourceMappingURL=Map.js.map\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/server/lib/Game/Map.js?");

/***/ }),

/***/ "./node_modules/@rpgjs/server/lib/Gui/DialogGui.js":
/*!*********************************************************!*\
  !*** ./node_modules/@rpgjs/server/lib/Gui/DialogGui.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DialogGui = exports.DialogPosition = void 0;\nconst common_1 = __webpack_require__(/*! @rpgjs/common */ \"./node_modules/@rpgjs/common/lib/index.js\");\nconst Gui_1 = __webpack_require__(/*! ./Gui */ \"./node_modules/@rpgjs/server/lib/Gui/Gui.js\");\nconst MoveManager_1 = __webpack_require__(/*! ../Player/MoveManager */ \"./node_modules/@rpgjs/server/lib/Player/MoveManager.js\");\nvar DialogPosition;\n(function (DialogPosition) {\n    DialogPosition[\"Top\"] = \"top\";\n    DialogPosition[\"Bottom\"] = \"bottom\";\n    DialogPosition[\"Middle\"] = \"middle\";\n})(DialogPosition = exports.DialogPosition || (exports.DialogPosition = {}));\nclass DialogGui extends Gui_1.Gui {\n    constructor(player) {\n        super(common_1.PrebuiltGui.Dialog, player);\n    }\n    openDialog(message, options) {\n        if (!options.choices)\n            options.choices = [];\n        if (options.autoClose == undefined)\n            options.autoClose = false;\n        if (!options.position)\n            options.position = DialogPosition.Bottom;\n        if (options.fullWidth == undefined)\n            options.fullWidth = true;\n        if (options.typewriterEffect == undefined)\n            options.typewriterEffect = true;\n        const event = options.talkWith;\n        let memoryDir;\n        if (event) {\n            memoryDir = event.direction;\n            event.breakRoutes(true);\n            event.moveRoutes([MoveManager_1.Move.turnTowardPlayer(this.player)]);\n        }\n        const data = {\n            autoClose: options.autoClose,\n            position: options.position,\n            fullWidth: options.fullWidth,\n            typewriterEffect: options.typewriterEffect,\n            // remove value property. It is not useful to know this on the client side.\n            choices: options.choices.map(choice => ({\n                text: choice.text\n            }))\n        };\n        return super.open(Object.assign({ message }, data), {\n            waitingAction: true,\n            blockPlayerInput: true\n        }).then((val) => {\n            if (event) {\n                event.replayRoutes();\n                event.direction = memoryDir;\n            }\n            return val;\n        });\n    }\n}\nexports.DialogGui = DialogGui;\n//# sourceMappingURL=DialogGui.js.map\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/server/lib/Gui/DialogGui.js?");

/***/ }),

/***/ "./node_modules/@rpgjs/server/lib/Gui/Gui.js":
/*!***************************************************!*\
  !*** ./node_modules/@rpgjs/server/lib/Gui/Gui.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Gui = void 0;\nconst common_1 = __webpack_require__(/*! @rpgjs/common */ \"./node_modules/@rpgjs/common/lib/index.js\");\nclass Gui extends common_1.EventEmitter {\n    constructor(id, player) {\n        super();\n        this.id = id;\n        this.player = player;\n        this._close = () => { };\n        this._blockPlayerInput = false;\n    }\n    open(data, { waitingAction = false, blockPlayerInput = false } = {}) {\n        return new Promise((resolve) => {\n            this.player.emit('gui.open', {\n                guiId: this.id,\n                data\n            });\n            this._blockPlayerInput = blockPlayerInput;\n            if (blockPlayerInput) {\n                this.player.canMove = false;\n            }\n            if (!waitingAction) {\n                resolve(null);\n            }\n            else {\n                this._close = resolve;\n            }\n        });\n    }\n    close(data) {\n        this.player.emit('gui.exit', this.id);\n        if (this._blockPlayerInput) {\n            this.player.canMove = true;\n        }\n        this._close(data);\n    }\n}\nexports.Gui = Gui;\n//# sourceMappingURL=Gui.js.map\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/server/lib/Gui/Gui.js?");

/***/ }),

/***/ "./node_modules/@rpgjs/server/lib/Gui/MenuGui.js":
/*!*******************************************************!*\
  !*** ./node_modules/@rpgjs/server/lib/Gui/MenuGui.js ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MenuGui = void 0;\nconst common_1 = __webpack_require__(/*! @rpgjs/common */ \"./node_modules/@rpgjs/common/lib/index.js\");\nconst Gui_1 = __webpack_require__(/*! ./Gui */ \"./node_modules/@rpgjs/server/lib/Gui/Gui.js\");\nclass MenuGui extends Gui_1.Gui {\n    constructor(player) {\n        super(common_1.PrebuiltGui.MainMenu, player);\n    }\n    open() {\n        this.on('useItem', (id) => {\n            try {\n                // this.player.useItem(id)\n                this.player.syncChanges();\n            }\n            catch (err) {\n                console.log(err);\n            }\n        });\n        return super.open('', {\n            waitingAction: true,\n            blockPlayerInput: true\n        });\n    }\n}\nexports.MenuGui = MenuGui;\n//# sourceMappingURL=MenuGui.js.map\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/server/lib/Gui/MenuGui.js?");

/***/ }),

/***/ "./node_modules/@rpgjs/server/lib/Gui/NotificationGui.js":
/*!***************************************************************!*\
  !*** ./node_modules/@rpgjs/server/lib/Gui/NotificationGui.js ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NotificationGui = void 0;\nconst common_1 = __webpack_require__(/*! @rpgjs/common */ \"./node_modules/@rpgjs/common/lib/index.js\");\nconst Gui_1 = __webpack_require__(/*! ./Gui */ \"./node_modules/@rpgjs/server/lib/Gui/Gui.js\");\nclass NotificationGui extends Gui_1.Gui {\n    constructor(player) {\n        super(common_1.PrebuiltGui.Notification, player);\n    }\n}\nexports.NotificationGui = NotificationGui;\n//# sourceMappingURL=NotificationGui.js.map\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/server/lib/Gui/NotificationGui.js?");

/***/ }),

/***/ "./node_modules/@rpgjs/server/lib/Gui/ShopGui.js":
/*!*******************************************************!*\
  !*** ./node_modules/@rpgjs/server/lib/Gui/ShopGui.js ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ShopGui = void 0;\nconst common_1 = __webpack_require__(/*! @rpgjs/common */ \"./node_modules/@rpgjs/common/lib/index.js\");\nconst Gui_1 = __webpack_require__(/*! ./Gui */ \"./node_modules/@rpgjs/server/lib/Gui/Gui.js\");\nclass ShopGui extends Gui_1.Gui {\n    constructor(player) {\n        super(common_1.PrebuiltGui.Shop, player);\n    }\n    open(items) {\n        items = items.map(item => {\n            const it = new item();\n            return {\n                price: it.price,\n                name: it.name,\n                description: it.description,\n                id: it.id,\n                type: item.type\n            };\n        });\n        this.on('buyItem', ({ id, nb }) => {\n            try {\n                this.player.buyItem(id, nb);\n            }\n            catch (err) {\n                console.log(err);\n            }\n        });\n        this.on('sellItem', ({ id, nb }) => {\n            try {\n                this.player.sellItem(id, nb);\n            }\n            catch (err) {\n                console.log(err);\n            }\n        });\n        return super.open({ items }, {\n            waitingAction: true,\n            blockPlayerInput: true\n        });\n    }\n}\nexports.ShopGui = ShopGui;\n//# sourceMappingURL=ShopGui.js.map\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/server/lib/Gui/ShopGui.js?");

/***/ }),

/***/ "./node_modules/@rpgjs/server/lib/Gui/index.js":
/*!*****************************************************!*\
  !*** ./node_modules/@rpgjs/server/lib/Gui/index.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NotificationGui = exports.ShopGui = exports.MenuGui = exports.DialogGui = exports.Gui = void 0;\nconst Gui_1 = __webpack_require__(/*! ./Gui */ \"./node_modules/@rpgjs/server/lib/Gui/Gui.js\");\nObject.defineProperty(exports, \"Gui\", { enumerable: true, get: function () { return Gui_1.Gui; } });\nconst DialogGui_1 = __webpack_require__(/*! ./DialogGui */ \"./node_modules/@rpgjs/server/lib/Gui/DialogGui.js\");\nObject.defineProperty(exports, \"DialogGui\", { enumerable: true, get: function () { return DialogGui_1.DialogGui; } });\nconst MenuGui_1 = __webpack_require__(/*! ./MenuGui */ \"./node_modules/@rpgjs/server/lib/Gui/MenuGui.js\");\nObject.defineProperty(exports, \"MenuGui\", { enumerable: true, get: function () { return MenuGui_1.MenuGui; } });\nconst ShopGui_1 = __webpack_require__(/*! ./ShopGui */ \"./node_modules/@rpgjs/server/lib/Gui/ShopGui.js\");\nObject.defineProperty(exports, \"ShopGui\", { enumerable: true, get: function () { return ShopGui_1.ShopGui; } });\nconst NotificationGui_1 = __webpack_require__(/*! ./NotificationGui */ \"./node_modules/@rpgjs/server/lib/Gui/NotificationGui.js\");\nObject.defineProperty(exports, \"NotificationGui\", { enumerable: true, get: function () { return NotificationGui_1.NotificationGui; } });\n//# sourceMappingURL=index.js.map\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/server/lib/Gui/index.js?");

/***/ }),

/***/ "./node_modules/@rpgjs/server/lib/Monitor/index.js":
/*!*********************************************************!*\
  !*** ./node_modules/@rpgjs/server/lib/Monitor/index.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst common_1 = __webpack_require__(/*! @rpgjs/common */ \"./node_modules/@rpgjs/common/lib/index.js\");\nclass Monitor extends common_1.EventEmitter {\n    constructor() {\n        super(...arguments);\n        this.monitors = new Map();\n        this.totalConnected = 0;\n    }\n    get status() {\n        return {\n            loop: this.loopMs,\n            totalConnected: this.totalConnected\n        };\n    }\n    getStatusOf(id) {\n        return this.monitors.get(id);\n    }\n    update(server) {\n        const { scheduler, options } = server;\n        if (this.lastTime) {\n            const hrtime = process.hrtime(this.lastTime);\n            this.loopMs = hrtime[1] / 1e6;\n        }\n        const period = scheduler.options.period;\n        if (this.loopMs > period + 20) {\n            const { stepRate } = options;\n            console.warn('%s - Warning Low FPS. %s players connected. Game Loop: %s FPS', new Date(), this.totalConnected, Math.round(stepRate / (this.loopMs / period)));\n        }\n        this.lastTime = process.hrtime();\n    }\n    addMonitor(socket) {\n        // TODO\n        /*\n        let bytesIn = 0\n        let bytesOut = 0\n        const update = () => {\n            this.monitors.set(id, {\n                bytesIn: bytesIn.toFixed(2),\n                bytesOut: bytesOut.toFixed(2)\n            })\n        }\n        const id = socket.id\n        socket.use((packet, next) => {\n            const size = ('42'+JSON.stringify(packet)).length\n            bytesIn += size\n            update()\n            this.emit('update', this.monitors.get(id))\n            next()\n        })\n        socket._emit = socket.emit.bind(socket)\n        socket.emit = (name, data) => {\n            let size = 0\n            let obj = data\n            if (name == 'worldUpdate') {\n                obj = Object.assign({}, data)\n                size += Buffer.byteLength(obj.dataBuffer)\n                obj.dataBuffer = {_placeholder: true, num: 0}\n            }\n            size += `451-[\"${name},${JSON.stringify(obj)}\"]`.length\n            bytesOut += size\n            update()\n            return socket._emit(name, data)\n        }\n        */\n        this.totalConnected++;\n    }\n    removeMonitor(id) {\n        this.monitors.delete(id);\n        this.totalConnected--;\n    }\n}\nexports.default = new Monitor();\n//# sourceMappingURL=index.js.map\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/server/lib/Monitor/index.js?");

/***/ }),

/***/ "./node_modules/@rpgjs/server/lib/Player/BattleManager.js":
/*!****************************************************************!*\
  !*** ./node_modules/@rpgjs/server/lib/Player/BattleManager.js ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BattleManager = void 0;\nconst common_1 = __webpack_require__(/*! @rpgjs/common */ \"./node_modules/@rpgjs/common/lib/index.js\");\nconst ParameterManager_1 = __webpack_require__(/*! ./ParameterManager */ \"./node_modules/@rpgjs/server/lib/Player/ParameterManager.js\");\nconst presets_1 = __webpack_require__(/*! ../presets */ \"./node_modules/@rpgjs/server/lib/presets/index.js\");\nconst database_1 = __webpack_require__(/*! @rpgjs/database */ \"./node_modules/@rpgjs/database/lib/index.js\");\nconst ElementManager_1 = __webpack_require__(/*! ./ElementManager */ \"./node_modules/@rpgjs/server/lib/Player/ElementManager.js\");\nconst EffectManager_1 = __webpack_require__(/*! ./EffectManager */ \"./node_modules/@rpgjs/server/lib/Player/EffectManager.js\");\nconst { applyMixins } = common_1.Utils;\nclass BattleManager {\n    /**\n     * Apply damage. Player will lose HP. the `otherPlayer` parameter is the other player, the one who attacks.\n     *\n     * If you don't set the skill parameter, it will be a physical attack.\n     * The attack formula is already defined but you can customize it in the server options\n     *\n     * ```ts\n     * player.applyDamage(otherPlayer) // returns { damage: number }\n     * ```\n     *\n     * @title Apply Damage\n     * @method player.applyDamage(otherPlayer,skill)\n     * @param {RpgPlayer} otherPlayer The attacking player\n     * @param {any} [skill]\n     * @returns {object}\n     * @memberof BattleManager\n     * */\n    applyDamage(otherPlayer, skill) {\n        const getParam = (player) => {\n            const params = {};\n            this.parameters.forEach((val, key) => {\n                params[key] = player.param[key];\n            });\n            return Object.assign({ [presets_1.ATK]: player.atk, [presets_1.PDEF]: player.pdef, [presets_1.SDEF]: player.sdef }, params);\n        };\n        let damage = 0, fn;\n        let critical = false;\n        let guard = false;\n        let superGuard = false;\n        let elementVulnerable = false;\n        const paramA = getParam(otherPlayer);\n        const paramB = getParam(this);\n        if (skill) {\n            fn = this.getFormulas('damageSkill');\n            if (!fn) {\n                throw new Error('Skill Formulas not exists');\n            }\n            damage = fn(paramA, paramB, skill);\n        }\n        else {\n            fn = this.getFormulas('damagePhysic');\n            if (!fn) {\n                throw new Error('Physic Formulas not exists');\n            }\n            damage = fn(paramA, paramB);\n            const coef = this.coefficientElements(otherPlayer);\n            if (coef >= 2) {\n                elementVulnerable = true;\n            }\n            damage *= coef;\n            fn = this.getFormulas('damageCritical');\n            if (fn) {\n                let newDamage = fn(damage, paramA, paramB);\n                if (damage != newDamage) {\n                    critical = true;\n                }\n                damage = newDamage;\n            }\n        }\n        if (this.hasEffect(database_1.Effect.GUARD)) {\n            fn = this.getFormulas('damageGuard');\n            if (fn) {\n                let newDamage = fn(damage, paramA, paramB);\n                if (damage != newDamage) {\n                    guard = true;\n                }\n                damage = newDamage;\n            }\n        }\n        if (this.hasEffect(database_1.Effect.SUPER_GUARD)) {\n            damage /= 4;\n        }\n        this.hp -= damage;\n        return {\n            damage,\n            critical,\n            elementVulnerable,\n            guard,\n            superGuard\n        };\n    }\n    getFormulas(name) {\n        return this.server.damageFormulas[name];\n    }\n}\nexports.BattleManager = BattleManager;\napplyMixins(BattleManager, [ParameterManager_1.ParameterManager, ElementManager_1.ElementManager, EffectManager_1.EffectManager]);\n//# sourceMappingURL=BattleManager.js.map\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/server/lib/Player/BattleManager.js?");

/***/ }),

/***/ "./node_modules/@rpgjs/server/lib/Player/BehaviorManager.js":
/*!******************************************************************!*\
  !*** ./node_modules/@rpgjs/server/lib/Player/BehaviorManager.js ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BehaviorManager = void 0;\nconst YUKA = __importStar(__webpack_require__(/*! yuka */ \"yuka\"));\nclass BehaviorManager {\n    getVector3D(x, y, z) {\n        return new YUKA.Vector3(x, y, z);\n    }\n    setBehavior(otherPlayer) {\n        const map = this['mapInstance'];\n        const shapes = map.getShapes();\n        // const grid = new PF.Grid(map.width, map.height)\n        //const finder = new PF.AStarFinder();\n        const block = shapes.find(shape => shape.name == 'stop');\n        /*this.steerable.maxAcceleration = 1000\n\n\n        \n        this.steerable.setTargetEntity(otherPlayer.steerable)\n        this.steerable.setHideTargetEntity(otherPlayer.steerable);\n        this.steerable.setBehavior(new Kompute.PursueBehavior({maxPredictionTime: 3}))\n        const delta = 1/60;\n        const vectorPool = new Kompute.VectorPool(10)\n        this.steerable.move = this['move'].bind(this)\n        Kompute.Entity.prototype.update = function() {\n            const speed = this.velocity.getLength();\n            if (this.limitVelocity && speed > this.maxSpeed){\n              this.velocity.copy(this.velocity.normalize().multiplyScalar(this.maxSpeed))\n            }\n            const vect = vectorPool.get().copy(this.velocity).multiplyScalar(delta);\n            const nextPosition = new Kompute.Vector3D().copy(this.position).add(vect)\n            this.move(nextPosition as Position)\n        }*/\n        const time = new YUKA.Time();\n        const target = new YUKA.Vector3(20, 20);\n        const seekBehavior = new YUKA.SeekBehavior(target);\n        const pursuitBehavior = new YUKA.PursuitBehavior(otherPlayer.steerable, 2);\n        const obstacle1 = new YUKA.GameEntity();\n        obstacle1.position.copy(this.getVector3D(block.hitbox.pos.x + block.hitbox.w / 2, 0, block.hitbox.pos.y + block.hitbox.h / 2));\n        obstacle1.boundingRadius = (block.hitbox.w / 2) * Math.sqrt(2);\n        this['mapInstance'].entityManager.add(obstacle1);\n        const obstacleAvoidanceBehavior = new YUKA.ObstacleAvoidanceBehavior([obstacle1]);\n        obstacleAvoidanceBehavior.dBoxMinLength = 16;\n        obstacleAvoidanceBehavior.brakingWeight = 0.1;\n        const steeringForce = new YUKA.Vector3();\n        const displacement = new YUKA.Vector3();\n        const acceleration = new YUKA.Vector3();\n        const velocitySmooth = new YUKA.Vector3();\n        this.steerable.maxSpeed = this.speed * (200 / 3);\n        this.steerable.boundingRadius = 8 * Math.sqrt(2);\n        const self = this;\n        this.steerable.move = this['move'].bind(this);\n        this.steerable.steering.add(pursuitBehavior);\n        time.update().getDelta();\n        YUKA.Vehicle.prototype.update = function (delta) {\n            this.steering.calculate(delta, steeringForce);\n            // acceleration = force / mass\n            acceleration.copy(steeringForce).divideScalar(this.mass);\n            // update velocity\n            this.velocity.add(acceleration.multiplyScalar(delta));\n            // make sure vehicle does not exceed maximum speed\n            if (this.getSpeedSquared() > (this.maxSpeed * this.maxSpeed)) {\n                this.velocity.normalize();\n                this.velocity.multiplyScalar(this.maxSpeed);\n            }\n            // calculate displacement\n            displacement.copy(this.velocity).multiplyScalar(delta);\n            // calculate target position\n            target.copy(this.position).add(displacement);\n            // update position\n            const { x, y, z } = target;\n            if (self['isCollided']({\n                x,\n                y: z,\n                z: y\n            })) {\n                //console.log(x, y, z)\n            }\n            else {\n                this.position.copy(target);\n            }\n            return this;\n        };\n        // this.steerable.steering.add( obstacleAvoidanceBehavior ) \n        const move = () => {\n            const deltaTime = time.update().getDelta();\n            const entity = this.steerable;\n            this['mapInstance'].entityManager.update(deltaTime);\n            /*entity.steering.calculate( deltaTime, steeringForce );\n            acceleration.copy( steeringForce )\n            acceleration.multiplyScalar( deltaTime )*/\n            // displacement.copy( entity.velocity ).multiplyScalar( deltaTime );\n            const { x, y, z } = this.steerable.position;\n            this['position'].x = x;\n            this['position'].y = z;\n            this['position'].z = y;\n        };\n        //console.log(this.behaviorInterval)\n        if (!this.behaviorInterval)\n            this.behaviorInterval = setInterval(move, 16);\n    }\n    stopBehavior() {\n        if (this.behaviorInterval)\n            clearInterval(this.behaviorInterval);\n    }\n}\nexports.BehaviorManager = BehaviorManager;\n//# sourceMappingURL=BehaviorManager.js.map\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/server/lib/Player/BehaviorManager.js?");

/***/ }),

/***/ "./node_modules/@rpgjs/server/lib/Player/ClassManager.js":
/*!***************************************************************!*\
  !*** ./node_modules/@rpgjs/server/lib/Player/ClassManager.js ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ClassManager = void 0;\nconst common_1 = __webpack_require__(/*! @rpgjs/common */ \"./node_modules/@rpgjs/common/lib/index.js\");\nconst ParameterManager_1 = __webpack_require__(/*! ./ParameterManager */ \"./node_modules/@rpgjs/server/lib/Player/ParameterManager.js\");\nconst ItemManager_1 = __webpack_require__(/*! ./ItemManager */ \"./node_modules/@rpgjs/server/lib/Player/ItemManager.js\");\nconst { applyMixins } = common_1.Utils;\nclass ClassManager {\n    /**\n     * Assign a class to the player\n     *\n     * ```ts\n     * import { Fighter } from 'my-database/classes/fighter'\n     *\n     * player.setClass(Fighter)\n     * ```\n     *\n     * @title Set Class\n     * @method player.setClass(ClassClass)\n     * @param {ClassClass} class\n     * @returns {instance of ClassClass}\n     * @memberof ClassManager\n     * */\n    setClass(_class) {\n        this._class = new _class();\n        this['execMethod']('onSet', [this], this._class);\n        return this._class;\n    }\n    /**\n     * Allows to give a set of already defined properties to the player (default equipment, or a list of skills to learn according to the level)\n     *\n     * ```ts\n     * import { Hero } from 'my-database/classes/hero'\n     *\n     * player.setActor(Hero)\n     * ```\n     *\n     * @title Set Actor\n     * @method player.setActor(ActorClass)\n     * @param {ActorClass} actorClass\n     * @returns {instance of ActorClass}\n     * @memberof ClassManager\n     * */\n    setActor(actorClass) {\n        const actor = new actorClass();\n        this.name = actor.name;\n        this.initialLevel = actor.initialLevel;\n        this.finalLevel = actor.finalLevel;\n        this.expCurve = actor.expCurve;\n        for (let param in actor.parameters) {\n            this.addParameter(param, actor.parameters[param]);\n        }\n        for (let item of actor.startingEquipment) {\n            this.addItem(item);\n            this.equip(item, true);\n        }\n        this.setClass(actor.class);\n        this['execMethod']('onSet', [this], actor);\n        return actor;\n    }\n}\nexports.ClassManager = ClassManager;\napplyMixins(ClassManager, [ParameterManager_1.ParameterManager, ItemManager_1.ItemManager]);\n//# sourceMappingURL=ClassManager.js.map\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/server/lib/Player/ClassManager.js?");

/***/ }),

/***/ "./node_modules/@rpgjs/server/lib/Player/EffectManager.js":
/*!****************************************************************!*\
  !*** ./node_modules/@rpgjs/server/lib/Player/EffectManager.js ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EffectManager = void 0;\nconst common_1 = __webpack_require__(/*! @rpgjs/common */ \"./node_modules/@rpgjs/common/lib/index.js\");\nconst ParameterManager_1 = __webpack_require__(/*! ./ParameterManager */ \"./node_modules/@rpgjs/server/lib/Player/ParameterManager.js\");\nconst presets_1 = __webpack_require__(/*! ../presets */ \"./node_modules/@rpgjs/server/lib/presets/index.js\");\nconst { arrayUniq, arrayFlat, applyMixins } = common_1.Utils;\nclass EffectManager {\n    // TODO\n    applyEffect(item) {\n        if (item.hpValue) {\n            this.hp += item.hpValue;\n        }\n        if (item.hpRate) {\n            this.hp += this.param[presets_1.MAXHP] / item.hpRate;\n        }\n        if (item.spValue) {\n            this.sp += item.hpValue;\n        }\n        if (item.spRate) {\n            this.sp += this.param[presets_1.MAXHP] / item.hpRate;\n        }\n    }\n    /**\n     * ```ts\n     * import { Effect } from '@rpgjs/server'\n     *\n     * const bool = player.hasEffect(Effect.CAN_NOT_SKILL)\n     * ```\n     *\n     * @title Has Effect\n     * @method player.hasEffect(effect)\n     * @param {Effect} effect\n     * @returns {boolean}\n     * @memberof EffectManager\n     * */\n    hasEffect(effect) {\n        return this.effects.includes(effect);\n    }\n    /**\n     * Retrieves a array of effects assigned to the player, state effects and effects of weapons and armors equipped with the player's own weapons.\n     *\n     * ```ts\n     * console.log(player.effects)\n     * ```\n     * @title Get Effects\n     * @prop {Array<Effect>} player.effects\n     * @memberof EffectManager\n     * */\n    get effects() {\n        const getEffects = (prop) => {\n            return arrayFlat(this[prop]\n                .map(el => el.effects || []));\n        };\n        return arrayUniq([\n            ...this._effects,\n            ...getEffects('states'),\n            ...getEffects('equipments')\n        ]);\n    }\n    /**\n     * Assigns effects to the player. If you give a array, it does not change the effects of the player's states and armor/weapons equipped.\n     *\n     * ```ts\n     * import { Effect } from '@rpgjs/server'\n     *\n     * player.effects = [Effect.CAN_NOT_SKILL]\n     * ```\n     * @title Set Effects\n     * @prop {Array<Effect>} player.effects\n     * @memberof EffectManager\n     * */\n    set effects(val) {\n        this._effects = val;\n    }\n}\nexports.EffectManager = EffectManager;\napplyMixins(EffectManager, [ParameterManager_1.ParameterManager]);\n//# sourceMappingURL=EffectManager.js.map\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/server/lib/Player/EffectManager.js?");

/***/ }),

/***/ "./node_modules/@rpgjs/server/lib/Player/ElementManager.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@rpgjs/server/lib/Player/ElementManager.js ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ElementManager = void 0;\nconst common_1 = __webpack_require__(/*! @rpgjs/common */ \"./node_modules/@rpgjs/common/lib/index.js\");\nconst ItemFixture_1 = __webpack_require__(/*! ./ItemFixture */ \"./node_modules/@rpgjs/server/lib/Player/ItemFixture.js\");\nconst { arrayUniq, applyMixins } = common_1.Utils;\nclass ElementManager extends ItemFixture_1.ItemFixture {\n    /**\n    * Recovers the player's elements defense on inventory.  This list is generated from the `elementsDefense` property defined on the weapons or armors equipped.\n    * If several items have the same element, only the highest rate will be taken into account.\n    *\n    * ```ts\n    * import { Armor } from '@rpgjs/server'\n    *\n    * enum Elements {\n    *   Fire = 'fire'\n    * }\n    *\n    * @Armor({\n    *      name: 'Shield',\n    *      elementsDefense: [{ rate: 1, element: Elements.Fire }]\n    * })\n    * class Shield {}\n    *\n    * @Armor({\n    *      name: 'FireShield',\n    *      elementsDefense: [{ rate: 0.5, element: Elements.Fire }]\n    * })\n    * class FireShield {}\n    *\n    * player.addItem(Shield)\n    * player.addItem(FireShield)\n    * player.equip(Shield)\n    * player.equip(FireShield)\n    *\n    * console.log(player.elementsDefense) // [{ rate: 1, element: 'fire' }]\n    * ```\n    * @title Get Elements Defense\n    * @prop {Array<{ rate: number, element: Element}>} player.elementsDefense\n    * @readonly\n    * @memberof ElementManager\n    * */\n    get elementsDefense() {\n        return this.getFeature('elementsDefense', 'element');\n    }\n    /**\n    * Set or retrieves all the elements where the player is vulnerable or not.\n    *\n    * ```ts\n    * import { Class } from '@rpgjs/server'\n    *\n    * enum Elements {\n    *   Fire = 'fire',\n    *   Ice = 'ice'\n    * }\n    *\n    * @Class({\n    *      name: 'Fighter',\n    *      elementsEfficiency: [{ rate: 1, element: Elements.Fire }]\n    * })\n    * class Hero {}\n    *\n    * player.setClass(Hero)\n    *\n    * console.log(player.elementsEfficiency) // [{ rate: 1, element: 'fire' }]\n    *\n    * player.elementsEfficiency = [{ rate: 2, element: Elements.Ice }]\n    *\n    * console.log(player.elementsEfficiency) // [{ rate: 1, element: 'fire' }, { rate: 2, element: 'ice' }]\n    * ```\n    * @title Set/Get Elements Efficiency\n    * @prop {Array<{ rate: number, element: Element}>} player.elementsEfficiency\n    * @memberof ElementManager\n    * */\n    get elementsEfficiency() {\n        if (this._class) {\n            return [...this._elementsEfficiency, ...this._class.elementsEfficiency];\n        }\n        return this._elementsEfficiency;\n    }\n    set elementsEfficiency(val) {\n        this._elementsEfficiency = val;\n    }\n    /**\n     * Retrieves a array of elements assigned to the player and the elements of the weapons / armor equipped\n     *\n     * ```ts\n     * console.log(player.elements)\n     * ```\n     * @title Get Elements\n     * @prop {Array<Element>} player.elements\n     * @readonly\n     * @memberof ElementManager\n     * */\n    get elements() {\n        let elements = [];\n        for (let item of this.equipments) {\n            if (item.elements) {\n                elements = [...elements, ...item.elements];\n            }\n        }\n        return arrayUniq(elements);\n    }\n    coefficientElements(otherPlayer) {\n        const atkPlayerElements = otherPlayer.elements;\n        const playerElements = this.elementsEfficiency;\n        let coefficient = 1;\n        for (let atkElement of atkPlayerElements) {\n            const elementPlayer = playerElements.find(el => el.element == atkElement.element);\n            const elementPlayerDef = this.elementsDefense.find(el => el.element == atkElement.element);\n            if (!elementPlayer)\n                continue;\n            const fn = this.getFormulas('coefficientElements');\n            if (!fn) {\n                return coefficient;\n            }\n            coefficient += fn(atkElement, elementPlayer, elementPlayerDef || { rate: 0 });\n        }\n        return coefficient;\n    }\n}\nexports.ElementManager = ElementManager;\napplyMixins(ElementManager, [ItemFixture_1.ItemFixture]);\n//# sourceMappingURL=ElementManager.js.map\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/server/lib/Player/ElementManager.js?");

/***/ }),

/***/ "./node_modules/@rpgjs/server/lib/Player/GoldManager.js":
/*!**************************************************************!*\
  !*** ./node_modules/@rpgjs/server/lib/Player/GoldManager.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.GoldManager = void 0;\nclass GoldManager {\n    constructor() {\n        this._gold = 0;\n    }\n    /**\n    * You can change the game money\n    *\n    * ```ts\n    * player.gold += 100\n    * ```\n    *\n    * @title Change Gold\n    * @prop {number} player.gold\n    * @default 0\n    * @memberof GoldManager\n    * */\n    set gold(val) {\n        if (val < 0) {\n            val = 0;\n        }\n        this._gold = val;\n    }\n    get gold() {\n        return this._gold;\n    }\n}\nexports.GoldManager = GoldManager;\n//# sourceMappingURL=GoldManager.js.map\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/server/lib/Player/GoldManager.js?");

/***/ }),

/***/ "./node_modules/@rpgjs/server/lib/Player/GuiManager.js":
/*!*************************************************************!*\
  !*** ./node_modules/@rpgjs/server/lib/Player/GuiManager.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.GuiManager = void 0;\nconst Gui_1 = __webpack_require__(/*! ../Gui */ \"./node_modules/@rpgjs/server/lib/Gui/index.js\");\nclass GuiManager {\n    /**\n     * Show a text. This is a graphical interface already built. Opens the GUI named `rpg-dialog`\n     *\n     * ```ts\n     * player.showText('Hello World')\n     * ```\n     *\n     * The method returns a promise. It is resolved when the dialog box is closed.\n     *\n     * ```ts\n     * await player.showText('Hello World')\n     * // dialog box is closed, then ...\n     * ```\n     *\n     * **Option: position**\n     *\n     * You can define how the dialog box is displayed:\n     * - top\n     * - middle\n     * - bottom\n     *\n     * (bottom by default)\n     *\n     * ```ts\n     * player.showText('Hello World', {\n     *      position: 'top'\n     * })\n     * ```\n     *\n     * **Option: fullWidth**\n     *\n     * `boolean` (true by default)\n     *\n     * Indicate that the dialog box will take the full width of the screen.\n     *\n     * ```ts\n     * player.showText('Hello World', {\n     *      fullWidth: true\n     * })\n     * ```\n     *\n     * **Option: autoClose**\n     *\n     * `boolean` (false by default)\n     *\n     * If false, the user will have to press Enter to close the dialog box.\n     *\n     *  ```ts\n     * player.showText('Hello World', {\n     *      autoClose: true\n     * })\n     * ```\n     *\n     * **Option: typewriterEffect**\n     *\n     * `boolean` (true by default)\n     *\n     * Performs a typewriter effect\n     *\n     *  ```ts\n     * player.showText('Hello World', {\n     *      typewriterEffect: false\n     * })\n     * ```\n     *\n     * **Option: talkWith**\n     *\n     * `RpgPlayer` (nothing by default)\n     *\n     * If you specify the event or another player, the other player will stop his or her movement and look in the player's direction.\n     *\n     *  ```ts\n     * // Code in an event\n     * player.showText('Hello World', {\n     *      talkWith: this\n     * })\n     * ```\n     *\n     * @title Show Text\n     * @method player.showText(text,options)\n     * @param {string} text\n     * @param {object} [options] the different options, see usage below\n     * @returns {Promise}\n     * @memberof GuiManager\n     */\n    showText(msg, options = {}) {\n        const gui = new Gui_1.DialogGui(this);\n        this._gui[gui.id] = gui;\n        return gui.openDialog(msg, options);\n    }\n    /**\n     * Shows a dialog box with a choice. Opens the GUI named `rpg-dialog`\n     *\n     * ```ts\n     * const choice = await player.showChoices('What color do you prefer?', [\n     *      { text: 'Black', value: 'black' },\n     *      { text: 'Rather the blue', value: 'blue' },\n     *      { text: 'I don\\'t have a preference!', value: 'none' }\n     * ])\n     *\n     * // If the player selects the first\n     * console.log(choice) // { text: 'Black', value: 'black' }\n     * ```\n     *\n     * @title Show Choices\n     * @method player.showChoices(text,choices)\n     * @param {string} text\n     * @param {Array<{ text: string, value: any }>} choices\n     * @param {object} [options] Same options as the openDialog method\n     * @returns {Promise<Choice | null>}\n     * @memberof GuiManager\n     */\n    showChoices(msg, choices, options) {\n        return this\n            .showText(msg, Object.assign({ choices }, options))\n            .then((indexSelected) => {\n            if (!choices[indexSelected])\n                return null;\n            return choices[indexSelected];\n        });\n    }\n    /**\n     * Displays a notification . Opens the GUI named `rpg-notification`\n     *\n     * @title Displays a notification\n     * @method player.showNotification()\n     * @param {string} message - The message to display in the notification\n     * @param {object} options - An object containing options for the notification\n     * @param {number} options.time - The time to display the notification for (in ms). Default: 2000ms\n     * @param {string} options.icon - The icon to display in the notification. Put the identifier of the spritesheet (defined on the client side)\n     * @param {string} options.sound - The sound to play when the notification is shown. Set the sound ID (defined on the client side)\n     * @returns {void}\n     * @memberof GuiManager\n     */\n    showNotification(message, options = {}) {\n        const gui = new Gui_1.NotificationGui(this);\n        this._gui[gui.id] = gui;\n        const data = Object.assign({ message }, options);\n        return gui.open(data);\n    }\n    /**\n     * Calls main menu. Opens the GUI named `rpg-main-menu`\n     *\n     * @title Call Main Menu\n     * @method player.callMainMenu()\n     * @returns {void}\n     * @memberof GuiManager\n     */\n    callMainMenu() {\n        const gui = new Gui_1.MenuGui(this);\n        this._gui[gui.id] = gui;\n        return gui.open();\n    }\n    /**\n     * Calls shop menu. Opens the GUI named `rpg-shop`\n     *\n     * @title Call Shop Menu\n     * @method player.callShop()\n     * @returns {void}\n     * @memberof GuiManager\n     */\n    callShop(items) {\n        const gui = new Gui_1.ShopGui(this);\n        this._gui[gui.id] = gui;\n        return gui.open(items);\n    }\n    /**\n     * Call a custom Gui\n\n     * ```ts\n     * // Calls a client-side component, created with VueJS, named \"inn\".\n     * const gui = player.gui('inn')\n     *\n     *  // You can wait for actions on the menu. It only works if the menu is open.\n     * gui.on('accept', () => {\n     *      player.allRecovery()\n     * })\n     *\n     * // The GUI is opened by passing recoverable data on the client side.\n     * gui.open({ hello: 'world' })\n     * ```\n     *\n     * When opening the GUI, one can give options\n     *\n     * ```ts\n     * await gui.open({ hello: 'world' }, {\n     *      waitingAction: true,\n     *      blockPlayerInput: true\n     * })\n     * // After the GUI is closed\n     * ```\n     *\n     * - `blockPlayerInput`: while the GUI is open, the player can not move on the map\n     * - `waitingAction`: We explicitly wait until the GUI is closed for the promise to be resolved.\n     *\n     * @title Call custom GUI\n     * @method player.gui(guiId)\n     * @param {string} guiId\n     * @returns {Gui}\n     * @memberof GuiManager\n     */\n    gui(guiId) {\n        const gui = new Gui_1.Gui(guiId, this);\n        this._gui[guiId] = gui;\n        return gui;\n    }\n    /**\n     * Closes the GUI and removes it from memory\n     *\n     * @title Close custom GUI\n     * @method player.removeGui(guiId,data)\n     * @param {string} guiId\n     * @param {object} [data] Passing data if you close the GUI\n     * @returns {Gui}\n     * @memberof GuiManager\n     */\n    removeGui(guiId, data) {\n        if (this._gui[guiId]) {\n            this._gui[guiId].close(data);\n            delete this._gui[guiId];\n        }\n    }\n}\nexports.GuiManager = GuiManager;\n//# sourceMappingURL=GuiManager.js.map\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/server/lib/Player/GuiManager.js?");

/***/ }),

/***/ "./node_modules/@rpgjs/server/lib/Player/ItemFixture.js":
/*!**************************************************************!*\
  !*** ./node_modules/@rpgjs/server/lib/Player/ItemFixture.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ItemFixture = void 0;\nclass ItemFixture {\n    getFeature(name, prop) {\n        const array = {};\n        for (let item of this.equipments) {\n            if (item[name]) {\n                for (let feature of item[name]) {\n                    const { rate } = feature;\n                    const instance = feature[prop];\n                    const cache = array[instance.id];\n                    if (cache && cache.rate >= rate)\n                        continue;\n                    array[instance.id] = feature;\n                }\n            }\n        }\n        return Object.values(array);\n    }\n}\nexports.ItemFixture = ItemFixture;\n//# sourceMappingURL=ItemFixture.js.map\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/server/lib/Player/ItemFixture.js?");

/***/ }),

/***/ "./node_modules/@rpgjs/server/lib/Player/ItemManager.js":
/*!**************************************************************!*\
  !*** ./node_modules/@rpgjs/server/lib/Player/ItemManager.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ItemManager = void 0;\nconst common_1 = __webpack_require__(/*! @rpgjs/common */ \"./node_modules/@rpgjs/common/lib/index.js\");\nconst database_1 = __webpack_require__(/*! @rpgjs/database */ \"./node_modules/@rpgjs/database/lib/index.js\");\nconst logs_1 = __webpack_require__(/*! ../logs */ \"./node_modules/@rpgjs/server/lib/logs/index.js\");\nconst EffectManager_1 = __webpack_require__(/*! ./EffectManager */ \"./node_modules/@rpgjs/server/lib/Player/EffectManager.js\");\nconst GoldManager_1 = __webpack_require__(/*! ./GoldManager */ \"./node_modules/@rpgjs/server/lib/Player/GoldManager.js\");\nconst StateManager_1 = __webpack_require__(/*! ./StateManager */ \"./node_modules/@rpgjs/server/lib/Player/StateManager.js\");\nconst presets_1 = __webpack_require__(/*! ../presets */ \"./node_modules/@rpgjs/server/lib/presets/index.js\");\nconst { isString, isInstanceOf, applyMixins } = common_1.Utils;\nclass ItemManager {\n    constructor() {\n        this.equipments = [];\n    }\n    /**\n    * Retrieves the information of an object: the number and the instance\n    * @title Get Item\n    * @method player.getItem(itemClass)\n    * @param {ItemClass | string} itemClass Identifier of the object if the parameter is a string\n    * @returns {{ nb: number, item: instance of ItemClass }}\n    * @memberof ItemManager\n    * @example\n    *\n    * ```ts\n    * import Potion from 'your-database/potion'\n    *\n    * player.addItem(Potion, 5)\n    * const inventory = player.getItem(Potion)\n    * console.log(inventory) // { nb: 5, item: <instance of Potion> }\n    *  ```\n    */\n    getItem(itemClass) {\n        const index = this._getItemIndex(itemClass);\n        return this.items[index];\n    }\n    /**\n     * Check if the player has the item in his inventory.\n     * @title Has Item\n     * @method player.hasItem(itemClass)\n     * @param {ItemClass | string} itemClass Identifier of the object if the parameter is a string\n     * @returns {boolean}\n     * @memberof ItemManager\n     * @example\n     *\n     * ```ts\n     * import Potion from 'your-database/potion'\n     *\n     * player.hasItem(Potion) // false\n     *  ```\n     */\n    hasItem(itemClass) {\n        return !!this.getItem(itemClass);\n    }\n    _getItemIndex(itemClass) {\n        return this.items.findIndex((it) => {\n            if (isString(itemClass)) {\n                return it.item.id == itemClass;\n            }\n            return isInstanceOf(it.item, itemClass);\n        });\n    }\n    /**\n     * Add an item in the player's inventory. You can give more than one by specifying `nb`\n     *\n     * `onAdd()` method is called on the ItemClass\n     *\n     * @title Add Item\n     * @method player.addItem(item,nb=1)\n     * @param {ItemClass} itemClass\n     * @param {number} [nb] Default 1\n     * @returns {{ nb: number, item: instance of ItemClass }}\n     * @memberof ItemManager\n     * @example\n     *\n     * ```ts\n     * import Potion from 'your-database/potion'\n     * player.addItem(Potion, 5)\n     *  ```\n     */\n    addItem(itemClass, nb = 1) {\n        let itemIndex = this._getItemIndex(itemClass);\n        if (itemIndex != -1) {\n            this.items[itemIndex].nb += nb;\n        }\n        else {\n            const instance = new itemClass();\n            this.items.push({\n                item: instance,\n                nb\n            });\n            itemIndex = this.items.length - 1;\n        }\n        const { item } = this.items[itemIndex];\n        this['execMethod']('onAdd', [this], item);\n        return this.items[itemIndex];\n    }\n    /**\n     * Deletes an item. Decreases the value `nb`. If the number falls to 0, then the item is removed from the inventory. The method then returns `undefined`\n     *\n     * `onRemove()` method is called on the ItemClass\n     *\n     * @title Remove Item\n     * @method player.removeItem(item,nb=1)\n     * @param {ItemClass | string} itemClass string is item id\n     * @param {number} [nb] Default 1\n     * @returns {{ nb: number, item: instance of ItemClass } | undefined}\n     * @throws {ItemLog} notInInventory\n     * If the object is not in the inventory, an exception is raised\n     *  ```\n     * {\n     *      id: ITEM_NOT_INVENTORY,\n     *      msg: '...'\n     * }\n     * ```\n     * @memberof ItemManager\n     * @example\n     *\n     * ```ts\n     * import Potion from 'your-database/potion'\n     *\n     * try {\n     *    player.removeItem(Potion, 5)\n     * }\n     * catch (err) {\n     *    console.log(err)\n     * }\n     * ```\n     */\n    removeItem(itemClass, nb = 1) {\n        const itemIndex = this._getItemIndex(itemClass);\n        if (itemIndex == -1) {\n            throw logs_1.ItemLog.notInInventory(itemClass);\n        }\n        const currentNb = this.items[itemIndex].nb;\n        const { item } = this.items[itemIndex];\n        if (currentNb - nb <= 0) {\n            this.items.splice(itemIndex, 1);\n        }\n        else {\n            this.items[itemIndex].nb -= nb;\n        }\n        this['execMethod']('onRemove', [this], item);\n        return this.items[itemIndex];\n    }\n    /**\n     * Purchases an item and reduces the amount of gold\n     *\n     * `onAdd()` method is called on the ItemClass\n     *\n     * @title Buy Item\n     * @method player.buyItem(item,nb=1)\n     * @param {ItemClass | string} itemClass string is item id\n     * @param {number} [nb] Default 1\n     * @returns {{ nb: number, item: instance of ItemClass }}\n     * @throws {ItemLog} haveNotPrice\n     * If you have not set a price on the item\n     *  ```\n     * {\n     *      id: NOT_PRICE,\n     *      msg: '...'\n     * }\n     * ```\n     * @throws {ItemLog} notEnoughGold\n     * If the player does not have enough money\n     *  ```\n     * {\n     *      id: NOT_ENOUGH_GOLD,\n     *      msg: '...'\n     * }\n     * ```\n     * @memberof ItemManager\n     * @example\n     *\n     * ```ts\n     * import Potion from 'your-database/potion'\n     *\n     * try {\n     *    player.buyItem(Potion)\n     * }\n     * catch (err) {\n     *    console.log(err)\n     * }\n     * ```\n     */\n    buyItem(itemClass, nb = 1) {\n        if (isString(itemClass))\n            itemClass = this.databaseById(itemClass);\n        const ItemClass = itemClass;\n        if (!ItemClass.price) {\n            throw logs_1.ItemLog.haveNotPrice(itemClass);\n        }\n        const totalPrice = nb * ItemClass.price;\n        if (this.gold < totalPrice) {\n            throw logs_1.ItemLog.notEnoughGold(itemClass, nb);\n        }\n        this.gold -= totalPrice;\n        return this.addItem(ItemClass, nb);\n    }\n    /**\n     * Sell an item and the player wins the amount of the item divided by 2\n     *\n     * `onRemove()` method is called on the ItemClass\n     *\n     * @title Sell Item\n     * @method player.sellItem(item,nb=1)\n     * @param {ItemClass | string} itemClass string is item id\n     * @param {number} [nbToSell] Default 1\n     * @returns {{ nb: number, item: instance of ItemClass }}\n     * @throws {ItemLog} haveNotPrice\n     * If you have not set a price on the item\n     *   ```\n     * {\n     *      id: NOT_PRICE,\n     *      msg: '...'\n     * }\n     * ```\n     * @throws {ItemLog} notInInventory\n     * If the object is not in the inventory, an exception is raised\n     *  ```\n     * {\n     *      id: ITEM_NOT_INVENTORY,\n     *      msg: '...'\n     * }\n     * ```\n     * @throws {ItemLog} tooManyToSell\n     * If the number of items for sale exceeds the number of actual items in the inventory\n     *  ```\n     * {\n     *      id: TOO_MANY_ITEM_TO_SELL,\n     *      msg: '...'\n     * }\n     * ```\n     * @memberof ItemManager\n     * @example\n     *\n     * ```ts\n     * import Potion from 'your-database/potion'\n     *\n     * try {\n     *     player.addItem(Potion)\n     *     player.sellItem(Potion)\n     * }\n     * catch (err) {\n     *    console.log(err)\n     * }\n     * ```\n     */\n    sellItem(itemClass, nbToSell = 1) {\n        if (isString(itemClass))\n            itemClass = this.databaseById(itemClass);\n        const ItemClass = itemClass;\n        const inventory = this.getItem(ItemClass);\n        if (!inventory) {\n            throw logs_1.ItemLog.notInInventory(itemClass);\n        }\n        const { item, nb } = inventory;\n        if (nb - nbToSell < 0) {\n            throw logs_1.ItemLog.tooManyToSell(itemClass, nbToSell, nb);\n        }\n        if (!ItemClass.price) {\n            throw logs_1.ItemLog.haveNotPrice(itemClass);\n        }\n        this.gold += (ItemClass.price / 2) * nbToSell;\n        this.removeItem(ItemClass, nbToSell);\n        return inventory;\n    }\n    getParamItem(name) {\n        let nb = 0;\n        for (let item of this.equipments) {\n            nb += item[name] || 0;\n        }\n        const modifier = this.paramsModifier[name];\n        if (modifier) {\n            if (modifier.value)\n                nb += modifier.value;\n            if (modifier.rate)\n                nb *= modifier.rate;\n        }\n        return nb;\n    }\n    get atk() {\n        return this.getParamItem(presets_1.ATK);\n    }\n    get pdef() {\n        return this.getParamItem(presets_1.PDEF);\n    }\n    get sdef() {\n        return this.getParamItem(presets_1.SDEF);\n    }\n    /**\n     *  Use an object. Applies effects and states. Removes the object from the inventory then\n     *\n     * `onUse()` method is called on the ItemClass (If the use has worked)\n     * `onRemove()` method is called on the ItemClass\n     *\n     * @title Use an Item\n     * @method player.useItem(item,nb=1)\n     * @param {ItemClass | string} itemClass string is item id\n     * @returns {{ nb: number, item: instance of ItemClass }}\n     * @throws {ItemLog} restriction\n     * If the player has the `Effect.CAN_NOT_ITEM` effect\n     *   ```\n     * {\n     *      id: RESTRICTION_ITEM,\n     *      msg: '...'\n     * }\n     * ```\n     * @throws {ItemLog} notInInventory\n     * If the object is not in the inventory, an exception is raised\n     *  ```\n     * {\n     *      id: ITEM_NOT_INVENTORY,\n     *      msg: '...'\n     * }\n     * ```\n     * @throws {ItemLog} notUseItem\n     * If the `consumable` property is on false\n     *  ```\n     * {\n     *      id: NOT_USE_ITEM,\n     *      msg: '...'\n     * }\n     * ```\n     * @throws {ItemLog} chanceToUseFailed\n     * Chance to use the item has failed. Chances of use is defined with `ItemClass.hitRate`\n     *  ```\n     * {\n     *      id: USE_CHANCE_ITEM_FAILED,\n     *      msg: '...'\n     * }\n     * ```\n     * > the item is still deleted from the inventory\n     *\n     * `onUseFailed()` method is called on the ItemClass\n     *\n     * @memberof ItemManager\n     * @example\n     *\n     * ```ts\n     * import Potion from 'your-database/potion'\n     *\n     * try {\n     *     player.addItem(Potion)\n     *     player.useItem(Potion)\n     * }\n     * catch (err) {\n     *    console.log(err)\n     * }\n     * ```\n     */\n    useItem(itemClass) {\n        const inventory = this.getItem(itemClass);\n        if (this.hasEffect(database_1.Effect.CAN_NOT_ITEM)) {\n            throw logs_1.ItemLog.restriction(itemClass);\n        }\n        if (!inventory) {\n            throw logs_1.ItemLog.notInInventory(itemClass);\n        }\n        const { item } = inventory;\n        if (item.consumable === false) {\n            throw logs_1.ItemLog.notUseItem(itemClass);\n        }\n        const hitRate = item.hitRate || 1;\n        if (Math.random() > hitRate) {\n            this.removeItem(itemClass);\n            this['execMethod']('onUseFailed', [this], item);\n            throw logs_1.ItemLog.chanceToUseFailed(itemClass);\n        }\n        this.applyEffect(item);\n        this.applyStates(this, item);\n        this['execMethod']('onUse', [this], item);\n        this.removeItem(itemClass);\n        return inventory;\n    }\n    /**\n     * Equips a weapon or armor on a player. Think first to add the item in the inventory with the `addItem()` method before equipping the item.\n     *\n     * `onEquip()` method is called on the ItemClass\n     *\n     * @title Equip Weapon or Armor\n     * @method player.equip(itemClass,equip=true)\n     * @param {ItemClass | string} itemClass string is item id\n     * @param {number} [equip] Equip the object if true or un-equipped if false\n     * @returns {void}\n     * @throws {ItemLog} notInInventory\n     * If the item is not in the inventory\n     *  ```\n        {\n            id: ITEM_NOT_INVENTORY,\n            msg: '...'\n        }\n        ```\n     * @throws {ItemLog} invalidToEquiped\n        If the item is not by a weapon or armor\n        ```\n        {\n            id: INVALID_ITEM_TO_EQUIP,\n            msg: '...'\n        }\n        ```\n    * @throws {ItemLog} isAlreadyEquiped\n        If the item Is already equipped\n        ```\n        {\n            id: ITEM_ALREADY_EQUIPED,\n            msg: '...'\n        }\n        ```\n     * @memberof ItemManager\n     * @example\n     *\n     * ```ts\n     * import Sword from 'your-database/sword'\n     *\n     * try {\n     *      player.addItem(Sword)\n     *      player.equip(Sword)\n     * }\n     * catch (err) {\n     *    console.log(err)\n     * }\n     * ```\n     */\n    equip(itemClass, equip = true) {\n        const inventory = this.getItem(itemClass);\n        if (!inventory) {\n            throw logs_1.ItemLog.notInInventory(itemClass);\n        }\n        if (itemClass._type == 'item') {\n            throw logs_1.ItemLog.invalidToEquiped(itemClass);\n        }\n        const { item } = inventory;\n        if (item.equipped && equip) {\n            throw logs_1.ItemLog.isAlreadyEquiped(itemClass);\n        }\n        item.equipped = equip;\n        if (!equip) {\n            const index = this.equipments.findIndex(it => it.id == item.id);\n            this.equipments.splice(index, 1);\n        }\n        else {\n            this.equipments.push(item);\n        }\n        this['execMethod']('onEquip', [this, equip], item);\n    }\n}\nexports.ItemManager = ItemManager;\napplyMixins(ItemManager, [GoldManager_1.GoldManager, StateManager_1.StateManager, EffectManager_1.EffectManager]);\n//# sourceMappingURL=ItemManager.js.map\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/server/lib/Player/ItemManager.js?");

/***/ }),

/***/ "./node_modules/@rpgjs/server/lib/Player/MoveManager.js":
/*!**************************************************************!*\
  !*** ./node_modules/@rpgjs/server/lib/Player/MoveManager.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MoveManager = exports.Move = exports.Speed = exports.Frequency = void 0;\nconst common_1 = __webpack_require__(/*! @rpgjs/common */ \"./node_modules/@rpgjs/common/lib/index.js\");\nconst common_2 = __webpack_require__(/*! @rpgjs/common */ \"./node_modules/@rpgjs/common/lib/index.js\");\nconst { arrayFlat, random, isFunction, capitalize, perlin } = common_2.Utils;\nfunction wait(sec) {\n    return new Promise((resolve) => {\n        setTimeout(resolve, sec * 1000);\n    });\n}\nvar Frequency;\n(function (Frequency) {\n    Frequency[Frequency[\"Lowest\"] = 600] = \"Lowest\";\n    Frequency[Frequency[\"Lower\"] = 400] = \"Lower\";\n    Frequency[Frequency[\"Low\"] = 200] = \"Low\";\n    Frequency[Frequency[\"High\"] = 100] = \"High\";\n    Frequency[Frequency[\"Highter\"] = 50] = \"Highter\";\n    Frequency[Frequency[\"Highest\"] = 25] = \"Highest\";\n    Frequency[Frequency[\"None\"] = 0] = \"None\";\n})(Frequency = exports.Frequency || (exports.Frequency = {}));\nvar Speed;\n(function (Speed) {\n    Speed[Speed[\"Slowest\"] = 0.2] = \"Slowest\";\n    Speed[Speed[\"Slower\"] = 0.5] = \"Slower\";\n    Speed[Speed[\"Slow\"] = 1] = \"Slow\";\n    Speed[Speed[\"Normal\"] = 3] = \"Normal\";\n    Speed[Speed[\"Fast\"] = 5] = \"Fast\";\n    Speed[Speed[\"Faster\"] = 7] = \"Faster\";\n    Speed[Speed[\"Fastest\"] = 10] = \"Fastest\";\n})(Speed = exports.Speed || (exports.Speed = {}));\n/**\n* @title Move\n* @enum {Object}\n*\n* Move.right(repeat=1) | Movement of a number of pixels on the right\n* Move.left(repeat=1) | Movement of a number of pixels on the left\n* Move.up(repeat=1) | Movement of a number of pixels on the up\n* Move.down(repeat=1) | Movement of a number of pixels on the down\n* Move.random(repeat=1) | Movement of a number of pixels in a random direction\n* Move.towardPlayer(player, repeat=1) | Moves a number of pixels in the direction of the designated player\n* Move.awayFromPlayer(player, repeat=1) | Moves a number of pixels in the opposite direction of the designated player\n* Move.tileRight(repeat=1) | Movement of a number of tiles on the right\n* Move.tileLeft(repeat=1) | Movement of a number of tiles on the left\n* Move.tileUp(repeat=1) | Movement of a number of tiles on the up\n* Move.tileDown(repeat=1) | Movement of a number of tiles on the down\n* Move.tileRandom(repeat=1) | Movement of a number of tiles in a random direction\n* Move.tileTowardPlayer(player, repeat=1) | Moves a number of tiles in the direction of the designated player\n* Move.tileAwayFromPlayer(player, repeat=1) | Moves a number of tiles in the opposite direction of the designated player\n* Move.turnRight() | Turn to the right\n* Move.turnLeft() | Turn to the left\n* Move.turnUp() | Turn to the up\n* Move.turnDown() | Turn to the down\n* Move.turnRandom() | Turn to random direction\n* Move.turnAwayFromPlayer(player) | Turns in the opposite direction of the designated player\n* Move.turnTowardPlayer(player) | Turns in the direction of the designated player\n* @memberof Move\n* */\nexports.Move = new class {\n    repeatMove(direction, repeat) {\n        return new Array(repeat).fill(direction);\n    }\n    repeatTileMove(direction, repeat, propMap) {\n        return (player, map) => {\n            const repeatTile = Math.floor(map[propMap] / player.speed) * repeat;\n            return this[direction](repeatTile);\n        };\n    }\n    right(repeat = 1) {\n        return this.repeatMove(common_1.Direction.Right, repeat);\n    }\n    left(repeat = 1) {\n        return this.repeatMove(common_1.Direction.Left, repeat);\n    }\n    up(repeat = 1) {\n        return this.repeatMove(common_1.Direction.Up, repeat);\n    }\n    down(repeat = 1) {\n        return this.repeatMove(common_1.Direction.Down, repeat);\n    }\n    wait(sec) {\n        return wait(sec);\n    }\n    random(repeat = 1) {\n        return new Array(repeat).fill(null).map(() => [\n            common_1.Direction.Right,\n            common_1.Direction.Left,\n            common_1.Direction.Up,\n            common_1.Direction.Down\n        ][random(0, 3)]);\n    }\n    tileRight(repeat = 1) {\n        return this.repeatTileMove(common_1.Direction.Right, repeat, 'tileWidth');\n    }\n    tileLeft(repeat = 1) {\n        return this.repeatTileMove(common_1.Direction.Left, repeat, 'tileWidth');\n    }\n    tileUp(repeat = 1) {\n        return this.repeatTileMove(common_1.Direction.Up, repeat, 'tileHeight');\n    }\n    tileDown(repeat = 1) {\n        return this.repeatTileMove(common_1.Direction.Down, repeat, 'tileHeight');\n    }\n    tileRandom(repeat = 1) {\n        return (player, map) => {\n            let directions = [];\n            for (let i = 0; i < repeat; i++) {\n                const randFn = [\n                    this.tileRight(),\n                    this.tileLeft(),\n                    this.tileUp(),\n                    this.tileDown()\n                ][random(0, 3)];\n                directions = [\n                    ...directions,\n                    ...randFn(player, map)\n                ];\n            }\n            return directions;\n        };\n    }\n    _awayFromPlayerDirection(player, otherPlayer) {\n        const directionOtherPlayer = otherPlayer.getDirection();\n        let newDirection = '';\n        switch (directionOtherPlayer) {\n            case common_1.Direction.Left:\n            case common_1.Direction.Right:\n                if (otherPlayer.position.x > player.position.x) {\n                    newDirection = common_1.Direction.Left;\n                }\n                else {\n                    newDirection = common_1.Direction.Right;\n                }\n                break;\n            case common_1.Direction.Up:\n            case common_1.Direction.Down:\n                if (otherPlayer.position.y > player.position.y) {\n                    newDirection = common_1.Direction.Up;\n                }\n                else {\n                    newDirection = common_1.Direction.Down;\n                }\n                break;\n        }\n        return newDirection;\n    }\n    _towardPlayerDirection(player, otherPlayer) {\n        const directionOtherPlayer = otherPlayer.getDirection();\n        let newDirection = '';\n        switch (directionOtherPlayer) {\n            case common_1.Direction.Left:\n            case common_1.Direction.Right:\n                if (otherPlayer.position.x > player.position.x) {\n                    newDirection = common_1.Direction.Right;\n                }\n                else {\n                    newDirection = common_1.Direction.Left;\n                }\n                break;\n            case common_1.Direction.Up:\n            case common_1.Direction.Down:\n                if (otherPlayer.position.y > player.position.y) {\n                    newDirection = common_1.Direction.Down;\n                }\n                else {\n                    newDirection = common_1.Direction.Up;\n                }\n                break;\n        }\n        return newDirection;\n    }\n    _awayFromPlayer({ isTile, typeMov }, otherPlayer, repeat = 1) {\n        const method = dir => this[isTile ? 'tile' + capitalize(dir) : dir](repeat);\n        return (player, map) => {\n            let newDirection = '';\n            switch (typeMov) {\n                case 'away':\n                    newDirection = this._awayFromPlayerDirection(player, otherPlayer);\n                    break;\n                case 'toward':\n                    newDirection = this._towardPlayerDirection(player, otherPlayer);\n                    break;\n            }\n            let direction = method(newDirection);\n            if (isFunction(direction)) {\n                direction = direction(player, map);\n            }\n            return direction;\n        };\n    }\n    towardPlayer(player, repeat = 1) {\n        return this._awayFromPlayer({ isTile: false, typeMov: 'toward' }, player, repeat);\n    }\n    tileTowardPlayer(player, repeat = 1) {\n        return this._awayFromPlayer({ isTile: true, typeMov: 'toward' }, player, repeat);\n    }\n    awayFromPlayer(player, repeat = 1) {\n        return this._awayFromPlayer({ isTile: false, typeMov: 'away' }, player, repeat);\n    }\n    tileAwayFromPlayer(player, repeat = 1) {\n        return this._awayFromPlayer({ isTile: true, typeMov: 'away' }, player, repeat);\n    }\n    turnLeft() {\n        return 'turn-left';\n    }\n    turnRight() {\n        return 'turn-right';\n    }\n    turnUp() {\n        return 'turn-up';\n    }\n    turnDown() {\n        return 'turn-down';\n    }\n    turnRandom() {\n        return [\n            this.turnRight(),\n            this.turnLeft(),\n            this.turnUp(),\n            this.turnDown()\n        ][random(0, 3)];\n    }\n    turnAwayFromPlayer(otherPlayer) {\n        return (player) => {\n            const direction = this._awayFromPlayerDirection(player, otherPlayer);\n            return 'turn-' + direction;\n        };\n    }\n    turnTowardPlayer(otherPlayer) {\n        return (player) => {\n            const direction = this._towardPlayerDirection(player, otherPlayer);\n            return 'turn-' + direction;\n        };\n    }\n};\nclass MoveManager {\n    /**\n     * Gives an itinerary.\n     *\n     * You can create your own motion function:\n     *\n     * ```ts\n     * import { Direction } from '@rpgjs/server'\n     *\n     * const customMove = () => {\n     *      return [Direction.Left, Direction.Up]\n     * }\n     *\n     * player.moveRoutes([ customMove() ])\n     * ```\n     *\n     * Your function can also return a function:\n     *\n     *  ```ts\n     * import { Direction, RpgPlayer } from '@rpgjs/server'\n     *\n     * // This function can be found in another file. By returning a function, you have access to the player who is making a move.\n     * const customMove = (otherPlayer: RpgPlayer) => {\n     *      return (player: RpgPlayer, map) => {\n     *          return otherPlayer.position.x > player.position.x ? Direction.Left : Direction.Right\n     *      }\n     * }\n     *\n     * player.moveRoutes([ customMove(otherPlayer) ])\n     * ```\n     *\n     * the function contains two parameters:\n     *\n     * - `player`: the player concerned by the movement\n     * - `map`: The information of the current map\n     *\n     * @title Give an itinerary\n     * @method player.moveRoutes(routes)\n     * @param {Array<Move>} routes\n     * @returns {Promise}\n     * @memberof MoveManager\n     * @example\n     *\n     * ```ts\n     * import { Move } from '@rpgjs/server'\n     *\n     * await player.moveRoutes([ Move.tileLeft(), Move.tileDown(2) ])\n     * // The path is over when the promise is resolved\n     * ```\n     */\n    moveRoutes(routes) {\n        let count = 0;\n        let frequence = this.frequency;\n        return new Promise((resolve) => {\n            this._finishRoute = resolve;\n            routes = routes.map((route) => {\n                if (isFunction(route)) {\n                    return route(this, this.getCurrentMap());\n                }\n                return route;\n            });\n            routes = arrayFlat(routes);\n            const move = () => {\n                if (count % this['nbPixelInTile'] == 0) {\n                    if (frequence < this.frequency) {\n                        frequence++;\n                        return;\n                    }\n                }\n                frequence = 0;\n                count++;\n                const [route] = routes;\n                if (!route) {\n                    this.breakRoutes();\n                    return;\n                }\n                switch (route) {\n                    case common_1.Direction.Left:\n                    case common_1.Direction.Down:\n                    case common_1.Direction.Right:\n                    case common_1.Direction.Up:\n                        this.moveByDirection(route);\n                        break;\n                    case 'turn-left':\n                        this.changeDirection(common_1.Direction.Left);\n                        break;\n                    case 'turn-right':\n                        this.changeDirection(common_1.Direction.Right);\n                        break;\n                    case 'turn-up':\n                        this.changeDirection(common_1.Direction.Up);\n                        break;\n                    case 'turn-down':\n                        this.changeDirection(common_1.Direction.Down);\n                        break;\n                }\n                routes.shift();\n                /*\n                if (this.constructor['mode'] == EventMode.Scenario) {\n                    const room = World.getRoom(this['map'])\n                    if (room.$detectChanges) room.$detectChanges()\n                }\n                */\n            };\n            move();\n            this.movingInterval = setInterval(move, 16);\n        });\n    }\n    /**\n     * Giving a path that repeats itself in a loop to a character\n     *\n     * You can stop the movement at any time with `breakRoutes()` and replay it with `replayRoutes()`.\n     *\n     * @title Infinite Move Routes\n     * @method player.infiniteMoveRoute(routes)\n     * @param {Array<Move>} routes\n     * @returns {void}\n     * @memberof MoveManager\n     * @example\n     *\n     * ```ts\n     * import { Move } from '@rpgjs/server'\n     *\n     * player.infiniteMoveRoute([ Move.tileRandom() ])\n     * ```\n     */\n    infiniteMoveRoute(routes) {\n        this._infiniteRoutes = routes;\n        const move = (isBreaking) => {\n            if (isBreaking)\n                return;\n            this.moveRoutes(routes).then(move);\n        };\n        move(false);\n    }\n    /**\n     * Works only for infinite movements. You must first use the method `infiniteMoveRoute()`\n     *\n     * @title Stop an infinite movement\n     * @method player.breakRoutes(force=false)\n     * @param {boolean} [force] Forces the stop of the infinite movement\n     * @returns {void}\n     * @memberof MoveManager\n     * @example\n     *\n     * ```ts\n     * import { Move } from '@rpgjs/server'\n     *\n     * player.infiniteMoveRoute([ Move.tileRandom() ])\n     * player.breakRoutes(true)\n     * ```\n     */\n    breakRoutes(force = false) {\n        if (this._finishRoute) {\n            clearInterval(this.movingInterval);\n            this._finishRoute(force);\n        }\n    }\n    /**\n     * Works only for infinite movements. You must first use the method `infiniteMoveRoute()`\n     * If the road was stopped with `breakRoutes()`, you can restart it with this method\n     *\n     * @title Replay an infinite movement\n     * @method player.replayRoutes()\n     * @returns {void}\n     * @memberof MoveManager\n     * @example\n     *\n     * ```ts\n     * import { Move } from '@rpgjs/server'\n     *\n     * player.infiniteMoveRoute([ Move.tileRandom() ])\n     * player.breakRoutes(true)\n     * player.replayRoutes()\n     * ```\n     */\n    replayRoutes() {\n        if (this._infiniteRoutes)\n            this.infiniteMoveRoute(this._infiniteRoutes);\n    }\n}\nexports.MoveManager = MoveManager;\n//# sourceMappingURL=MoveManager.js.map\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/server/lib/Player/MoveManager.js?");

/***/ }),

/***/ "./node_modules/@rpgjs/server/lib/Player/ParameterManager.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@rpgjs/server/lib/Player/ParameterManager.js ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ParameterManager = void 0;\nconst common_1 = __webpack_require__(/*! @rpgjs/common */ \"./node_modules/@rpgjs/common/lib/index.js\");\nconst presets_1 = __webpack_require__(/*! ../presets */ \"./node_modules/@rpgjs/server/lib/presets/index.js\");\nconst { isString } = common_1.Utils;\nclass ParameterManager {\n    constructor() {\n        this._paramsModifier = {};\n        this._hp = 0;\n        this._sp = 0;\n        this._exp = 0;\n        this._level = 0;\n        /**\n        * ```ts\n        * player.initialLevel = 5\n        * ```\n        *\n        * @title Set initial level\n        * @prop {number} player.initialLevel\n        * @default 1\n        * @memberof ParameterManager\n        * */\n        this.initialLevel = 1;\n        /**\n         * ```ts\n         * player.finalLevel = 50\n         * ```\n         *\n         * @title Set final level\n         * @prop {number} player.finalLevel\n         * @default 99\n         * @memberof ParameterManager\n         * */\n        this.finalLevel = 99;\n    }\n    /**\n     * Changes the health points\n     * - Cannot exceed the MaxHP parameter\n     * - Cannot have a negative value\n     * - If the value is 0, a hook named `onDead()` is called in the RpgPlayer class.\n     *\n     * ```ts\n     * player.hp = 100\n     * ```\n     * @title Change HP\n     * @prop {number} player.hp\n     * @default MaxHPValue\n     * @memberof ParameterManager\n     * */\n    set hp(val) {\n        if (val > this.param[presets_1.MAXHP]) {\n            val = this.param[presets_1.MAXHP];\n        }\n        else if (val <= 0) {\n            this['_triggerHook']('onDead');\n            val = 0;\n        }\n        this._hp = val;\n    }\n    get hp() {\n        return this._hp;\n    }\n    /**\n     * Changes the skill points\n     * - Cannot exceed the MaxSP parameter\n     * - Cannot have a negative value\n     *\n     * ```ts\n     * player.sp = 200\n     * ```\n     * @title Change SP\n     * @prop {number} player.sp\n     * @default MaxSPValue\n     * @memberof ParameterManager\n     * */\n    set sp(val) {\n        if (val > this.param[presets_1.MAXSP]) {\n            val = this.param[presets_1.MAXSP];\n        }\n        this._sp = val;\n    }\n    get sp() {\n        return this._sp;\n    }\n    /**\n     * Changing the player's experience.\n     * ```ts\n     * player.exp += 100\n     * ```\n     *\n     * Levels are based on the experience curve.\n     *\n     * ```ts\n     * console.log(player.level) // 1\n     * console.log(player.expForNextlevel) // 150\n     * player.exp += 160\n     * console.log(player.level) // 2\n     * ```\n     *\n     * @title Change Experience\n     * @prop {number} player.exp\n     * @default 0\n     * @memberof ParameterManager\n     * */\n    set exp(val) {\n        this._exp = val;\n        const lastLevel = this.level;\n        while (this.expForNextlevel < this._exp) {\n            this.level += 1;\n        }\n        //const hasNewLevel = player.level - lastLevel\n    }\n    get exp() {\n        return this._exp;\n    }\n    /**\n     * Changing the player's level.\n     *\n     * ```ts\n     * player.level += 1\n     * ```\n     *\n     * The level will be between the initial level given by the `initialLevel` and final level given by `finalLevel`\n     *\n     * ```ts\n     * player.finalLevel = 50\n     * player.level = 60\n     * console.log(player.level) // 50\n     * ```\n     *\n     * @title Change Level\n     * @prop {number} player.level\n     * @default 1\n     * @memberof ParameterManager\n     * */\n    set level(val) {\n        const lastLevel = this._level;\n        if (this.finalLevel && this._level > this.finalLevel) {\n            val = this.finalLevel;\n        }\n        if (this._class) {\n            for (let i = this._level; i <= val; i++) {\n                for (let skill of this._class.skillsToLearn) {\n                    if (skill.level == i) {\n                        this['learnSkill'](skill.skill);\n                    }\n                }\n            }\n        }\n        const hasNewLevel = val - lastLevel;\n        if (hasNewLevel > 0)\n            this['_triggerHook']('onLevelUp', hasNewLevel);\n        this._level = val;\n    }\n    get level() {\n        return this._level;\n    }\n    /**\n    * ```ts\n    * console.log(player.expForNextlevel) // 150\n    * ```\n    * @title Experience for next level ?\n    * @prop {number} player.expForNextlevel\n    * @readonly\n    * @memberof ParameterManager\n    * */\n    get expForNextlevel() {\n        return this._expForLevel(this.level + 1);\n    }\n    /**\n     * Read the value of a parameter. Put the name of the parameter.\n     *\n     * ```ts\n     * import { Presets } from '@rpgjs/server'\n     *\n     * const { MAXHP } = Presets\n     *\n     * console.log(player.param[MAXHP])\n     * ```\n     *\n     * > Possible to use the `player.getParamValue(name)` method instead\n     * @title Get Param Value\n     * @prop {object} player.param\n     * @readonly\n     * @memberof ParameterManager\n     * */\n    get param() {\n        const obj = {};\n        this._parameters.forEach((val, name) => {\n            obj[name] = this.getParamValue(name);\n        });\n        return obj;\n    }\n    get paramsModifier() {\n        const params = {};\n        const paramsAvg = {};\n        const changeParam = (paramsModifier) => {\n            for (let key in paramsModifier) {\n                const { rate, value } = paramsModifier[key];\n                if (!params[key])\n                    params[key] = { rate: 0, value: 0 };\n                if (!paramsAvg[key])\n                    paramsAvg[key] = 0;\n                if (value)\n                    params[key].value += value;\n                if (rate !== undefined)\n                    params[key].rate += rate;\n                paramsAvg[key]++;\n            }\n        };\n        const getModifier = (prop) => {\n            if (!isString(prop)) {\n                changeParam(prop);\n                return;\n            }\n            for (let el of this[prop]) {\n                if (!el.paramsModifier)\n                    continue;\n                changeParam(el.paramsModifier);\n            }\n        };\n        getModifier(this._paramsModifier);\n        getModifier('states');\n        getModifier('equipments');\n        for (let key in params) {\n            params[key].rate /= paramsAvg[key];\n        }\n        return params;\n    }\n    /**\n     * Changes the values of some parameters\n     *\n     * > It is important that these parameters have been created beforehand with the `addParameter()` method.\n     * > By default, the following settings have been created:\n     * - maxhp\n     * - maxsp\n     * - str\n     * - int\n     * - dex\n     * - agi\n     *\n     * **Object Key**\n     *\n     * The key of the object is the name of the parameter\n     *\n     * > The good practice is to retrieve the name coming from a constant\n     *\n     * **Object Value**\n     *\n     * The value of the key is an object containing:\n     * ```\n     * {\n     *   value: number,\n     *   rate: number\n     * }\n     * ```\n     *\n     * - value: Adds a number to the parameter\n     * - rate: Adds a rate to the parameter\n     *\n     * > Note that you can put both (value and rate)\n     *\n     * In the case of a state or the equipment of a weapon or armor, the parameters will be changed but if the state disappears or the armor/weapon is de-equipped, then the parameters will return to the initial state.\n     *\n     * @prop {Object} [paramsModifier]\n     * @example\n     *\n     * ```ts\n     * import { Presets } from '@rpgjs/server'\n     *\n     * const { MAXHP } = Presets\n     *\n     * player.paramsModifier = {\n     *      [MAXHP]: {\n     *          value: 100\n     *      }\n     * }\n     * ```\n     *\n     * 1. Player has 741 MaxHp\n     * 2. After changing the parameter, he will have 841 MaxHp\n     *\n     * @title Set Parameters Modifier\n     * @prop {number} paramsModifier\n     * @memberof ParameterManager\n     * */\n    set paramsModifier(val) {\n        this._paramsModifier = val;\n    }\n    get parameters() {\n        return this._parameters;\n    }\n    set parameters(val) {\n        this._parameters = val;\n    }\n    _expForLevel(level) {\n        const { basis, extra, accelerationA, accelerationB } = this.expCurve;\n        return Math.round(basis * (Math.pow(level - 1, 0.9 + accelerationA / 250)) * level * (level + 1) / (6 + Math.pow(level, 2) / 50 / accelerationB) + (level - 1) * extra);\n    }\n    getParam(name) {\n        const features = this._parameters.get(name);\n        if (!features) {\n            throw `Parameter ${name} not exists. Please use addParameter() before`;\n        }\n        return features;\n    }\n    getParamValue(name) {\n        const features = this.getParam(name);\n        let curveVal = Math.floor((features.end - features.start) * ((this.level - 1) / (this.finalLevel - this.initialLevel))) + features.start;\n        const modifier = this.paramsModifier[name];\n        if (modifier) {\n            if (modifier.rate)\n                curveVal *= modifier.rate;\n            if (modifier.value)\n                curveVal += modifier.value;\n        }\n        return curveVal;\n    }\n    /**\n     * Give a new parameter. Give a start value and an end value.\n     * The start value will be set to the level set at `player.initialLevel` and the end value will be linked to the level set at `player.finalLevel`.\n     *\n     * ```ts\n     * const SPEED = 'speed'\n     *\n     * player.addParameter(SPEED, {\n     *     start: 10,\n     *     end: 100\n     * })\n     *\n     * player.param[SPEED] // 10\n     * player.level += 5\n     * player.param[SPEED] // 14\n     * ```\n     *\n     * @title Add custom parameters\n     * @method player.addParameter(name,curve)\n     * @param {name} name\n     * @param {object} curve Scheme of the object: { start: number, end: number }\n     * @returns {void}\n     * @memberof ParameterManager\n     * */\n    addParameter(name, { start, end }) {\n        this._parameters.set(name, {\n            start,\n            end\n        });\n    }\n    /**\n     * Gives back in percentage of health points to skill points\n     *\n     * ```ts\n     * import { Presets } from '@rpgjs/server'\n     *\n     * const { MAXHP } = Presets\n     *\n     * console.log(player.param[MAXHP]) // 800\n     * player.hp = 100\n     * player.recovery({ hp: 0.5 }) // = 800 * 0.5\n     * console.log(player.hp) // 400\n     * ```\n     *\n     * @title Recovery HP and/or SP\n     * @method player.recovery(params)\n     * @param {object} params Scheme of the object: { hp: number, sp: number }. The values of the numbers must be in 0 and 1\n     * @returns {void}\n     * @memberof ParameterManager\n     * */\n    recovery({ hp, sp }) {\n        if (hp)\n            this.hp = this.param[presets_1.MAXHP] * hp;\n        if (sp)\n            this.sp = this.param[presets_1.MAXSP] * sp;\n    }\n    /**\n     * restores all HP and SP\n     *\n     * ```ts\n     * import { Presets } from '@rpgjs/server'\n     *\n     * const { MAXHP, MAXSP } = Presets\n     *\n     * console.log(player.param[MAXHP], player.param[MAXSP]) // 800, 230\n     * player.hp = 100\n     * player.sp = 0\n     * player.allRecovery()\n     * console.log(player.hp, player.sp) // 800, 230\n     * ```\n     *\n     * @title All Recovery\n     * @method player.allRecovery()\n     * @returns {void}\n     * @memberof ParameterManager\n     * */\n    allRecovery() {\n        this.recovery({ hp: 1, sp: 1 });\n    }\n}\nexports.ParameterManager = ParameterManager;\n//# sourceMappingURL=ParameterManager.js.map\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/server/lib/Player/ParameterManager.js?");

/***/ }),

/***/ "./node_modules/@rpgjs/server/lib/Player/Player.js":
/*!*********************************************************!*\
  !*** ./node_modules/@rpgjs/server/lib/Player/Player.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RpgPlayer = void 0;\nconst common_1 = __webpack_require__(/*! @rpgjs/common */ \"./node_modules/@rpgjs/common/lib/index.js\");\nconst YUKA = __importStar(__webpack_require__(/*! yuka */ \"yuka\"));\nconst Query_1 = __webpack_require__(/*! ../Query */ \"./node_modules/@rpgjs/server/lib/Query.js\");\nconst lodash_merge_1 = __importDefault(__webpack_require__(/*! lodash.merge */ \"lodash.merge\"));\nconst ItemManager_1 = __webpack_require__(/*! ./ItemManager */ \"./node_modules/@rpgjs/server/lib/Player/ItemManager.js\");\nconst GoldManager_1 = __webpack_require__(/*! ./GoldManager */ \"./node_modules/@rpgjs/server/lib/Player/GoldManager.js\");\nconst StateManager_1 = __webpack_require__(/*! ./StateManager */ \"./node_modules/@rpgjs/server/lib/Player/StateManager.js\");\nconst SkillManager_1 = __webpack_require__(/*! ./SkillManager */ \"./node_modules/@rpgjs/server/lib/Player/SkillManager.js\");\nconst ParameterManager_1 = __webpack_require__(/*! ./ParameterManager */ \"./node_modules/@rpgjs/server/lib/Player/ParameterManager.js\");\nconst EffectManager_1 = __webpack_require__(/*! ./EffectManager */ \"./node_modules/@rpgjs/server/lib/Player/EffectManager.js\");\nconst ClassManager_1 = __webpack_require__(/*! ./ClassManager */ \"./node_modules/@rpgjs/server/lib/Player/ClassManager.js\");\nconst ElementManager_1 = __webpack_require__(/*! ./ElementManager */ \"./node_modules/@rpgjs/server/lib/Player/ElementManager.js\");\nconst GuiManager_1 = __webpack_require__(/*! ./GuiManager */ \"./node_modules/@rpgjs/server/lib/Player/GuiManager.js\");\nconst VariableManager_1 = __webpack_require__(/*! ./VariableManager */ \"./node_modules/@rpgjs/server/lib/Player/VariableManager.js\");\nconst MoveManager_1 = __webpack_require__(/*! ./MoveManager */ \"./node_modules/@rpgjs/server/lib/Player/MoveManager.js\");\nconst BattleManager_1 = __webpack_require__(/*! ./BattleManager */ \"./node_modules/@rpgjs/server/lib/Player/BattleManager.js\");\nconst presets_1 = __webpack_require__(/*! ../presets */ \"./node_modules/@rpgjs/server/lib/presets/index.js\");\nconst BehaviorManager_1 = __webpack_require__(/*! ./BehaviorManager */ \"./node_modules/@rpgjs/server/lib/Player/BehaviorManager.js\");\nconst { isPromise, applyMixins, isString } = common_1.Utils;\nconst itemSchemas = {\n    name: String,\n    description: String,\n    price: Number,\n    consumable: Boolean,\n    id: String\n};\nconst playerSchemas = {\n    position: {\n        x: Number,\n        y: Number,\n        z: Number\n    },\n    direction: Number,\n    teleported: Number,\n    vision: {\n        ellipse: Boolean,\n        height: Number,\n        width: Number,\n        type: String\n    },\n    param: Object,\n    hp: Number,\n    sp: Number,\n    gold: Number,\n    level: Number,\n    exp: Number,\n    name: String,\n    expForNextlevel: Number,\n    items: [{ nb: Number, item: itemSchemas }],\n    _class: { name: String, description: String, id: String },\n    equipments: [itemSchemas],\n    skills: [{ name: String, description: String, spCost: Number, id: String }],\n    states: [{ name: String, description: String, id: String }],\n    effects: [String],\n    graphic: String,\n    action: Number,\n    map: String,\n    speed: Number,\n    canMove: Boolean,\n    through: Boolean,\n    throughOtherPlayer: Boolean,\n    width: Number,\n    height: Number,\n    wHitbox: Number,\n    hHitbox: Number\n};\nclass RpgPlayer extends common_1.RpgCommonPlayer {\n    constructor(gameEngine, playerId) {\n        super(gameEngine, playerId);\n        this.type = 'player';\n        this.events = [];\n        this._rooms = [];\n        // As soon as a teleport has been made, the value is changed to force the client to change the positions on the map without making a move.\n        this.teleported = 0;\n        this.initialize();\n    }\n    initialize() {\n        this.expCurve = {\n            basis: 30,\n            extra: 20,\n            accelerationA: 30,\n            accelerationB: 30\n        };\n        this.parameters = new Map();\n        this.variables = new Map();\n        this.states = [];\n        this.equipments = [];\n        this._effects = [];\n        this.items = [];\n        this.skills = [];\n        this.gold = 0;\n        this.exp = 0;\n        this.speed = MoveManager_1.Speed.Normal;\n        this.frequency = MoveManager_1.Frequency.None;\n        this.canMove = true;\n        this.through = false;\n        this.throughOtherPlayer = true;\n        // this.steerable = new Kompute.Steerable(this.playerId, new Kompute.Vector3D(), new Kompute.Vector3D(10, 10, 0))\n        this.steerable = new YUKA.Vehicle();\n        this.initialLevel = 1;\n        this.finalLevel = 99;\n        this.level = this.initialLevel;\n        this._gui = {};\n        this._elementsEfficiency = [];\n        this._statesEfficiency = [];\n        this.addParameter(presets_1.MAXHP, presets_1.MAXHP_CURVE);\n        this.addParameter(presets_1.MAXSP, presets_1.MAXSP_CURVE);\n        this.addParameter(presets_1.STR, presets_1.STR_CURVE);\n        this.addParameter(presets_1.INT, presets_1.INT_CURVE);\n        this.addParameter(presets_1.DEX, presets_1.DEX_CURVE);\n        this.addParameter(presets_1.AGI, presets_1.AGI_CURVE);\n        this.allRecovery();\n    }\n    _init() {\n        this._socket.on('gui.interaction', ({ guiId, name, data }) => {\n            if (this._gui[guiId]) {\n                this._gui[guiId].emit(name, data);\n                this.syncChanges();\n            }\n        });\n        this._socket.on('gui.exit', ({ guiId, data }) => {\n            this.removeGui(guiId, data);\n        });\n    }\n    /**\n     * ```ts\n     * player.name = 'Link'\n     * ```\n     * @title Read/Give a name\n     * @prop {string} player.name\n     * @memberof Player\n     * */\n    get name() {\n        return this._name;\n    }\n    set name(val) {\n        this._name = val;\n    }\n    /**\n     * Give the spritesheet identifier\n     *\n     * > You must, on the client side, create the spritesheet in question. Guide: [Create Sprite](/guide/create-sprite.html)\n     *\n     * @title Set Graphic\n     * @method player.setGraphic(graphic)\n     * @param {string} graphic\n     * @returns {void}\n     * @memberof Player\n     */\n    setGraphic(graphic) {\n        this.graphic = graphic;\n    }\n    /**\n     * Define a vision for the event.\n     *\n     * The object in parameter\n     * - type: `box`\n     * - height: Height\n     * - width: Width\n     *\n     * the `onInVision()` and `onOutVision()` methods are triggered on the `RpgPlayer` class\n     *\n     * ```ts\n     * player.setVision({\n     *      type: 'box',\n     *      width: 100,\n     *      height: 100\n     * })\n     * ```\n     *\n     * @title Set Vision\n     * @todo\n     * @method player.setVision(obj)\n     * @param {object} obj\n     * @memberof Player\n     */\n    setVision(obj) {\n        if (!this.hitbox) {\n            throw 'Please define hitbox property before';\n        }\n        this.vision = obj;\n    }\n    /**\n     * Change your map. Indicate the positions to put the player at a place on the map\n     *\n     * > The map must be added to RpgServer beforehand. Guide: [Create Map](/guide/create-map.html)\n     *\n     * You don't have to give positions but you can put a starting position in the TMX file. Guide: [Start Position](/guide/player-start.html)\n     *\n     * @title Change Map\n     * @method player.changeMap(mapId,positions)\n     * @param {string} mapId\n     * @param { {x: number, y: number, z?: number} | string } [positions]\n     * @returns {Promise<RpgMap>}\n     * @memberof Player\n     */\n    changeMap(mapId, positions) {\n        return this.server.getScene('map').changeMap(mapId, this, positions);\n    }\n    /**\n     * Allows to change the positions of the player on the current map.\n     * You can put the X and Y positions or the name of the created shape on Tiled Map Editor.\n     * If you have several shapes with the same name, one position will be chosen randomly.\n     *\n     * ```ts\n     * player.teleport({ x: 100, y: 500 })\n     * ```\n     *\n     * or\n     *\n     * ```ts\n     * player.teleport('my-shape-name')\n     * ```\n     *\n     * If no parameter:\n     *\n     * ```ts\n     * player.teleport() // { x: 0, y: 0, z: 0 }\n     * ```\n     *\n     * @title Teleport on the map\n     * @method player.teleport(positions)\n     * @param { {x: number, y: number, z?: number} | string } [positions]\n     * @returns { {x: number, y: number, z: number} }\n     * @memberof Player\n     */\n    teleport(positions) {\n        if (isString(positions))\n            positions = this.getCurrentMap().getPositionByShape(shape => shape.name == positions || shape.type == positions);\n        if (!positions)\n            positions = { x: 0, y: 0, z: 0 };\n        if (!positions.z)\n            positions.z = 0;\n        this.teleported++;\n        this.position = positions;\n        return positions;\n    }\n    startBattle(enemies) {\n        return this.server.getScene('battle').create(this, enemies);\n    }\n    /**\n     * Load the saved data with the method save()\n     * If the player was on a map, it repositions the player on the map.\n     *\n     * ```ts\n     * const json = player.save()\n     * player.load(json)\n     * ```\n     *\n     * @title Load progress\n     * @method player.load(json)\n     * @param {string} json The JSON sent by the method save()\n     * @returns {string}\n     * @memberof Player\n     */\n    load(json) {\n        if (isString(json))\n            json = JSON.parse(json);\n        const getData = (id) => new (this.databaseById(id))();\n        const items = {};\n        for (let it of json.items) {\n            items[it.item] = getData(it.item);\n        }\n        json.items = json.items.map(it => ({ nb: it.nb, item: items[it.item] }));\n        json.equipments = json.equipments.map(it => {\n            items[it].equipped = true;\n            return items[it];\n        });\n        json.states = json.states.map(id => getData(id));\n        json.skills = json.skills.map(id => getData(id));\n        json.variables = new Map(json.variables);\n        lodash_merge_1.default(this, json);\n        this.position = json.position;\n        if (json.map) {\n            this.map = '';\n            this.changeMap(json.map, json.position);\n        }\n    }\n    /**\n     * Returns a JSON with all the data to keep in memory. Then use the `load()` method to load the data\n     *\n     * You can also use the JSON.stringify\n     *\n     * ```ts\n     * const json = player.save() // or JSON.stringify(player)\n     * player.load(json)\n     * ```\n     *\n     * @title Save progress\n     * @method player.save()\n     * @returns {string}\n     * @memberof Player\n     */\n    save() {\n        return JSON.stringify(this);\n    }\n    toJSON() {\n        const obj = {};\n        const props = [\n            'hp',\n            'sp',\n            'gold',\n            'level',\n            'exp',\n            'name',\n            'position',\n            'items',\n            '_class',\n            'equipments',\n            'skills',\n            'states',\n            '_statesEfficiency',\n            'effects',\n            'graphic',\n            'map',\n            'speed',\n            'canMove',\n            'through',\n            'width',\n            'height',\n            'wHitbox',\n            'hHitbox',\n            'direction',\n            'initialLevel',\n            'finalLevel'\n        ];\n        for (let prop of props) {\n            obj[prop] = this[prop];\n        }\n        obj.variables = [...this.variables];\n        return obj;\n    }\n    /**\n     * Run the change detection cycle. Normally, as soon as a hook is called in a class, the cycle is started. But you can start it manually\n     * The method calls the `onChanges` method on events and synchronizes all map data with the client.\n\n     * @title Run Sync Changes\n     * @method player.syncChanges()\n     * @returns {void}\n     * @memberof Player\n     */\n    syncChanges() {\n        this._eventChanges();\n    }\n    databaseById(id) {\n        const data = this.server.database[id];\n        if (!data)\n            throw new Error(`The ID=${id} data is not found in the database. Add the data in the property \"database\" of @RpgServer decorator.`);\n        return data;\n    }\n    /**\n     * Retrieves data from the current map\n     *\n     * @title Get Current Map\n     * @method player.getCurrentMap()\n     * @returns {RpgMap}\n     * @memberof Player\n     */\n    getCurrentMap() {\n        return this._getMap(this.map);\n    }\n    loadScene(name, data) {\n        this.emit('loadScene', {\n            name,\n            data\n        });\n    }\n    _getMap(id) {\n        return common_1.RpgCommonMap.buffer.get(id);\n    }\n    // TODO\n    showEffect() {\n        this.emit('callMethod', {\n            objectId: this.playerId,\n            name: 'addEffect',\n            params: []\n        });\n    }\n    /**\n     * @todo\n     */\n    createDynamicEvent(obj, mode) {\n        const map = this.mapInstance;\n        const event = map.createEvent(obj, mode);\n        if (event) {\n            map.events[event.name] = event;\n            event.execMethod('onInit');\n        }\n        return event;\n    }\n    /**\n     * Calls the showAnimation() method on the client side to display an animation on the player\n     * You must remember to create the spritesheet beforehand\n     *\n     * For this type of spritesheet:\n     *\n     * ```ts\n     * @Spritesheet({\n     *  id: 'fire',\n     *  image: require('')\n     *  textures: {\n     *      default: {\n     *          animations: [\n     *\n     *          ]\n     *      }\n     *   }\n     * })\n     * export class FireAnimation {}\n     * ```\n     *\n     * Here is the call of the method:\n     *\n     * ```ts\n     * player.showAnimation('fire', 'default')\n     * ```\n     *\n     * If you don't want to put an animation on top of the event but replace the event graphic with another one, set true as last parameter.\n     * This is useful, if for example, you want to make an animated character (sword stroke when pressing a key)\n     * When the animation is finished, the original graphic is displayed again\n     *\n     * ```ts\n     * player.showAnimation('sword_stroke', 'default', true)\n     * ```\n     *\n     * @title Show Animation\n     * @method player.showAnimation(graphic,animationName,replaceGraphic=false)\n     * @param {string} graphic spritesheet identifier\n     * @param {string} animationName Name of the animation in the spritesheet\n     * @param {boolean} [replaceGraphic] Replace the event graphic with the animation. After the end of the animation, the original graphic is reapplied\n     * @returns {void}\n     * @memberof Player\n     */\n    showAnimation(graphic, animationName, replaceGraphic = false) {\n        this.emitToMap('callMethod', {\n            objectId: this.playerId,\n            name: 'showAnimation',\n            params: [graphic, animationName, replaceGraphic]\n        });\n    }\n    /**\n     * Emit data to clients with socket\n     *\n     * @title Emit to client\n     * @method player.emit(key,value)\n     * @param {string} key\n     * @param {any} value\n     * @returns {void}\n     * @memberof Player\n     */\n    emit(key, value) {\n        if (this._socket)\n            this._socket.emit(key, value);\n    }\n    /**\n     * Listen to the data (socket) sent by the client\n     *\n     * @title Listen to data from the client\n     * @method player.on(key,cb)\n     * @param {string} key\n     * @param {function} cb\n     * @returns {void}\n     * @memberof Player\n     */\n    on(key, cb) {\n        if (this._socket)\n            this._socket.on(key, cb);\n    }\n    emitToMap(key, value) {\n        Query_1.Query.getPlayersOfMap(this.map).forEach(player => player.emit(key, value));\n    }\n    execMethod(methodName, methodData = []) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const ret = yield common_1.RpgPlugin.emit(`Server.${methodName}`, [this, ...methodData], true);\n            this.syncChanges();\n            return ret;\n        });\n    }\n    _triggerHook(name, val) {\n        if (this[name])\n            this[name](val);\n        this.emit('Player.' + name, val);\n    }\n    _eventChanges() {\n        if (!this._getMap(this.map))\n            return;\n        const { events } = this._getMap(this.map);\n        const arrayEvents = [...Object.values(this.events), ...Object.values(events)];\n        for (let event of arrayEvents) {\n            // TODO, sync client\n            if (event.onChanges)\n                event.onChanges(this);\n        }\n    }\n    /**\n     * Allows to play a sound, heard only by the player or by the players of the map\n     *\n     * Here is a sound, client side:\n     *\n     * ```ts\n     * import { Sound } from '@rpgjs/client'\n     * @Sound({\n     *      id: 'town-music',\n     *      sound: require('./sound/town.ogg')\n     * })\n     * export class TownMusic {}\n     * ```\n     *\n     * Here is the call of the method, server side:\n     *\n     * ```ts\n     * player.playSound('town-music')\n     * ```\n     *\n     * If you want everyone to listen to the sound on the map:\n     *\n     * ```ts\n     * player.playSound('town-music', true)\n     * ```\n     *\n     * @title Play Sound\n     * @method player.playSound(soundId,allMap=false)\n     * @param {string} soundId Sound identifier, defined on the client side\n     * @param {boolean} [allMap] Indicate if the sound is heard by the players on the card\n     * @since 3.0.0-alpha.9\n     * @stability 1\n     * @returns {void}\n     * @memberof Player\n     */\n    playSound(soundId, allMap = false) {\n        const obj = {\n            objectId: this.playerId,\n            name: 'playSound',\n            params: [soundId]\n        };\n        if (!allMap) {\n            this.emit('callMethod', obj);\n            return;\n        }\n        this.emitToMap('callMethod', obj);\n    }\n}\nexports.RpgPlayer = RpgPlayer;\nRpgPlayer.schemas = Object.assign(Object.assign({}, playerSchemas), { events: [playerSchemas] });\napplyMixins(RpgPlayer, [\n    ItemManager_1.ItemManager,\n    GoldManager_1.GoldManager,\n    StateManager_1.StateManager,\n    SkillManager_1.SkillManager,\n    ParameterManager_1.ParameterManager,\n    EffectManager_1.EffectManager,\n    ClassManager_1.ClassManager,\n    ElementManager_1.ElementManager,\n    GuiManager_1.GuiManager,\n    VariableManager_1.VariableManager,\n    MoveManager_1.MoveManager,\n    BattleManager_1.BattleManager,\n    BehaviorManager_1.BehaviorManager\n]);\n//# sourceMappingURL=Player.js.map\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/server/lib/Player/Player.js?");

/***/ }),

/***/ "./node_modules/@rpgjs/server/lib/Player/SkillManager.js":
/*!***************************************************************!*\
  !*** ./node_modules/@rpgjs/server/lib/Player/SkillManager.js ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SkillManager = void 0;\nconst common_1 = __webpack_require__(/*! @rpgjs/common */ \"./node_modules/@rpgjs/common/lib/index.js\");\nconst database_1 = __webpack_require__(/*! @rpgjs/database */ \"./node_modules/@rpgjs/database/lib/index.js\");\nconst logs_1 = __webpack_require__(/*! ../logs */ \"./node_modules/@rpgjs/server/lib/logs/index.js\");\nconst StateManager_1 = __webpack_require__(/*! ./StateManager */ \"./node_modules/@rpgjs/server/lib/Player/StateManager.js\");\nconst EffectManager_1 = __webpack_require__(/*! ./EffectManager */ \"./node_modules/@rpgjs/server/lib/Player/EffectManager.js\");\nconst ParameterManager_1 = __webpack_require__(/*! ./ParameterManager */ \"./node_modules/@rpgjs/server/lib/Player/ParameterManager.js\");\nconst presets_1 = __webpack_require__(/*! ../presets */ \"./node_modules/@rpgjs/server/lib/presets/index.js\");\nconst { isArray, isString, isInstanceOf, applyMixins } = common_1.Utils;\nclass SkillManager {\n    _getSkillIndex(skillClass) {\n        return this.skills.findIndex(skill => {\n            if (isString(skill)) {\n                return skill.id == skillClass;\n            }\n            return isInstanceOf(skill, skillClass);\n        });\n    }\n    /**\n     * Retrieves a skill. Returns null, if not found\n     * ```ts\n     * import Fire from 'your-database/skills/fire'\n     *\n     * player.getSkill(Fire)\n     *  ```\n     *\n     * @title Get Skill\n     * @method player.getSkill(skillClass)\n     * @param {SkillClass} skillClass\n     * @returns {instance of SkillClass | null}\n     * @memberof SkillManager\n     */\n    getSkill(skillClass) {\n        const index = this._getSkillIndex(skillClass);\n        return this.skills[index];\n    }\n    /**\n     * Learn a skill. Attributes the coefficient 1 to the parameter INT (intelligence) if cd is not present on the class.\n     *\n     * `onLearn()` method is called on the SkillClass\n     *\n     * ```ts\n     * import Fire from 'your-database/skills/fire'\n     *\n     * player.learnSkill(Fire)\n     *  ```\n     *\n     * @title Learn Skill\n     * @method player.learnSkill(skillClass)\n     * @param {SkillClass} skillClass\n     * @returns {instance of SkillClass}\n     * @memberof SkillManager\n     */\n    learnSkill(skillClass) {\n        const instance = new skillClass();\n        if (!instance.coefficient)\n            instance.coefficient = {\n                [presets_1.INT]: 1\n            };\n        this.skills.push(instance);\n        this['execMethod']('onLearn', [this], instance);\n        return instance;\n    }\n    /**\n     * Forget a skill\n     *\n     * `onForget()` method is called on the SkillClass\n     *\n     * ```ts\n     * import Fire from 'your-database/skills/fire'\n     *\n     * try {\n     *      player.forgetSkill(Fire)\n     * }\n     * catch (err) {\n     *      console.log(err)\n     * }\n     *  ```\n     *\n     * @title Forget Skill\n     * @method player.learnSkill(skillClass)\n     * @param {SkillClass} skillClass\n     * @throws {SkillLog} notLearned\n     * If trying to forget a skill not learned\n     *  ```\n     * {\n     *      id: SKILL_NOT_LEARNED,\n     *      msg: '...'\n     * }\n     * ```\n     * @returns {instance of SkillClass}\n     * @memberof SkillManager\n     */\n    forgetSkill(skillClass) {\n        const index = this._getSkillIndex(skillClass);\n        if (index == -1) {\n            throw logs_1.SkillLog.notLearned(skillClass);\n        }\n        this.skills.splice(index, 1);\n        const instance = this.skills[index];\n        this['execMethod']('onForget', [this], instance);\n        return instance;\n    }\n    /**\n     * Using a skill\n     *\n     * `onUse()` method is called on the SkillClass\n     *\n     * If other players are indicated then damage will be done to these other players. The method `applyDamage()` will be executed\n     *\n     * ```ts\n     * import Fire from 'your-database/skills/fire'\n     *\n     * try {\n     *      player.useSkill(Fire)\n     * }\n     * catch (err) {\n     *      console.log(err)\n     * }\n     *  ```\n     *\n     * or\n     *\n     *\n     * * ```ts\n     * import Fire from 'your-database/skills/fire'\n     *\n     * try {\n     *      player.useSkill(Fire, otherPlayer)\n     * }\n     * catch (err) {\n     *      console.log(err)\n     * }\n     *  ```\n     *\n     * @title Use Skill\n     * @method player.useSkill(skillClass,otherPlayer)\n     * @param {SkillClass} skillClass\n     * @param {Array<RpgPlayer> | RpgPlayer} [otherPlayer]\n     * @throws {SkillLog} restriction\n     * If the player has the `Effect.CAN_NOT_SKILL` effect\n     *  ```\n     * {\n     *      id: RESTRICTION_SKILL,\n     *      msg: '...'\n     * }\n     * ```\n     * @throws {SkillLog} notLearned\n     * If the player tries to use an unlearned skill\n     *  ```\n     * {\n     *      id: SKILL_NOT_LEARNED,\n     *      msg: '...'\n     * }\n     * ```\n     * @throws {SkillLog} notEnoughSp\n     * If the player does not have enough SP to use the skill\n     *  ```\n     * {\n     *      id: NOT_ENOUGH_SP,\n     *      msg: '...'\n     * }\n     * ```\n     * @throws {SkillLog} chanceToUseFailed\n     * If the chance to use the skill has failed (defined with the `hitRate` property)\n     *  ```\n     * {\n     *      id: USE_CHANCE_SKILL_FAILED,\n     *      msg: '...'\n     * }\n     * ```\n     *\n     * `onUseFailed()` method is called on the SkillClass\n     *\n     * @returns {instance of SkillClass}\n     * @memberof SkillManager\n     * @todo\n     */\n    useSkill(skillClass, otherPlayer) {\n        const skill = this.getSkill(skillClass);\n        if (this.hasEffect(database_1.Effect.CAN_NOT_SKILL)) {\n            throw logs_1.SkillLog.restriction(skillClass);\n        }\n        if (!skill) {\n            throw logs_1.SkillLog.notLearned(skillClass);\n        }\n        if (skill.spCost > this.sp) {\n            throw logs_1.SkillLog.notEnoughSp(skillClass, skill.spCost, this.sp);\n        }\n        this.sp -= (skill.spCost / (this.hasEffect(database_1.Effect.HALF_SP_COST) ? 2 : 1));\n        const hitRate = skill.hitRate || 1;\n        if (Math.random() > hitRate) {\n            this['execMethod']('onUseFailed', [this, otherPlayer], skill);\n            throw logs_1.SkillLog.chanceToUseFailed(skillClass);\n        }\n        if (otherPlayer) {\n            let players = otherPlayer;\n            if (!isArray(players)) {\n                players = [otherPlayer];\n            }\n            for (let player of players) {\n                this.applyStates(player, skill);\n                player.applyDamage(this, skill);\n            }\n        }\n        this['execMethod']('onUse', [this, otherPlayer], skill);\n        return skill;\n    }\n}\nexports.SkillManager = SkillManager;\napplyMixins(SkillManager, [ParameterManager_1.ParameterManager, StateManager_1.StateManager, EffectManager_1.EffectManager]);\n//# sourceMappingURL=SkillManager.js.map\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/server/lib/Player/SkillManager.js?");

/***/ }),

/***/ "./node_modules/@rpgjs/server/lib/Player/StateManager.js":
/*!***************************************************************!*\
  !*** ./node_modules/@rpgjs/server/lib/Player/StateManager.js ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.StateManager = void 0;\nconst common_1 = __webpack_require__(/*! @rpgjs/common */ \"./node_modules/@rpgjs/common/lib/index.js\");\nconst ItemFixture_1 = __webpack_require__(/*! ./ItemFixture */ \"./node_modules/@rpgjs/server/lib/Player/ItemFixture.js\");\nconst state_1 = __webpack_require__(/*! ../logs/state */ \"./node_modules/@rpgjs/server/lib/logs/state.js\");\nconst { isInstanceOf, applyMixins } = common_1.Utils;\nclass StateManager {\n    constructor() {\n        this.states = [];\n    }\n    /**\n     * Recovers the player's states defense on inventory.  This list is generated from the `statesDefense` property defined on the weapons or armors equipped.\n     * If several items have the same element, only the highest rate will be taken into account.\n     *\n     * ```ts\n     * import { Armor, State } from '@rpgjs/server'\n     *\n     * @State({\n     *      name: 'Paralyze'\n     * })\n     * class Paralyze {}\n     *\n     * @Armor({\n     *      name: 'Shield',\n     *      statesDefense: [{ rate: 1, state: Paralyze }]\n     * })\n     * class Shield {}\n     *\n     * @Armor({\n     *      name: 'FireShield',\n     *      statesDefense: [{ rate: 0.5, state: Paralyze }]\n     * })\n     * class FireShield {}\n     *\n     * player.addItem(Shield)\n     * player.addItem(FireShield)\n     * player.equip(Shield)\n     * player.equip(FireShield)\n     *\n     * console.log(player.statesDefense) // [{ rate: 1, state: instance of Paralyze }]\n     * ```\n     * @title Get States Defense\n     * @prop {Array<{ rate: number, state: StateClass}>} player.statesDefense\n     * @readonly\n     * @memberof StateManager\n     * */\n    get statesDefense() {\n        return this.getFeature('statesDefense', 'state');\n    }\n    /**\n     * Set or retrieves all the states where the player is vulnerable or not.\n     *\n     * ```ts\n     * import { Class, State } from '@rpgjs/server'\n     *\n     * @State({\n     *      name: 'Paralyze'\n     * })\n     * class Paralyze {}\n     *\n     * @State({\n     *      name: 'Sleep'\n     * })\n     * class Sleep {}\n     *\n     * @Class({\n     *      name: 'Fighter',\n     *      statesEfficiency: [{ rate: 1, state: Paralyze }]\n     * })\n     * class Hero {}\n     *\n     * player.setClass(Hero)\n     *\n     * console.log(player.statesEfficiency) // [{ rate: 1, instance of Paralyze }]\n     *\n     * player.statesEfficiency = [{ rate: 2, state: Sleep }]\n     *\n     * console.log(player.statesEfficiency) // [{ rate: 1, state: instance of Paralyze }, { rate: 2, state: instance of Sleep }]\n     * ```\n     * @title Set/Get States Efficiency\n     * @prop {Array<{ rate: number, state: StateClass}>} player.statesEfficiency\n     * @memberof StateManager\n     * */\n    get statesEfficiency() {\n        return this._statesEfficiency;\n    }\n    set statesEfficiency(val) {\n        this._statesEfficiency = val;\n    }\n    applyStates(player, { addStates, removeStates }) {\n        if (addStates) {\n            for (let { state, rate } of addStates) {\n                player.addState(state, rate);\n            }\n        }\n        if (removeStates) {\n            for (let { state, rate } of removeStates) {\n                player.removeState(state, rate);\n            }\n        }\n    }\n    /**\n     * Get a state to the player. Returns `null` if the state is not present on the player\n     * ```ts\n     * import Paralyze from 'your-database/states/paralyze'\n     *\n     * player.getState(Paralyze)\n     *  ```\n     *\n     * @title Get State\n     * @method player.getState(stateClass)\n     * @param {StateClass} stateClass\n     * @returns {instance of StateClass | null}\n     * @memberof StateManager\n     */\n    getState(stateClass) {\n        return this.states.find(({ state }) => state instanceof stateClass);\n    }\n    /**\n     * Adds a state to the player. Set the chance between 0 and 1 that the state can apply\n     * ```ts\n     * import Paralyze from 'your-database/states/paralyze'\n     *\n     * try {\n     *      player.addState(Paralyze)\n     * }\n     * catch (err) {\n     *      console.log(err)\n     * }\n     *  ```\n     *\n     * @title Add State\n     * @method player.addState(stateClass,chance=1)\n     * @param {StateClass} stateClass\n     * @param {number} [chance] 1 by default\n     * @throws {StateLog} addFailed\n     * If the chance to add the state has failed (defined with the `chance` param)\n     *  ```\n     * {\n     *      id: ADD_STATE_FAILED,\n     *      msg: '...'\n     * }\n     * ```\n     * @returns {instance of StateClass}\n     * @memberof StateManager\n     * @todo\n     */\n    addState(stateClass, chance = 1) {\n        const state = this.getState(stateClass);\n        if (!state) {\n            if (Math.random() > chance) {\n                throw state_1.StateLog.addFailed(stateClass);\n            }\n            //const efficiency = this.findStateEfficiency(stateClass)\n            const instance = new stateClass();\n            this.states.push(instance);\n            this.applyStates(this, instance);\n            return instance;\n        }\n        return null;\n    }\n    /**\n     * Remove a state to the player. Set the chance between 0 and 1 that the state can be removed\n     * ```ts\n     * import Paralyze from 'your-database/states/paralyze'\n     *\n     * try {\n     *      player.removeState(Paralyze)\n     * }\n     * catch (err) {\n     *      console.log(err)\n     * }\n     *  ```\n     *\n     * @title Remove State\n     * @method player.removeState(stateClass,chance=1)\n     * @param {StateClass} stateClass\n     * @param {number} [chance] 1 by default\n     * @throws {StateLog} removeFailed\n     * If the chance to remove the state has failed (defined with the `chance` param)\n     *  ```\n     * {\n     *      id: REMOVE_STATE_FAILED,\n     *      msg: '...'\n     * }\n     * ```\n     * @throws {StateLog} notApplied\n     * If the status does not exist\n     *  ```\n     * {\n     *      id: STATE_NOT_APPLIED,\n     *      msg: '...'\n     * }\n     * ```\n     * @returns {instance of StateClass}\n     * @memberof StateManager\n     */\n    removeState(stateClass, chance = 1) {\n        const index = this.states.findIndex(state => state instanceof stateClass);\n        if (index != -1) {\n            if (Math.random() > chance) {\n                throw state_1.StateLog.removeFailed(stateClass);\n            }\n            this.states.splice(index, 1);\n        }\n        else {\n            throw state_1.StateLog.notApplied(stateClass);\n        }\n    }\n    findStateEfficiency(stateClass) {\n        return this.statesEfficiency.find(state => isInstanceOf(state.state, stateClass));\n    }\n}\nexports.StateManager = StateManager;\napplyMixins(StateManager, [ItemFixture_1.ItemFixture]);\n//# sourceMappingURL=StateManager.js.map\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/server/lib/Player/StateManager.js?");

/***/ }),

/***/ "./node_modules/@rpgjs/server/lib/Player/VariableManager.js":
/*!******************************************************************!*\
  !*** ./node_modules/@rpgjs/server/lib/Player/VariableManager.js ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.VariableManager = void 0;\nclass VariableManager {\n    /**\n     * Assign a variable to the player\n     *\n     * ```ts\n     * player.setVariable('OPEN_CHEST', true)\n     * ```\n     *\n     * @title Set variable\n     * @method player.setVariable(key,val)\n     * @param {string} key\n     * @param {any} val\n     * @returns {void}\n     * @memberof VariableManager\n     * */\n    setVariable(key, val) {\n        this.variables.set(key, val);\n    }\n    /**\n     * Get a variable\n     *\n     * ```ts\n     * const val = player.getVariable('OPEN_CHEST')\n     * ```\n     *\n     * @title Get variable\n     * @method player.setVariable(key,val)\n     * @param {string} key\n     * @returns {any}\n     * @memberof VariableManager\n     * */\n    getVariable(key) {\n        return this.variables.get(key);\n    }\n    /**\n     * Remove a variable\n     *\n     * ```ts\n     * player.removeVariable('OPEN_CHEST')\n     * ```\n     *\n     * @title Remove variable\n     * @method player.removeVariable(key)\n     * @param {string} key\n     * @returns {boolean} true if a variable existed and has been removed, or false if the variable does not exist.\n     * @memberof VariableManager\n     * */\n    removeVariable(key) {\n        return this.variables.delete(key);\n    }\n}\nexports.VariableManager = VariableManager;\n//# sourceMappingURL=VariableManager.js.map\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/server/lib/Player/VariableManager.js?");

/***/ }),

/***/ "./node_modules/@rpgjs/server/lib/Query.js":
/*!*************************************************!*\
  !*** ./node_modules/@rpgjs/server/lib/Query.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Query = void 0;\nconst sync_server_1 = __webpack_require__(/*! @rpgjs/sync-server */ \"./node_modules/@rpgjs/sync-server/lib/index.js\");\nconst common_1 = __webpack_require__(/*! @rpgjs/common */ \"./node_modules/@rpgjs/common/lib/index.js\");\nconst { isString } = common_1.Utils;\nclass QueryClass {\n    /**\n     * Listen to the changes on all the rooms\n     *\n     * ```ts\n     * import { RpgWorld } from '@rpgjs/server'\n     * import { map } from 'rxjs/operators' // install rxjs\n     *\n     * RpgWorld.changes\n     *  .pipe(\n     *      map(rooms => rooms['mymap'])\n     *  )\n     *  .subscribe((room) => {\n     *      const users: any = Object.values(room.users)\n     *      console.log(users)\n     *  })\n     * ```\n     *\n     * @title Subscribe to the world\n     * @prop {Observable} RpgWorld.changes\n     * @memberof RpgWorld\n     * */\n    get changes() {\n        return sync_server_1.World.changes.asObservable();\n    }\n    /**\n     * Retrieve a player according to his ID\n     *\n     * ```ts\n     * import { RpgWorld } from '@rpgjs/server'\n     *\n     * const player = RpgWorld.getPlayer(player) // player is RpgPlayer (player.id) or string (id)\n     * ```\n     *\n     * @title Get Player\n     * @method RpgWorld.getPlayer(player)\n     * @param {RpgPlayer | string} player identifier\n     * @returns {RpgPlayer}\n     * @memberof RpgWorld\n     */\n    getPlayer(player) {\n        const id = isString(player) ? player : '' + player.id;\n        const _player = sync_server_1.World.getUser(id);\n        return _player;\n    }\n    /**\n     * Recover all the players of the game\n     *\n     * ```ts\n     * import { RpgWorld } from '@rpgjs/server'\n     *\n     * const players = RpgWorld.getPlayers()\n     * ```\n     *\n     * @title Get all Players\n     * @method RpgWorld.getPlayers()\n     * @returns {Array<RpgPlayer>}\n     * @memberof RpgWorld\n     */\n    getPlayers() {\n        const users = sync_server_1.World.getUsers();\n        const array = Object.values(users);\n        return array.map((user) => this.getPlayer(user));\n    }\n    /**\n     * Recover all map objects: players and events. If you specify the `player` parameter, it also retrieves the events in scenario mode of the player in question\n     *\n     * ```ts\n     * import { RpgWorld } from '@rpgjs/server'\n     *\n     * const objects = RpgWorld.getObjectsOfMap('mapname')\n     * console.log(objects)\n     * ```\n     *\n     * Also retrieve events in Scenario mode:\n     *\n     * ```ts\n     * import { RpgWorld } from '@rpgjs/server'\n     *\n     * const objects = RpgWorld.getObjectsOfMap('mapname', 'playerid')\n     * ```\n     *\n     * @title Get all objects of map\n     * @method RpgWorld.getObjectsOfMap(map,playerId?)\n     * @param {string} map Map Name\n     * @param {RpgPlayer | string} playerId player identifier\n     * @returns {Array<RpgPlayer>}\n     * @memberof RpgWorld\n     */\n    getObjectsOfMap(map, playerId) {\n        const room = sync_server_1.World.getRoom(map);\n        let player = null;\n        if (playerId) {\n            player = this.getPlayer(playerId);\n        }\n        return [\n            ...Object.values(room.users),\n            ...Object.values(room.events),\n            ...(player ? Object.values(player.events) : [])\n        ];\n    }\n    // TODO\n    getRooms() {\n        return sync_server_1.World.getRooms();\n    }\n    /**\n     * Recover all the players of a map\n     *\n     * ```ts\n     * import { RpgWorld } from '@rpgjs/server'\n     *\n     * const players = RpgWorld.getPlayersOfMap('mapname')\n     * ```\n     *\n     * @title Get all Players a map\n     * @method RpgWorld.getPlayersOfMap(map)\n     * @param {string} map Map Name\n     * @returns {Array<RpgPlayer>}\n     * @memberof RpgWorld\n     */\n    getPlayersOfMap(map) {\n        const room = sync_server_1.World.getRoom(map);\n        return Object.values(room.users);\n    }\n}\nexports.Query = new QueryClass();\n//# sourceMappingURL=Query.js.map\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/server/lib/Query.js?");

/***/ }),

/***/ "./node_modules/@rpgjs/server/lib/Scenes/Map.js":
/*!******************************************************!*\
  !*** ./node_modules/@rpgjs/server/lib/Scenes/Map.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SceneMap = void 0;\nconst common_1 = __webpack_require__(/*! @rpgjs/common */ \"./node_modules/@rpgjs/common/lib/index.js\");\nconst sync_server_1 = __webpack_require__(/*! @rpgjs/sync-server */ \"./node_modules/@rpgjs/sync-server/lib/index.js\");\nconst Event_1 = __webpack_require__(/*! ../Event */ \"./node_modules/@rpgjs/server/lib/Event.js\");\nclass SceneMap {\n    constructor(maps, server) {\n        this.maps = maps;\n        this.server = server;\n        this.mapsById = {};\n        this.mapsById = {};\n        if (this.maps) {\n            for (let map of this.maps) {\n                this.mapsById[map.id] = map;\n            }\n        }\n    }\n    getMapBydId(id) {\n        const mapClass = this.mapsById[id];\n        if (!mapClass) {\n            console.log(`Map ${id} not exists`);\n            return false;\n        }\n        return mapClass;\n    }\n    loadMap(id) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const mapClass = this.getMapBydId(id);\n            let mapInstance;\n            if (mapClass.buffer.has(id)) {\n                return mapClass.buffer.get(id);\n            }\n            if (common_1.RpgCommonMap.buffer.has(id)) {\n                mapInstance = common_1.RpgCommonMap.buffer.get(id);\n            }\n            else {\n                mapInstance = sync_server_1.World.addRoom(id, new mapClass(this.server));\n                yield mapInstance.load();\n            }\n            return mapInstance;\n        });\n    }\n    changeMap(mapId, player, positions) {\n        return __awaiter(this, void 0, void 0, function* () {\n            player.prevMap = player.map;\n            player.map = mapId;\n            player.events = [];\n            if (player.prevMap) {\n                sync_server_1.World.leaveRoom(player.prevMap, player.id);\n                player.execMethod('onLeave', [player], player.mapInstance);\n                player.execMethod('onLeaveMap', [player.mapInstance]);\n            }\n            const mapInstance = yield this.loadMap(mapId);\n            if (!player.height)\n                player.height = mapInstance.tileHeight;\n            if (!player.width)\n                player.width = mapInstance.tileWidth;\n            if (!player.hitbox.h)\n                player.hitbox.h = mapInstance.tileHeight;\n            if (!player.hitbox.w)\n                player.hitbox.w = mapInstance.tileWidth;\n            let { data: serializeMap } = Object.assign({}, common_1.RpgCommonMap.buffer.get(mapId));\n            delete serializeMap.shapes;\n            delete serializeMap.events;\n            delete serializeMap._events;\n            for (let layer of serializeMap.layers) {\n                delete layer.map;\n            }\n            player.loadScene('map', Object.assign({ id: mapId, sounds: mapInstance.sounds }, serializeMap));\n            sync_server_1.World.joinRoom(mapId, player.id);\n            player = sync_server_1.World.getUser(player.id);\n            player.execMethod('onEnter', [player, player.prevMap || null], mapInstance);\n            player.execMethod('onJoinMap', [mapInstance]);\n            player.teleport(positions || 'start');\n            player.events = mapInstance.createEvents(mapInstance._events, Event_1.EventMode.Scenario);\n            for (let key in player.events) {\n                player.events[key].execMethod('onInit', [player]);\n            }\n            return mapInstance;\n        });\n    }\n}\nexports.SceneMap = SceneMap;\nSceneMap.id = 'map';\n//# sourceMappingURL=Map.js.map\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/server/lib/Scenes/Map.js?");

/***/ }),

/***/ "./node_modules/@rpgjs/server/lib/decorators/event.js":
/*!************************************************************!*\
  !*** ./node_modules/@rpgjs/server/lib/decorators/event.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EventData = void 0;\nconst Event_1 = __webpack_require__(/*! ../Event */ \"./node_modules/@rpgjs/server/lib/Event.js\");\nfunction EventData(options) {\n    return (target) => {\n        target.mode = options.mode || Event_1.EventMode.Shared;\n        target.width = options.width;\n        target.height = options.height;\n        target.hitbox = options.hitbox;\n        target.prototype._name = options.name;\n    };\n}\nexports.EventData = EventData;\n//# sourceMappingURL=event.js.map\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/server/lib/decorators/event.js?");

/***/ }),

/***/ "./node_modules/@rpgjs/server/lib/decorators/map.js":
/*!**********************************************************!*\
  !*** ./node_modules/@rpgjs/server/lib/decorators/map.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MapData = void 0;\nconst Player_1 = __webpack_require__(/*! ../Player/Player */ \"./node_modules/@rpgjs/server/lib/Player/Player.js\");\nfunction MapData(options) {\n    return (target) => {\n        target.file = options.file;\n        target.id = options.id;\n        target.type = 'map';\n        target.prototype.name = options.name;\n        target.prototype.file = options.file;\n        target.prototype.id = options.id;\n        target.prototype.sounds = options.sounds;\n        target.prototype.$schema = {};\n        if (options.syncSchema) {\n            target.prototype.$schema = options.syncSchema;\n        }\n        if (!target.prototype.$schema.shapes) {\n            target.prototype.$schema.shapes = [\n                {\n                    type: String,\n                    name: String,\n                    hitbox: {\n                        pos: {\n                            x: Number,\n                            y: Number\n                        },\n                        w: Number,\n                        h: Number\n                    }\n                }\n            ];\n        }\n        if (!target.prototype.$schema.users) {\n            target.prototype.$schema.users = [Player_1.RpgPlayer.schemas];\n        }\n        if (!target.prototype.$schema.events) {\n            target.prototype.$schema.events = [Player_1.RpgPlayer.schemas];\n        }\n        target.prototype._events = options.events;\n    };\n}\nexports.MapData = MapData;\n//# sourceMappingURL=map.js.map\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/server/lib/decorators/map.js?");

/***/ }),

/***/ "./node_modules/@rpgjs/server/lib/entry-point.js":
/*!*******************************************************!*\
  !*** ./node_modules/@rpgjs/server/lib/entry-point.js ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst common_1 = __webpack_require__(/*! @rpgjs/common */ \"./node_modules/@rpgjs/common/lib/index.js\");\nconst server_1 = __webpack_require__(/*! ./server */ \"./node_modules/@rpgjs/server/lib/server.js\");\nfunction default_1(modules, options) {\n    const gameEngine = new common_1.RpgCommonGame('server');\n    if (!options.globalConfig)\n        options.globalConfig = {};\n    const relations = {\n        onConnected: common_1.HookServer.PlayerConnected,\n        onInput: common_1.HookServer.PlayerInput,\n        onJoinMap: common_1.HookServer.PlayerJoinMap,\n        onLeaveMap: common_1.HookServer.PlayerLeaveMap,\n        onLevelUp: common_1.HookServer.PlayerLevelUp,\n        onDead: common_1.HookServer.PlayerDead,\n        onDisconnected: common_1.HookServer.PlayerDisconnected\n    };\n    const relationsEngine = {\n        onStart: common_1.HookServer.Start\n    };\n    common_1.loadModules(modules, {\n        side: 'server',\n        relations: {\n            player: relations,\n            engine: relationsEngine\n        }\n    });\n    const serverEngine = new server_1.RpgServerEngine(options.io, gameEngine, Object.assign({ debug: {}, updateRate: 10, stepRate: 60, timeoutInterval: 0, countConnections: false }, options));\n    return serverEngine;\n}\nexports.default = default_1;\n//# sourceMappingURL=entry-point.js.map\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/server/lib/entry-point.js?");

/***/ }),

/***/ "./node_modules/@rpgjs/server/lib/index.js":
/*!*************************************************!*\
  !*** ./node_modules/@rpgjs/server/lib/index.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RpgServerEngine = exports.RpgModule = exports.HookClient = exports.HookServer = exports.Control = exports.Input = exports.Direction = exports.EventMode = exports.Move = exports.Monitor = exports.Presets = exports.entryPoint = exports.Query = exports.RpgWorld = exports.EventData = exports.MapData = exports.RpgEnemy = exports.RpgMap = exports.RpgPlugin = exports.RpgPlayer = exports.RpgEvent = void 0;\nconst entry_point_1 = __importDefault(__webpack_require__(/*! ./entry-point */ \"./node_modules/@rpgjs/server/lib/entry-point.js\"));\nexports.entryPoint = entry_point_1.default;\nconst common_1 = __webpack_require__(/*! @rpgjs/common */ \"./node_modules/@rpgjs/common/lib/index.js\");\nObject.defineProperty(exports, \"Direction\", { enumerable: true, get: function () { return common_1.Direction; } });\nObject.defineProperty(exports, \"Input\", { enumerable: true, get: function () { return common_1.Input; } });\nObject.defineProperty(exports, \"Control\", { enumerable: true, get: function () { return common_1.Control; } });\nObject.defineProperty(exports, \"RpgPlugin\", { enumerable: true, get: function () { return common_1.RpgPlugin; } });\nObject.defineProperty(exports, \"HookServer\", { enumerable: true, get: function () { return common_1.HookServer; } });\nObject.defineProperty(exports, \"HookClient\", { enumerable: true, get: function () { return common_1.HookClient; } });\nObject.defineProperty(exports, \"RpgModule\", { enumerable: true, get: function () { return common_1.RpgModule; } });\nconst event_1 = __webpack_require__(/*! ./decorators/event */ \"./node_modules/@rpgjs/server/lib/decorators/event.js\");\nObject.defineProperty(exports, \"EventData\", { enumerable: true, get: function () { return event_1.EventData; } });\nconst map_1 = __webpack_require__(/*! ./decorators/map */ \"./node_modules/@rpgjs/server/lib/decorators/map.js\");\nObject.defineProperty(exports, \"MapData\", { enumerable: true, get: function () { return map_1.MapData; } });\nconst Map_1 = __webpack_require__(/*! ./Game/Map */ \"./node_modules/@rpgjs/server/lib/Game/Map.js\");\nObject.defineProperty(exports, \"RpgMap\", { enumerable: true, get: function () { return Map_1.RpgMap; } });\nconst Event_1 = __webpack_require__(/*! ./Event */ \"./node_modules/@rpgjs/server/lib/Event.js\");\nObject.defineProperty(exports, \"RpgEvent\", { enumerable: true, get: function () { return Event_1.RpgEvent; } });\nObject.defineProperty(exports, \"EventMode\", { enumerable: true, get: function () { return Event_1.EventMode; } });\nconst Player_1 = __webpack_require__(/*! ./Player/Player */ \"./node_modules/@rpgjs/server/lib/Player/Player.js\");\nObject.defineProperty(exports, \"RpgPlayer\", { enumerable: true, get: function () { return Player_1.RpgPlayer; } });\nconst Enemy_1 = __importDefault(__webpack_require__(/*! ./Enemy */ \"./node_modules/@rpgjs/server/lib/Enemy.js\"));\nexports.RpgEnemy = Enemy_1.default;\nconst Query_1 = __webpack_require__(/*! ./Query */ \"./node_modules/@rpgjs/server/lib/Query.js\");\nObject.defineProperty(exports, \"RpgWorld\", { enumerable: true, get: function () { return Query_1.Query; } });\nObject.defineProperty(exports, \"Query\", { enumerable: true, get: function () { return Query_1.Query; } });\nconst Monitor_1 = __importDefault(__webpack_require__(/*! ./Monitor */ \"./node_modules/@rpgjs/server/lib/Monitor/index.js\"));\nexports.Monitor = Monitor_1.default;\nconst Presets = __importStar(__webpack_require__(/*! ./presets */ \"./node_modules/@rpgjs/server/lib/presets/index.js\"));\nexports.Presets = Presets;\nconst MoveManager_1 = __webpack_require__(/*! ./Player/MoveManager */ \"./node_modules/@rpgjs/server/lib/Player/MoveManager.js\");\nObject.defineProperty(exports, \"Move\", { enumerable: true, get: function () { return MoveManager_1.Move; } });\nconst server_1 = __webpack_require__(/*! ./server */ \"./node_modules/@rpgjs/server/lib/server.js\");\nObject.defineProperty(exports, \"RpgServerEngine\", { enumerable: true, get: function () { return server_1.RpgServerEngine; } });\n//# sourceMappingURL=index.js.map\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/server/lib/index.js?");

/***/ }),

/***/ "./node_modules/@rpgjs/server/lib/logs/index.js":
/*!******************************************************!*\
  !*** ./node_modules/@rpgjs/server/lib/logs/index.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Log = exports.StateLog = exports.SkillLog = exports.ItemLog = void 0;\nconst item_1 = __webpack_require__(/*! ./item */ \"./node_modules/@rpgjs/server/lib/logs/item.js\");\nObject.defineProperty(exports, \"ItemLog\", { enumerable: true, get: function () { return item_1.ItemLog; } });\nconst skill_1 = __webpack_require__(/*! ./skill */ \"./node_modules/@rpgjs/server/lib/logs/skill.js\");\nObject.defineProperty(exports, \"SkillLog\", { enumerable: true, get: function () { return skill_1.SkillLog; } });\nconst state_1 = __webpack_require__(/*! ./state */ \"./node_modules/@rpgjs/server/lib/logs/state.js\");\nObject.defineProperty(exports, \"StateLog\", { enumerable: true, get: function () { return state_1.StateLog; } });\nconst log_1 = __webpack_require__(/*! ./log */ \"./node_modules/@rpgjs/server/lib/logs/log.js\");\nObject.defineProperty(exports, \"Log\", { enumerable: true, get: function () { return log_1.Log; } });\n//# sourceMappingURL=index.js.map\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/server/lib/logs/index.js?");

/***/ }),

/***/ "./node_modules/@rpgjs/server/lib/logs/item.js":
/*!*****************************************************!*\
  !*** ./node_modules/@rpgjs/server/lib/logs/item.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ItemLog = void 0;\nconst log_1 = __webpack_require__(/*! ./log */ \"./node_modules/@rpgjs/server/lib/logs/log.js\");\nclass ItemLog {\n    static notInInventory(itemClass) {\n        return new log_1.Log('ITEM_NOT_INVENTORY', `The item ${itemClass.name} is not in inventory`);\n    }\n    static notUseItem(itemClass) {\n        return new log_1.Log('NOT_USE_ITEM', `The player cannot use the ${itemClass.name} item.`);\n    }\n    static chanceToUseFailed(itemClass) {\n        return new log_1.Log('USE_CHANCE_ITEM_FAILED', `Chance to use the ${itemClass.name} item has failed`);\n    }\n    static invalidToEquiped(itemClass) {\n        return new log_1.Log('INVALID_ITEM_TO_EQUIP', `The item ${itemClass.name} is not a weapon or armor`);\n    }\n    static isAlreadyEquiped(itemClass) {\n        return new log_1.Log('ITEM_ALREADY_EQUIPED', `The item ${itemClass.name} is already equiped`);\n    }\n    static haveNotPrice(itemClass) {\n        return new log_1.Log('NOT_PRICE', `Define a price > 0 to buy ${itemClass.name}`);\n    }\n    static notEnoughGold(itemClass, nb) {\n        return new log_1.Log('NOT_ENOUGH_GOLD', `not enough gold to buy ${nb} ${itemClass.name}`);\n    }\n    static tooManyToSell(itemClass, nbToSell, nb) {\n        return new log_1.Log('TOO_MANY_ITEM_TO_SELL', `Too many items to sell: ${nbToSell} ${itemClass.name}, only ${nb} in inventory`);\n    }\n    static restriction(itemClass) {\n        return new log_1.Log('RESTRICTION_ITEM', `A state blocks the use of the ${itemClass.name} skill`);\n    }\n}\nexports.ItemLog = ItemLog;\n//# sourceMappingURL=item.js.map\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/server/lib/logs/item.js?");

/***/ }),

/***/ "./node_modules/@rpgjs/server/lib/logs/log.js":
/*!****************************************************!*\
  !*** ./node_modules/@rpgjs/server/lib/logs/log.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Log = void 0;\nclass Log {\n    constructor(id, msg) {\n        this.id = id;\n        this.msg = msg;\n    }\n}\nexports.Log = Log;\n//# sourceMappingURL=log.js.map\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/server/lib/logs/log.js?");

/***/ }),

/***/ "./node_modules/@rpgjs/server/lib/logs/skill.js":
/*!******************************************************!*\
  !*** ./node_modules/@rpgjs/server/lib/logs/skill.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SkillLog = void 0;\nconst log_1 = __webpack_require__(/*! ./log */ \"./node_modules/@rpgjs/server/lib/logs/log.js\");\nclass SkillLog {\n    static notLearned(skillClass) {\n        return new log_1.Log('SKILL_NOT_LEARNED', `the skill ${skillClass.name} is not learned`);\n    }\n    static notEnoughSp(skillClass, skillSp, playerSp) {\n        return new log_1.Log('NOT_ENOUGH_SP', `not enough SP to use ${skillClass.name} skill. ${skillSp} Skill'SP is is greater than ${playerSp} Player'SP`);\n    }\n    static chanceToUseFailed(skillClass) {\n        return new log_1.Log('USE_CHANCE_SKILL_FAILED', `Chance to use the ${skillClass.name} skill has failed`);\n    }\n    static restriction(skillClass) {\n        return new log_1.Log('RESTRICTION_SKILL', `A state blocks the use of the ${skillClass.name} skill`);\n    }\n}\nexports.SkillLog = SkillLog;\n//# sourceMappingURL=skill.js.map\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/server/lib/logs/skill.js?");

/***/ }),

/***/ "./node_modules/@rpgjs/server/lib/logs/state.js":
/*!******************************************************!*\
  !*** ./node_modules/@rpgjs/server/lib/logs/state.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.StateLog = void 0;\nconst log_1 = __webpack_require__(/*! ./log */ \"./node_modules/@rpgjs/server/lib/logs/log.js\");\nclass StateLog {\n    static addFailed(stateClass) {\n        return new log_1.Log('ADD_STATE_FAILED', `Adding the ${stateClass.name} state has failed`);\n    }\n    static removeFailed(stateClass) {\n        return new log_1.Log('REMOVE_STATE_FAILED', `Removing the ${stateClass.name} state has failed`);\n    }\n    static notApplied(stateClass) {\n        return new log_1.Log('STATE_NOT_APPLIED', `State ${stateClass.name} does not exist`);\n    }\n}\nexports.StateLog = StateLog;\n//# sourceMappingURL=state.js.map\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/server/lib/logs/state.js?");

/***/ }),

/***/ "./node_modules/@rpgjs/server/lib/presets/index.js":
/*!*********************************************************!*\
  !*** ./node_modules/@rpgjs/server/lib/presets/index.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DAMAGE_SKILL = exports.COEFFICIENT_ELEMENTS = exports.DAMAGE_GUARD = exports.DAMAGE_PHYSIC = exports.DAMAGE_CRITICAL = exports.DEX_CURVE = exports.INT_CURVE = exports.AGI_CURVE = exports.STR_CURVE = exports.MAXSP_CURVE = exports.MAXHP_CURVE = exports.DEX = exports.INT = exports.AGI = exports.STR = exports.SDEF = exports.PDEF = exports.ATK = exports.MAXSP = exports.MAXHP = void 0;\nconst common_1 = __webpack_require__(/*! @rpgjs/common */ \"./node_modules/@rpgjs/common/lib/index.js\");\nconst { random } = common_1.Utils;\nexports.MAXHP = 'maxHp';\nexports.MAXSP = 'maxSp';\nexports.ATK = 'atk';\nexports.PDEF = 'pdef';\nexports.SDEF = 'sdef';\nexports.STR = 'str';\nexports.AGI = 'agi';\nexports.INT = 'int';\nexports.DEX = 'dex';\nexports.MAXHP_CURVE = {\n    start: 741,\n    end: 7467\n};\nexports.MAXSP_CURVE = {\n    start: 534,\n    end: 5500\n};\nexports.STR_CURVE = {\n    start: 67,\n    end: 635\n};\nexports.AGI_CURVE = {\n    start: 58,\n    end: 582\n};\nexports.INT_CURVE = {\n    start: 36,\n    end: 7318\n};\nexports.DEX_CURVE = {\n    start: 54,\n    end: 564\n};\nconst DAMAGE_CRITICAL = function (damage, a, b) {\n    if (random(0, 100) < 4 * a[exports.DEX] / b[exports.AGI]) {\n        damage *= 2;\n    }\n    return damage;\n};\nexports.DAMAGE_CRITICAL = DAMAGE_CRITICAL;\nconst DAMAGE_PHYSIC = function (a, b) {\n    let damage = Math.round((a[exports.ATK] - b[exports.PDEF] / 2) * ((20 + a[exports.STR]) / 20));\n    if (damage < 0)\n        damage = 0;\n    return damage;\n};\nexports.DAMAGE_PHYSIC = DAMAGE_PHYSIC;\nconst DAMAGE_GUARD = function (damage) {\n    return damage / 2;\n};\nexports.DAMAGE_GUARD = DAMAGE_GUARD;\nconst COEFFICIENT_ELEMENTS = function (a, b, bDef) {\n    return ((a.rate + 1) * (b.rate + 1)) / (bDef.rate == 0 ? bDef.rate * 4 : 1);\n};\nexports.COEFFICIENT_ELEMENTS = COEFFICIENT_ELEMENTS;\nconst DAMAGE_SKILL = function (a, b, skill) {\n    let power = skill.power + (a[exports.ATK] * (skill.coefficient[exports.ATK] || 0));\n    if (power > 0) {\n        power -= b[exports.PDEF] * (skill.coefficient[exports.PDEF] || 0) / 2;\n        power -= b[exports.SDEF] * (skill.coefficient[exports.SDEF] || 0) / 2;\n        power = Math.max(power, 0);\n    }\n    let rate = 20;\n    [exports.STR, exports.DEX, exports.AGI, exports.INT].forEach(val => rate += a[val] * (skill.coefficient[val] || 0));\n    return Math.round(power * rate / 20);\n};\nexports.DAMAGE_SKILL = DAMAGE_SKILL;\n//# sourceMappingURL=index.js.map\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/server/lib/presets/index.js?");

/***/ }),

/***/ "./node_modules/@rpgjs/server/lib/server.js":
/*!**************************************************!*\
  !*** ./node_modules/@rpgjs/server/lib/server.js ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RpgServerEngine = void 0;\nconst Map_1 = __webpack_require__(/*! ./Scenes/Map */ \"./node_modules/@rpgjs/server/lib/Scenes/Map.js\");\nconst Player_1 = __webpack_require__(/*! ./Player/Player */ \"./node_modules/@rpgjs/server/lib/Player/Player.js\");\nconst Query_1 = __webpack_require__(/*! ./Query */ \"./node_modules/@rpgjs/server/lib/Query.js\");\nconst presets_1 = __webpack_require__(/*! ./presets */ \"./node_modules/@rpgjs/server/lib/presets/index.js\");\nconst sync_server_1 = __webpack_require__(/*! @rpgjs/sync-server */ \"./node_modules/@rpgjs/sync-server/lib/index.js\");\nconst common_1 = __webpack_require__(/*! @rpgjs/common */ \"./node_modules/@rpgjs/common/lib/index.js\");\nlet tick = 0;\nclass RpgServerEngine {\n    /**\n     * Combat formulas\n     *\n     * @prop {Socket Io Server} [io]\n     * @memberof RpgServerEngine\n     */\n    constructor(io, gameEngine, inputOptions) {\n        this.io = io;\n        this.gameEngine = gameEngine;\n        this.inputOptions = inputOptions;\n        /**\n         * List of the data\n         *\n         * @prop {object} [database]\n         * @memberof RpgServerEngine\n         */\n        this.database = {};\n        /**\n         * retrieve the global configurations assigned at the entry point\n         *\n         * @prop {object} [globalConfig]\n         * @readonly\n         * @memberof RpgServerEngine\n         * */\n        this.globalConfig = {};\n        /**\n         * Combat formulas\n         *\n         * @prop {object} [damageFormulas]\n         * @memberof RpgServerEngine\n         */\n        this.damageFormulas = {};\n        this.scenes = new Map();\n        this.totalConnected = 0;\n    }\n    _init() {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.playerClass = this.inputOptions.playerClass || Player_1.RpgPlayer;\n            this.damageFormulas = this.inputOptions.damageFormulas || {};\n            this.damageFormulas = Object.assign({ damageSkill: presets_1.DAMAGE_SKILL, damagePhysic: presets_1.DAMAGE_PHYSIC, damageCritical: presets_1.DAMAGE_CRITICAL, coefficientElements: presets_1.COEFFICIENT_ELEMENTS }, this.damageFormulas);\n            this.globalConfig = this.inputOptions.globalConfig;\n            if (!this.inputOptions.maps)\n                this.inputOptions.maps = [];\n            this.inputOptions.maps = [\n                ...common_1.Utils.arrayFlat(yield common_1.RpgPlugin.emit(common_1.HookServer.AddMap, this.inputOptions.maps)) || [],\n                ...this.inputOptions.maps\n            ];\n            if (!this.inputOptions.database)\n                this.inputOptions.database = {};\n            const datas = (yield common_1.RpgPlugin.emit(common_1.HookServer.AddDatabase, this.inputOptions.database)) || [];\n            for (let plug of datas) {\n                this.inputOptions.database = Object.assign(Object.assign({}, plug), this.inputOptions.database);\n            }\n            for (let key in this.inputOptions.database) {\n                const data = this.inputOptions.database[key];\n                this.database[data.id] = data;\n            }\n            this.loadScenes();\n        });\n    }\n    /**\n    * Start the RPG server\n    *\n    * @method server.start()\n    * @returns {void}\n    * @memberof RpgServerEngine\n    */\n    start(inputOptions) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (inputOptions)\n                this.inputOptions = inputOptions;\n            yield this._init();\n            let schedulerConfig = {\n                tick: this.step.bind(this),\n                period: 1000 / this.inputOptions.stepRate,\n                delay: 4\n            };\n            this.scheduler = new common_1.Scheduler(schedulerConfig).start();\n            this.gameEngine.start({\n                getObject(id) {\n                    return Query_1.Query.getPlayer(id);\n                },\n                getObjectsOfGroup(groupId, player) {\n                    return Query_1.Query.getObjectsOfMap(groupId, player);\n                }\n            });\n            this.io.on('connection', this.onPlayerConnected.bind(this));\n            common_1.RpgPlugin.emit(common_1.HookServer.Start, this);\n        });\n    }\n    step() {\n        tick++;\n        if (tick % 4 === 0) {\n            sync_server_1.World.send();\n        }\n    }\n    loadScenes() {\n        this.scenes.set(Map_1.SceneMap.id, new Map_1.SceneMap(this.inputOptions.maps, this));\n    }\n    getScene(name) {\n        return this.scenes.get(name);\n    }\n    sendToPlayer(currentPlayer, eventName, data) {\n        currentPlayer._socket.emit(eventName, data);\n    }\n    onPlayerConnected(socket) {\n        const playerId = common_1.Utils.generateUID();\n        let player = new this.playerClass(this.gameEngine, playerId);\n        socket.on('move', (data) => {\n            this.gameEngine.processInput(data, playerId);\n        });\n        socket.on('disconnect', () => {\n            this.onPlayerDisconnected(socket.id, playerId);\n        });\n        sync_server_1.World.setUser(player, socket);\n        socket.emit('playerJoined', { playerId });\n        player.server = this;\n        player._init();\n        player.execMethod('onConnected');\n    }\n    /**\n     *\n     * @param {string} socketId - The socketId of the player that disconnected\n     * @param {string} playerId - The playerId of the player that disconnected\n     */\n    onPlayerDisconnected(socketId, playerId) {\n        const player = sync_server_1.World.getUser(playerId);\n        player.execMethod('onDisconnected');\n        sync_server_1.World.disconnectUser(playerId);\n    }\n}\nexports.RpgServerEngine = RpgServerEngine;\n//# sourceMappingURL=server.js.map\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/server/lib/server.js?");

/***/ }),

/***/ "./node_modules/@rpgjs/starter-kit/src/index.ts":
/*!******************************************************!*\
  !*** ./node_modules/@rpgjs/starter-kit/src/index.ts ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.database = void 0;\nconst client_1 = __importDefault(__webpack_require__(/*! client!./client */ \"./node_modules/@rpgjs/compiler/loaders/null.js!./node_modules/@rpgjs/starter-kit/src/client/index.ts\"));\nconst server_1 = __importDefault(__webpack_require__(/*! server!./server */ \"./node_modules/@rpgjs/compiler/loaders/content.js!./node_modules/@rpgjs/starter-kit/src/server/index.ts\"));\nconst database_1 = __importDefault(__webpack_require__(/*! server!./server/database */ \"./node_modules/@rpgjs/compiler/loaders/content.js!./node_modules/@rpgjs/starter-kit/src/server/database/index.ts\"));\nexports.database = database_1.default;\nexports.default = {\n    client: client_1.default,\n    server: server_1.default\n};\n\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/starter-kit/src/index.ts?");

/***/ }),

/***/ "./node_modules/@rpgjs/starter-kit/src/server/database/actors/hero.ts":
/*!****************************************************************************!*\
  !*** ./node_modules/@rpgjs/starter-kit/src/server/database/actors/hero.ts ***!
  \****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Hero = void 0;\nconst database_1 = __webpack_require__(/*! @rpgjs/database */ \"./node_modules/@rpgjs/database/lib/index.js\");\nconst server_1 = __webpack_require__(/*! @rpgjs/server */ \"./node_modules/@rpgjs/server/lib/index.js\");\nconst fighter_1 = __webpack_require__(/*! ../classes/fighter */ \"./node_modules/@rpgjs/starter-kit/src/server/database/classes/fighter.ts\");\nconst sword_1 = __webpack_require__(/*! ../weapons/sword */ \"./node_modules/@rpgjs/starter-kit/src/server/database/weapons/sword.ts\");\nconst shield_1 = __webpack_require__(/*! ../armors/shield */ \"./node_modules/@rpgjs/starter-kit/src/server/database/armors/shield.ts\");\nconst { MAXHP, MAXSP, MAXHP_CURVE, MAXSP_CURVE } = server_1.Presets;\nlet Hero = class Hero {\n};\nHero = __decorate([\n    database_1.Actor({\n        name: 'Hero',\n        initialLevel: 1,\n        finalLevel: 99,\n        expCurve: {\n            basis: 30,\n            extra: 20,\n            accelerationA: 30,\n            accelerationB: 30\n        },\n        parameters: {\n            [MAXHP]: MAXHP_CURVE,\n            [MAXSP]: MAXSP_CURVE\n        },\n        startingEquipment: [\n            sword_1.Sword,\n            shield_1.Shield\n        ],\n        class: fighter_1.Fighter\n    })\n], Hero);\nexports.Hero = Hero;\n\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/starter-kit/src/server/database/actors/hero.ts?");

/***/ }),

/***/ "./node_modules/@rpgjs/starter-kit/src/server/database/armors/shield.ts":
/*!******************************************************************************!*\
  !*** ./node_modules/@rpgjs/starter-kit/src/server/database/armors/shield.ts ***!
  \******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Shield = void 0;\nconst database_1 = __webpack_require__(/*! @rpgjs/database */ \"./node_modules/@rpgjs/database/lib/index.js\");\nlet Shield = class Shield {\n};\nShield = __decorate([\n    database_1.Armor({\n        name: 'Shield',\n        description: 'A great shield!',\n        price: 100,\n        pdef: 22,\n        sdef: 20\n    })\n], Shield);\nexports.Shield = Shield;\n\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/starter-kit/src/server/database/armors/shield.ts?");

/***/ }),

/***/ "./node_modules/@rpgjs/starter-kit/src/server/database/classes/fighter.ts":
/*!********************************************************************************!*\
  !*** ./node_modules/@rpgjs/starter-kit/src/server/database/classes/fighter.ts ***!
  \********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Fighter = void 0;\nconst database_1 = __webpack_require__(/*! @rpgjs/database */ \"./node_modules/@rpgjs/database/lib/index.js\");\nconst fire_1 = __webpack_require__(/*! ../skills/fire */ \"./node_modules/@rpgjs/starter-kit/src/server/database/skills/fire.ts\");\nlet Fighter = class Fighter {\n};\nFighter = __decorate([\n    database_1.Class({\n        name: 'Fighter',\n        equippable: [],\n        skillsToLearn: [\n            { level: 1, skill: fire_1.Fire }\n        ]\n    })\n], Fighter);\nexports.Fighter = Fighter;\n\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/starter-kit/src/server/database/classes/fighter.ts?");

/***/ }),

/***/ "./node_modules/@rpgjs/starter-kit/src/server/database/enemies/monster.ts":
/*!********************************************************************************!*\
  !*** ./node_modules/@rpgjs/starter-kit/src/server/database/enemies/monster.ts ***!
  \********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Monster = void 0;\nconst database_1 = __webpack_require__(/*! @rpgjs/database */ \"./node_modules/@rpgjs/database/lib/index.js\");\nconst server_1 = __webpack_require__(/*! @rpgjs/server */ \"./node_modules/@rpgjs/server/lib/index.js\");\nconst sword_1 = __webpack_require__(/*! ../weapons/sword */ \"./node_modules/@rpgjs/starter-kit/src/server/database/weapons/sword.ts\");\nconst shield_1 = __webpack_require__(/*! ../armors/shield */ \"./node_modules/@rpgjs/starter-kit/src/server/database/armors/shield.ts\");\nconst { MAXHP, STR } = server_1.Presets;\nlet Monster = class Monster extends server_1.RpgEnemy {\n};\nMonster = __decorate([\n    database_1.Enemy({\n        name: 'Monster',\n        graphic: 'bird',\n        parameters: {\n            [MAXHP]: { start: 540, end: 1000 },\n            [STR]: { start: 41, end: 1000 }\n        },\n        gain: {\n            exp: 10,\n            gold: 15\n        },\n        startingEquipment: [sword_1.Sword, shield_1.Shield]\n    })\n], Monster);\nexports.Monster = Monster;\n\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/starter-kit/src/server/database/enemies/monster.ts?");

/***/ }),

/***/ "./node_modules/@rpgjs/starter-kit/src/server/database/index.ts":
/*!**********************************************************************!*\
  !*** ./node_modules/@rpgjs/starter-kit/src/server/database/index.ts ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst potion_1 = __webpack_require__(/*! ./items/potion */ \"./node_modules/@rpgjs/starter-kit/src/server/database/items/potion.ts\");\nconst key_1 = __webpack_require__(/*! ./items/key */ \"./node_modules/@rpgjs/starter-kit/src/server/database/items/key.ts\");\nconst paralyze_1 = __webpack_require__(/*! ./states/paralyze */ \"./node_modules/@rpgjs/starter-kit/src/server/database/states/paralyze.ts\");\nconst hero_1 = __webpack_require__(/*! ./actors/hero */ \"./node_modules/@rpgjs/starter-kit/src/server/database/actors/hero.ts\");\nconst sword_1 = __webpack_require__(/*! ./weapons/sword */ \"./node_modules/@rpgjs/starter-kit/src/server/database/weapons/sword.ts\");\nconst shield_1 = __webpack_require__(/*! ./armors/shield */ \"./node_modules/@rpgjs/starter-kit/src/server/database/armors/shield.ts\");\nconst monster_1 = __webpack_require__(/*! ./enemies/monster */ \"./node_modules/@rpgjs/starter-kit/src/server/database/enemies/monster.ts\");\nexports.default = {\n    Potion: potion_1.Potion,\n    Paralyze: paralyze_1.Paralyze,\n    Hero: hero_1.Hero,\n    Key: key_1.Key,\n    Sword: sword_1.Sword,\n    Shield: shield_1.Shield,\n    Monster: monster_1.Monster\n};\n\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/starter-kit/src/server/database/index.ts?");

/***/ }),

/***/ "./node_modules/@rpgjs/starter-kit/src/server/database/items/key.ts":
/*!**************************************************************************!*\
  !*** ./node_modules/@rpgjs/starter-kit/src/server/database/items/key.ts ***!
  \**************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Key = void 0;\nconst database_1 = __webpack_require__(/*! @rpgjs/database */ \"./node_modules/@rpgjs/database/lib/index.js\");\nlet Key = class Key {\n};\nKey = __decorate([\n    database_1.Item({\n        name: 'Dungeon Key',\n        description: 'it\\'s the key to the dungeon',\n        price: 1000,\n        consumable: false\n    })\n], Key);\nexports.Key = Key;\n\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/starter-kit/src/server/database/items/key.ts?");

/***/ }),

/***/ "./node_modules/@rpgjs/starter-kit/src/server/database/items/potion.ts":
/*!*****************************************************************************!*\
  !*** ./node_modules/@rpgjs/starter-kit/src/server/database/items/potion.ts ***!
  \*****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Potion = void 0;\nconst database_1 = __webpack_require__(/*! @rpgjs/database */ \"./node_modules/@rpgjs/database/lib/index.js\");\nlet Potion = class Potion {\n};\nPotion = __decorate([\n    database_1.Item({\n        name: 'Potion',\n        description: 'Give 100 HP',\n        price: 200,\n        hpValue: 100,\n        hitRate: 1,\n        consumable: true\n    })\n], Potion);\nexports.Potion = Potion;\n\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/starter-kit/src/server/database/items/potion.ts?");

/***/ }),

/***/ "./node_modules/@rpgjs/starter-kit/src/server/database/skills/fire.ts":
/*!****************************************************************************!*\
  !*** ./node_modules/@rpgjs/starter-kit/src/server/database/skills/fire.ts ***!
  \****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Fire = void 0;\nconst database_1 = __webpack_require__(/*! @rpgjs/database */ \"./node_modules/@rpgjs/database/lib/index.js\");\nlet Fire = class Fire {\n};\nFire = __decorate([\n    database_1.Skill({\n        name: 'Fire',\n        description: 'Use Fire',\n        spCost: 50\n    })\n], Fire);\nexports.Fire = Fire;\n\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/starter-kit/src/server/database/skills/fire.ts?");

/***/ }),

/***/ "./node_modules/@rpgjs/starter-kit/src/server/database/states/paralyze.ts":
/*!********************************************************************************!*\
  !*** ./node_modules/@rpgjs/starter-kit/src/server/database/states/paralyze.ts ***!
  \********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Paralyze = void 0;\nconst database_1 = __webpack_require__(/*! @rpgjs/database */ \"./node_modules/@rpgjs/database/lib/index.js\");\nlet Paralyze = class Paralyze {\n};\nParalyze = __decorate([\n    database_1.State({\n        name: 'Paralyze'\n    })\n], Paralyze);\nexports.Paralyze = Paralyze;\n\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/starter-kit/src/server/database/states/paralyze.ts?");

/***/ }),

/***/ "./node_modules/@rpgjs/starter-kit/src/server/database/weapons/sword.ts":
/*!******************************************************************************!*\
  !*** ./node_modules/@rpgjs/starter-kit/src/server/database/weapons/sword.ts ***!
  \******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Sword = void 0;\nconst database_1 = __webpack_require__(/*! @rpgjs/database */ \"./node_modules/@rpgjs/database/lib/index.js\");\nlet Sword = class Sword {\n};\nSword = __decorate([\n    database_1.Weapon({\n        name: 'Sword',\n        description: 'Figther Weapon',\n        price: 500,\n        atk: 112\n    })\n], Sword);\nexports.Sword = Sword;\n\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/starter-kit/src/server/database/weapons/sword.ts?");

/***/ }),

/***/ "./node_modules/@rpgjs/starter-kit/src/server/events/chest.ts":
/*!********************************************************************!*\
  !*** ./node_modules/@rpgjs/starter-kit/src/server/events/chest.ts ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ChestEvent = void 0;\nconst server_1 = __webpack_require__(/*! @rpgjs/server */ \"./node_modules/@rpgjs/server/lib/index.js\");\nfunction ChestEvent(options) {\n    const { name, text, gain } = options;\n    let ChestEventClass = class ChestEventClass extends server_1.RpgEvent {\n        onInit(player) {\n            this.resfresh(player);\n            this.setGraphic('chest');\n        }\n        onAction(player) {\n            return __awaiter(this, void 0, void 0, function* () {\n                if (player.getVariable(name)) {\n                    return;\n                }\n                if (player.getDirection() != server_1.Direction.Up) {\n                    return;\n                }\n                yield player.showText(text);\n                player.addItem(gain.item);\n                player.setVariable(name, true);\n                this.resfresh(player);\n            });\n        }\n        resfresh(player) {\n            if (player.getVariable(name)) {\n                this.changeDirection(server_1.Direction.Down);\n            }\n            else {\n                this.changeDirection(server_1.Direction.Up);\n            }\n        }\n    };\n    ChestEventClass = __decorate([\n        server_1.EventData({\n            name,\n            mode: server_1.EventMode.Scenario,\n            hitbox: {\n                width: 32,\n                height: 16\n            }\n        })\n    ], ChestEventClass);\n    return ChestEventClass;\n}\nexports.ChestEvent = ChestEvent;\n\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/starter-kit/src/server/events/chest.ts?");

/***/ }),

/***/ "./node_modules/@rpgjs/starter-kit/src/server/events/npc.ts":
/*!******************************************************************!*\
  !*** ./node_modules/@rpgjs/starter-kit/src/server/events/npc.ts ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NpcEvent = void 0;\nconst server_1 = __webpack_require__(/*! @rpgjs/server */ \"./node_modules/@rpgjs/server/lib/index.js\");\nfunction NpcEvent(options) {\n    let NpcEvent = class NpcEvent extends server_1.RpgEvent {\n        onInit() {\n            this.speed = options.speed || 1;\n            this.frequency = options.frequency || 200;\n            this.setGraphic(options.graphic);\n            if (options.moveRandom)\n                this.infiniteMoveRoute([server_1.Move.tileRandom()]);\n        }\n        onAction(player) {\n            return __awaiter(this, void 0, void 0, function* () {\n                let text = options.text;\n                if (typeof text == 'string')\n                    text = [text];\n                for (let msg of text) {\n                    yield player.showText(msg, {\n                        talkWith: this\n                    });\n                }\n            });\n        }\n    };\n    NpcEvent = __decorate([\n        server_1.EventData({\n            name: options.name,\n            hitbox: {\n                width: 32,\n                height: 16\n            }\n        })\n    ], NpcEvent);\n    return NpcEvent;\n}\nexports.NpcEvent = NpcEvent;\n\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/starter-kit/src/server/events/npc.ts?");

/***/ }),

/***/ "./node_modules/@rpgjs/starter-kit/src/server/events/shop.ts":
/*!*******************************************************************!*\
  !*** ./node_modules/@rpgjs/starter-kit/src/server/events/shop.ts ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ShopEvent = void 0;\nconst server_1 = __webpack_require__(/*! @rpgjs/server */ \"./node_modules/@rpgjs/server/lib/index.js\");\nconst key_1 = __webpack_require__(/*! ../database/items/key */ \"./node_modules/@rpgjs/starter-kit/src/server/database/items/key.ts\");\nlet ShopEvent = class ShopEvent extends server_1.RpgEvent {\n    onInit() {\n        this.setGraphic('male4_1');\n    }\n    onAction(player) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield player.callShop([key_1.Key]);\n        });\n    }\n};\nShopEvent = __decorate([\n    server_1.EventData({\n        name: 'shop',\n        hitbox: {\n            width: 32,\n            height: 16\n        }\n    })\n], ShopEvent);\nexports.ShopEvent = ShopEvent;\n\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/starter-kit/src/server/events/shop.ts?");

/***/ }),

/***/ "./node_modules/@rpgjs/starter-kit/src/server/events/villager1.ts":
/*!************************************************************************!*\
  !*** ./node_modules/@rpgjs/starter-kit/src/server/events/villager1.ts ***!
  \************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Villager1Event = void 0;\nconst server_1 = __webpack_require__(/*! @rpgjs/server */ \"./node_modules/@rpgjs/server/lib/index.js\");\nconst key_1 = __webpack_require__(/*! ../database/items/key */ \"./node_modules/@rpgjs/starter-kit/src/server/database/items/key.ts\");\nlet Villager1Event = class Villager1Event extends server_1.RpgEvent {\n    onInit() {\n        this.setGraphic('male12');\n    }\n    onAction(player) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (player.hasItem(key_1.Key)) {\n                yield player.showText('Great, you have the key to the dungeon! You deserve my congratulations', {\n                    talkWith: this\n                });\n                return;\n            }\n            let texts = [\n                'Welcome to the RPGJS demo!',\n                'To test, I propose to bring me the key of the dungeon.',\n                'You have to buy it from the seller in this village.'\n            ];\n            for (let msg of texts) {\n                yield player.showText(msg, {\n                    talkWith: this\n                });\n            }\n            player.setVariable('ASK_BROTHER', true);\n        });\n    }\n};\nVillager1Event = __decorate([\n    server_1.EventData({\n        name: 'EV-1',\n        hitbox: {\n            width: 32,\n            height: 16\n        }\n    })\n], Villager1Event);\nexports.Villager1Event = Villager1Event;\n\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/starter-kit/src/server/events/villager1.ts?");

/***/ }),

/***/ "./node_modules/@rpgjs/starter-kit/src/server/events/villager2.ts":
/*!************************************************************************!*\
  !*** ./node_modules/@rpgjs/starter-kit/src/server/events/villager2.ts ***!
  \************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Villager2Event = void 0;\nconst server_1 = __webpack_require__(/*! @rpgjs/server */ \"./node_modules/@rpgjs/server/lib/index.js\");\nlet Villager2Event = class Villager2Event extends server_1.RpgEvent {\n    onInit() {\n        this.speed = 2;\n        this.frequency = 300;\n        this.setGraphic('male17');\n        this.infiniteMoveRoute([server_1.Move.tileRandom()]);\n    }\n    onAction(player) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!player.getVariable('ASK_BROTHER')) {\n                yield player.showText('I think you should talk to my brother, he\\'s in the northwestern part of the village.', {\n                    talkWith: this\n                });\n                return;\n            }\n            if (player.getVariable('GAIN_GOLD')) {\n                yield player.showText('Were you able to buy the dungeon key?', {\n                    talkWith: this\n                });\n                return;\n            }\n            const choice = yield player.showChoices('My brother wants the key to the dungeon. To buy it, you must have gold. Do you want it?', [\n                { value: true, text: 'Yes' },\n                { value: false, text: 'No' }\n            ], {\n                talkWith: this\n            });\n            if (choice && choice.value) {\n                yield player.showText('Here is 1000 Gold then!', {\n                    talkWith: this\n                });\n                player.gold += 1000;\n                player.setVariable('GAIN_GOLD', true);\n            }\n            else {\n                yield player.showText('Too bad for you!', {\n                    talkWith: this\n                });\n            }\n        });\n    }\n};\nVillager2Event = __decorate([\n    server_1.EventData({\n        name: 'EV-4',\n        hitbox: {\n            width: 32,\n            height: 16\n        }\n    })\n], Villager2Event);\nexports.Villager2Event = Villager2Event;\n\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/starter-kit/src/server/events/villager2.ts?");

/***/ }),

/***/ "./node_modules/@rpgjs/starter-kit/src/server/maps/cave.ts":
/*!*****************************************************************!*\
  !*** ./node_modules/@rpgjs/starter-kit/src/server/maps/cave.ts ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CaveMap = void 0;\nconst server_1 = __webpack_require__(/*! @rpgjs/server */ \"./node_modules/@rpgjs/server/lib/index.js\");\nlet CaveMap = class CaveMap extends server_1.RpgMap {\n};\nCaveMap = __decorate([\n    server_1.MapData({\n        id: 'cave',\n        file: __webpack_require__(/*! ./tmx/cave.tmx */ \"./node_modules/@rpgjs/starter-kit/src/server/maps/tmx/cave.tmx\")\n    })\n], CaveMap);\nexports.CaveMap = CaveMap;\n\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/starter-kit/src/server/maps/cave.ts?");

/***/ }),

/***/ "./node_modules/@rpgjs/starter-kit/src/server/maps/mapz.ts":
/*!*****************************************************************!*\
  !*** ./node_modules/@rpgjs/starter-kit/src/server/maps/mapz.ts ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MapZ = void 0;\nconst server_1 = __webpack_require__(/*! @rpgjs/server */ \"./node_modules/@rpgjs/server/lib/index.js\");\nlet MapZ = class MapZ extends server_1.RpgMap {\n};\nMapZ = __decorate([\n    server_1.MapData({\n        id: 'mapz',\n        file: __webpack_require__(/*! ./tmx/mapz.tmx */ \"./node_modules/@rpgjs/starter-kit/src/server/maps/tmx/mapz.tmx\")\n    })\n], MapZ);\nexports.MapZ = MapZ;\n\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/starter-kit/src/server/maps/mapz.ts?");

/***/ }),

/***/ "./node_modules/@rpgjs/starter-kit/src/server/maps/samplemap.ts":
/*!**********************************************************************!*\
  !*** ./node_modules/@rpgjs/starter-kit/src/server/maps/samplemap.ts ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SampleMap = void 0;\nconst server_1 = __webpack_require__(/*! @rpgjs/server */ \"./node_modules/@rpgjs/server/lib/index.js\");\nconst npc_1 = __webpack_require__(/*! ../events/npc */ \"./node_modules/@rpgjs/starter-kit/src/server/events/npc.ts\");\nconst shop_1 = __webpack_require__(/*! ../events/shop */ \"./node_modules/@rpgjs/starter-kit/src/server/events/shop.ts\");\nconst villager1_1 = __webpack_require__(/*! ../events/villager1 */ \"./node_modules/@rpgjs/starter-kit/src/server/events/villager1.ts\");\nconst villager2_1 = __webpack_require__(/*! ../events/villager2 */ \"./node_modules/@rpgjs/starter-kit/src/server/events/villager2.ts\");\nconst chest_1 = __webpack_require__(/*! ../events/chest */ \"./node_modules/@rpgjs/starter-kit/src/server/events/chest.ts\");\nconst potion_1 = __webpack_require__(/*! ../database/items/potion */ \"./node_modules/@rpgjs/starter-kit/src/server/database/items/potion.ts\");\nlet SampleMap = class SampleMap extends server_1.RpgMap {\n};\nSampleMap = __decorate([\n    server_1.MapData({\n        id: 'medieval',\n        file: __webpack_require__(/*! ./tmx/samplemap.tmx */ \"./node_modules/@rpgjs/starter-kit/src/server/maps/tmx/samplemap.tmx\"),\n        name: 'Town',\n        events: [\n            villager1_1.Villager1Event,\n            villager2_1.Villager2Event,\n            npc_1.NpcEvent({\n                name: 'EV-2',\n                text: 'I find this city very quiet!',\n                graphic: 'female13',\n                moveRandom: true\n            }),\n            npc_1.NpcEvent({\n                name: 'EV-3',\n                text: 'It is beautiful today!',\n                graphic: 'female19',\n                moveRandom: true\n            }),\n            shop_1.ShopEvent,\n            chest_1.ChestEvent({\n                name: 'chest-1',\n                text: 'You got a potion!',\n                gain: {\n                    item: potion_1.Potion\n                }\n            })\n        ],\n        sounds: ['town']\n    })\n], SampleMap);\nexports.SampleMap = SampleMap;\n\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/starter-kit/src/server/maps/samplemap.ts?");

/***/ }),

/***/ "./node_modules/@rpgjs/starter-kit/src/server/maps/tmx/cave.tmx":
/*!**********************************************************************!*\
  !*** ./node_modules/@rpgjs/starter-kit/src/server/maps/tmx/cave.tmx ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("module.exports = __webpack_require__.p + \"maps/7e781f82ecc355631d38b896f876a060.json\";\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/starter-kit/src/server/maps/tmx/cave.tmx?");

/***/ }),

/***/ "./node_modules/@rpgjs/starter-kit/src/server/maps/tmx/mapz.tmx":
/*!**********************************************************************!*\
  !*** ./node_modules/@rpgjs/starter-kit/src/server/maps/tmx/mapz.tmx ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("module.exports = __webpack_require__.p + \"maps/a95c65e25e213f6f4cf3e606d409fa49.json\";\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/starter-kit/src/server/maps/tmx/mapz.tmx?");

/***/ }),

/***/ "./node_modules/@rpgjs/starter-kit/src/server/maps/tmx/samplemap.tmx":
/*!***************************************************************************!*\
  !*** ./node_modules/@rpgjs/starter-kit/src/server/maps/tmx/samplemap.tmx ***!
  \***************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("module.exports = __webpack_require__.p + \"maps/687860eb75aeed0c0ff660fa62603958.json\";\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/starter-kit/src/server/maps/tmx/samplemap.tmx?");

/***/ }),

/***/ "./node_modules/@rpgjs/sync-server/lib/decorators/index.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@rpgjs/sync-server/lib/decorators/index.js ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Input = exports.Schema = void 0;\nconst input_1 = __webpack_require__(/*! ./input */ \"./node_modules/@rpgjs/sync-server/lib/decorators/input.js\");\nObject.defineProperty(exports, \"Input\", { enumerable: true, get: function () { return input_1.Input; } });\nconst schema_1 = __webpack_require__(/*! ./schema */ \"./node_modules/@rpgjs/sync-server/lib/decorators/schema.js\");\nObject.defineProperty(exports, \"Schema\", { enumerable: true, get: function () { return schema_1.Schema; } });\n//# sourceMappingURL=index.js.map\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/sync-server/lib/decorators/index.js?");

/***/ }),

/***/ "./node_modules/@rpgjs/sync-server/lib/decorators/input.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@rpgjs/sync-server/lib/decorators/input.js ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Input = void 0;\nfunction Input(options) {\n    return function (target, key, descriptor) {\n        let pKey = `_${key}`;\n        let init = function (isGet) {\n            return function (newVal) {\n                Object.defineProperty(this, pKey, { enumerable: false, configurable: true, writable: true });\n                Object.defineProperty(this, key, {\n                    get: () => {\n                        return this[pKey];\n                    },\n                    set: (val) => {\n                        this[pKey] = val;\n                    },\n                    enumerable: true,\n                    configurable: true\n                });\n                if (isGet) {\n                    return this[key];\n                }\n                else {\n                    if (!this.$inputs)\n                        this.$inputs = {};\n                    this.$inputs[key] = options || Object;\n                    this[key] = newVal;\n                }\n            };\n        };\n        return Object.defineProperty(target, key, {\n            get: init(true),\n            set: init(false),\n            enumerable: true,\n            configurable: true\n        });\n    };\n}\nexports.Input = Input;\n//# sourceMappingURL=input.js.map\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/sync-server/lib/decorators/input.js?");

/***/ }),

/***/ "./node_modules/@rpgjs/sync-server/lib/decorators/schema.js":
/*!******************************************************************!*\
  !*** ./node_modules/@rpgjs/sync-server/lib/decorators/schema.js ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Schema = void 0;\nfunction Schema(schema) {\n    return function (target) {\n        target.prototype.$schema = schema;\n    };\n}\nexports.Schema = Schema;\n//# sourceMappingURL=schema.js.map\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/sync-server/lib/decorators/schema.js?");

/***/ }),

/***/ "./node_modules/@rpgjs/sync-server/lib/index.js":
/*!******************************************************!*\
  !*** ./node_modules/@rpgjs/sync-server/lib/index.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.User = exports.Input = exports.Schema = exports.World = void 0;\nconst world_1 = __webpack_require__(/*! ./world */ \"./node_modules/@rpgjs/sync-server/lib/world.js\");\nObject.defineProperty(exports, \"World\", { enumerable: true, get: function () { return world_1.World; } });\nconst decorators_1 = __webpack_require__(/*! ./decorators */ \"./node_modules/@rpgjs/sync-server/lib/decorators/index.js\");\nObject.defineProperty(exports, \"Schema\", { enumerable: true, get: function () { return decorators_1.Schema; } });\nObject.defineProperty(exports, \"Input\", { enumerable: true, get: function () { return decorators_1.Input; } });\nconst user_1 = __webpack_require__(/*! ./user */ \"./node_modules/@rpgjs/sync-server/lib/user.js\");\nObject.defineProperty(exports, \"User\", { enumerable: true, get: function () { return user_1.User; } });\n//# sourceMappingURL=index.js.map\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/sync-server/lib/index.js?");

/***/ }),

/***/ "./node_modules/@rpgjs/sync-server/lib/packet.js":
/*!*******************************************************!*\
  !*** ./node_modules/@rpgjs/sync-server/lib/packet.js ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Packet = void 0;\nconst msgpack_lite_1 = __importDefault(__webpack_require__(/*! msgpack-lite */ \"msgpack-lite\"));\nclass Packet {\n    constructor(data, roomId) {\n        this.data = data;\n        this.roomId = roomId;\n    }\n    get body() {\n        return this.data;\n    }\n    get message() {\n        return [this.roomId, Date.now(), this.data];\n    }\n    clone(data) {\n        return new Packet(data, this.roomId);\n    }\n    encode() {\n        return msgpack_lite_1.default.encode(this.message);\n    }\n}\nexports.Packet = Packet;\n//# sourceMappingURL=packet.js.map\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/sync-server/lib/packet.js?");

/***/ }),

/***/ "./node_modules/@rpgjs/sync-server/lib/room.js":
/*!*****************************************************!*\
  !*** ./node_modules/@rpgjs/sync-server/lib/room.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Room = void 0;\nconst get_value_1 = __importDefault(__webpack_require__(/*! get-value */ \"get-value\"));\nconst set_value_1 = __importDefault(__webpack_require__(/*! set-value */ \"set-value\"));\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./node_modules/@rpgjs/sync-server/lib/utils.js\");\nconst transmitter_1 = __webpack_require__(/*! ./transmitter */ \"./node_modules/@rpgjs/sync-server/lib/transmitter.js\");\nconst packet_1 = __webpack_require__(/*! ./packet */ \"./node_modules/@rpgjs/sync-server/lib/packet.js\");\nconst world_1 = __webpack_require__(/*! ./world */ \"./node_modules/@rpgjs/sync-server/lib/world.js\");\nclass Room {\n    constructor() {\n        this.memoryObject = {};\n    }\n    join(user, room) {\n        if (!user._rooms)\n            user._rooms = [];\n        user._rooms.push(room.id);\n        if (!user.id)\n            user.id = utils_1.Utils.generateId();\n        if (room['onJoin'])\n            room['onJoin'](user);\n        const object = this.extractObjectOfRoom(room, room.$schema);\n        const packet = new packet_1.Packet(object, room.id);\n        transmitter_1.Transmitter.emit(user, packet, room);\n    }\n    leave(user, room) {\n        const index = user._rooms.findIndex(id => room.id == id);\n        user._rooms.splice(index, 1);\n        if (room['onLeave'])\n            room['onLeave'](user);\n    }\n    addInputs(room, obj) {\n        room.$schema = Object.assign(Object.assign({}, obj), room.$schema);\n    }\n    setProxy(room) {\n        const dict = {};\n        const self = this;\n        function toDict(obj, path = '') {\n            for (let prop in obj) {\n                const val = obj[prop];\n                let p = (path ? path + '.' : '') + prop;\n                if (Array.isArray(val)) {\n                    dict[p] = utils_1.GENERIC_KEY_SCHEMA;\n                    p += '.' + utils_1.GENERIC_KEY_SCHEMA;\n                    dict[p] = val[0];\n                    toDict(val[0], p);\n                }\n                else if (utils_1.Utils.isObject(val)) {\n                    dict[p] = val;\n                    toDict(val, p);\n                }\n                else {\n                    dict[p] = val;\n                }\n            }\n        }\n        toDict(room.$schema);\n        room.$dict = dict;\n        const getInfoDict = (path, key, dictPath) => {\n            const basePath = dict[dictPath];\n            const p = (path ? path + '.' : '') + key;\n            const genericPath = (dictPath ? dictPath + '.' : '') +\n                (basePath == utils_1.GENERIC_KEY_SCHEMA ? utils_1.GENERIC_KEY_SCHEMA : key);\n            return {\n                fullPath: p,\n                genericPath,\n                infoDict: dict[genericPath]\n            };\n        };\n        function deepProxy(object, path = '', dictPath = '') {\n            return new Proxy(object, {\n                set(target, key, val, receiver) {\n                    const { fullPath: p, infoDict, genericPath } = getInfoDict(path, key, dictPath);\n                    if (typeof val == 'object' && infoDict && val != null) {\n                        const valProxy = deepProxy(val, p, genericPath);\n                        if (path == 'users') {\n                            world_1.World.users[key]['proxy'] = valProxy;\n                        }\n                        Reflect.set(target, key, valProxy, receiver);\n                    }\n                    else {\n                        Reflect.set(target, key, val, receiver);\n                    }\n                    if (key == 'length' && dict[dictPath] == utils_1.GENERIC_KEY_SCHEMA) {\n                        return true;\n                    }\n                    if (infoDict) {\n                        let newObj;\n                        if (utils_1.Utils.isObject(infoDict) && val != null) {\n                            newObj = self.extractObjectOfRoom(val, infoDict);\n                        }\n                        else if (infoDict == utils_1.GENERIC_KEY_SCHEMA) {\n                            newObj = {};\n                            for (let key in val) {\n                                const item = val[key];\n                                if (typeof item == 'string' ||\n                                    typeof item == 'number' ||\n                                    typeof item == 'boolean') {\n                                    newObj[key] = item;\n                                    continue;\n                                }\n                                newObj[key] = self.extractObjectOfRoom(item, dict[genericPath + '.' + utils_1.GENERIC_KEY_SCHEMA]);\n                            }\n                        }\n                        else {\n                            newObj = val;\n                        }\n                        self.detectChanges(room, newObj, p);\n                    }\n                    return true;\n                },\n                get(target, key, receiver) {\n                    const toProxy = (val, path) => {\n                        if (typeof key != 'string') {\n                            return val;\n                        }\n                        if (key[0] == '_' || val == null) {\n                            return val;\n                        }\n                        const { fullPath: p, infoDict, genericPath } = getInfoDict(path, key, dictPath);\n                        if (typeof val == 'object' && infoDict) {\n                            val = deepProxy(val, p, genericPath);\n                        }\n                        return val;\n                    };\n                    let val = Reflect.get(target, key, receiver);\n                    val = toProxy(val, path);\n                    return val;\n                },\n                deleteProperty(target, key) {\n                    const { fullPath: p, infoDict } = getInfoDict(path, key, dictPath);\n                    delete target[key];\n                    if (infoDict)\n                        self.detectChanges(room, undefined, p);\n                    return true;\n                }\n            });\n        }\n        return deepProxy(room);\n    }\n    add(id, room) {\n        room.id = id;\n        room.$dict = {};\n        if (!room.$schema)\n            room.$schema = {};\n        if (!room.$schema.users)\n            room.$schema.users = [{ id: String }];\n        if (!room.$inputs)\n            room.$inputs = {};\n        if (!room.users)\n            room.users = {};\n        if (room.$inputs)\n            this.addInputs(room, room.$inputs);\n        room.$detectChanges = () => {\n            //this.detectChanges(room)\n        };\n        room.$setSchema = (schema) => {\n            room.$schema = schema;\n            return this.setProxy(room);\n        };\n        room.$join = (user) => {\n            room.users[user.id] = user;\n            this.join(room.users[user.id], room);\n            //this.detectChanges(room)\n        };\n        room.$leave = (user) => {\n            this.leave(user, room);\n            delete room.users[user.id];\n            delete world_1.World.users[user.id]['proxy'];\n            //this.detectChanges(room)\n        };\n        room.$currentState = () => this.memoryObject;\n        room.$clearCurrentState = () => {\n            this.memoryObject = {};\n        };\n        this.proxyRoom = room = this.setProxy(room);\n        if (this.proxyRoom['onInit'])\n            this.proxyRoom['onInit']();\n        return this.proxyRoom;\n    }\n    extractObjectOfRoom(room, schema) {\n        const newObj = {};\n        const schemas = [];\n        const _schema = utils_1.Utils.propertiesToArray(schema);\n        function extract(path) {\n            const match = new RegExp('^(.*?)\\\\.\\\\' + utils_1.GENERIC_KEY_SCHEMA).exec(path);\n            if (match) {\n                const generic = get_value_1.default(room, match[1]);\n                if (generic) {\n                    const keys = Object.keys(generic);\n                    for (let key of keys) {\n                        extract(path.replace(utils_1.GENERIC_KEY_SCHEMA, key));\n                    }\n                }\n            }\n            else {\n                schemas.push(path);\n            }\n        }\n        for (let path of _schema) {\n            extract(path);\n        }\n        for (let sheme of schemas) {\n            set_value_1.default(newObj, sheme, get_value_1.default(room, sheme));\n        }\n        return newObj;\n    }\n    detectChanges(room, obj, path) {\n        // If after changing a room, we continue to use the wrong player instance, we ignore the changes made on an old proxy \n        if (obj != undefined) {\n            const [prop, userId] = path.split('.');\n            if (prop == 'users') {\n                if (!room.users[userId]) {\n                    return;\n                }\n            }\n        }\n        set_value_1.default(this.memoryObject, path, obj);\n        if (this.proxyRoom['onChanges'])\n            this.proxyRoom['onChanges'](this.memoryObject);\n        const id = room.id;\n        world_1.World.changes.next(Object.assign(Object.assign({}, world_1.World.changes.value), { [id]: room }));\n    }\n}\nexports.Room = Room;\nRoom.propNameUsers = 'users';\n//# sourceMappingURL=room.js.map\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/sync-server/lib/room.js?");

/***/ }),

/***/ "./node_modules/@rpgjs/sync-server/lib/rooms/default.js":
/*!**************************************************************!*\
  !*** ./node_modules/@rpgjs/sync-server/lib/rooms/default.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DefaultRoom = exports.User = void 0;\nclass User {\n    constructor() {\n        this._rooms = [];\n    }\n}\nexports.User = User;\nUser.schema = {\n    id: String\n};\nclass DefaultRoom {\n    constructor() {\n        this.$schema = {\n            users: [User.schema]\n        };\n        this.users = {};\n    }\n}\nexports.DefaultRoom = DefaultRoom;\n//# sourceMappingURL=default.js.map\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/sync-server/lib/rooms/default.js?");

/***/ }),

/***/ "./node_modules/@rpgjs/sync-server/lib/transmitter.js":
/*!************************************************************!*\
  !*** ./node_modules/@rpgjs/sync-server/lib/transmitter.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Transmitter = void 0;\nconst packet_1 = __webpack_require__(/*! ./packet */ \"./node_modules/@rpgjs/sync-server/lib/packet.js\");\nclass TransmitterClass {\n    constructor() {\n        this.encode = true;\n        this.packets = {};\n    }\n    addPacket(room, obj) {\n        const { id } = room;\n        if (!id)\n            return;\n        if (!this.packets[id])\n            this.packets[id] = [];\n        this.packets[id].push(new packet_1.Packet(obj, id));\n    }\n    forEach(cb) {\n        for (let roomId in this.packets) {\n            cb(this.packets[roomId], roomId);\n        }\n    }\n    getPackets(room) {\n        if (!room.id)\n            return;\n        return this.packets[room.id];\n    }\n    clear(room) {\n        if (room && room.id) {\n            this.packets[room.id] = [];\n        }\n        else {\n            this.packets = {};\n        }\n    }\n    emit(user, packet, room) {\n        const send = (packet) => user._socket.emit('w', this.encode ? packet.encode() : packet.message);\n        if (room.filterEmit) {\n            const objectPacket = room.filterEmit(user, packet);\n            const promiseObjectPacket = objectPacket;\n            if (promiseObjectPacket.then) {\n                promiseObjectPacket.then(send);\n            }\n            else {\n                send(objectPacket);\n            }\n            return;\n        }\n        send(packet);\n    }\n}\nexports.Transmitter = new TransmitterClass();\n//# sourceMappingURL=transmitter.js.map\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/sync-server/lib/transmitter.js?");

/***/ }),

/***/ "./node_modules/@rpgjs/sync-server/lib/transports/common.js":
/*!******************************************************************!*\
  !*** ./node_modules/@rpgjs/sync-server/lib/transports/common.js ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TransportCommon = void 0;\nclass TransportCommon {\n    onConnected(cb) {\n        this.onConnectedCb = cb;\n    }\n    onJoin(cb) {\n        this.onJoinCb = cb;\n    }\n    onInput(cb) {\n        this.onInputCb = cb;\n    }\n    onAction(cb) {\n        this.onActionCb = cb;\n    }\n    onDisconnected(cb) {\n        this.onDisconnectedCb = cb;\n    }\n}\nexports.TransportCommon = TransportCommon;\n//# sourceMappingURL=common.js.map\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/sync-server/lib/transports/common.js?");

/***/ }),

/***/ "./node_modules/@rpgjs/sync-server/lib/transports/socket.js":
/*!******************************************************************!*\
  !*** ./node_modules/@rpgjs/sync-server/lib/transports/socket.js ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Transport = void 0;\nconst common_1 = __webpack_require__(/*! ./common */ \"./node_modules/@rpgjs/sync-server/lib/transports/common.js\");\nclass Transport extends common_1.TransportCommon {\n    constructor(io) {\n        super();\n        this.io = io;\n        io.on('connection', (socket) => {\n            const id = socket.client.id;\n            this.onConnectedCb(socket, id);\n            socket.on(':input', ({ prop, value }) => this.onInputCb(id, prop, value));\n            socket.on(':action', ({ name, value }) => this.onActionCb(id, name, value));\n            socket.on(':join', (roomId) => this.onJoinCb(roomId, id));\n            socket.on('disconnect', () => this.onDisconnectedCb(id));\n        });\n    }\n}\nexports.Transport = Transport;\n//# sourceMappingURL=socket.js.map\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/sync-server/lib/transports/socket.js?");

/***/ }),

/***/ "./node_modules/@rpgjs/sync-server/lib/user.js":
/*!*****************************************************!*\
  !*** ./node_modules/@rpgjs/sync-server/lib/user.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.User = void 0;\nclass User {\n    constructor() {\n        this._rooms = [];\n    }\n}\nexports.User = User;\nUser.schema = {\n    id: String\n};\n//# sourceMappingURL=user.js.map\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/sync-server/lib/user.js?");

/***/ }),

/***/ "./node_modules/@rpgjs/sync-server/lib/utils.js":
/*!******************************************************!*\
  !*** ./node_modules/@rpgjs/sync-server/lib/utils.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Utils = exports.GENERIC_KEY_SCHEMA = void 0;\nexports.GENERIC_KEY_SCHEMA = '@';\nclass Utils {\n    static isObject(val) {\n        return typeof val === 'object' && !Array.isArray(val) && val != null;\n    }\n    static propertiesToArray(obj) {\n        const addDelimiter = (a, b) => a ? `${a}.${b}` : b;\n        const paths = (obj = {}, head = '') => {\n            return Object.entries(obj)\n                .reduce((product, array) => {\n                const [key] = array;\n                const value = array[1];\n                let fullPath = addDelimiter(head, key == '0' ? exports.GENERIC_KEY_SCHEMA : key);\n                if (key[0] != '_' && (Utils.isObject(value) || Array.isArray(value))) {\n                    if (Object.keys(value).length == 0) {\n                        return product.concat(fullPath);\n                    }\n                    return product.concat(paths(value, fullPath));\n                }\n                else {\n                    return product.concat(fullPath);\n                }\n            }, []);\n        };\n        return paths(obj);\n    }\n    static generateId() {\n        return '$' + (Date.now().toString(36) + Math.random().toString(36).substr(2, 5));\n    }\n}\nexports.Utils = Utils;\n//# sourceMappingURL=utils.js.map\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/sync-server/lib/utils.js?");

/***/ }),

/***/ "./node_modules/@rpgjs/sync-server/lib/world.js":
/*!******************************************************!*\
  !*** ./node_modules/@rpgjs/sync-server/lib/world.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.World = exports.WorldClass = void 0;\nconst room_1 = __webpack_require__(/*! ./room */ \"./node_modules/@rpgjs/sync-server/lib/room.js\");\nconst transmitter_1 = __webpack_require__(/*! ./transmitter */ \"./node_modules/@rpgjs/sync-server/lib/transmitter.js\");\nconst socket_1 = __webpack_require__(/*! ./transports/socket */ \"./node_modules/@rpgjs/sync-server/lib/transports/socket.js\");\nconst default_1 = __webpack_require__(/*! ./rooms/default */ \"./node_modules/@rpgjs/sync-server/lib/rooms/default.js\");\nconst rxjs_1 = __webpack_require__(/*! rxjs */ \"rxjs\");\nclass WorldClass {\n    constructor() {\n        this.rooms = new Map();\n        this.users = {};\n        this.userClass = default_1.User;\n        this.changes = new rxjs_1.BehaviorSubject({});\n    }\n    setUserClass(userClass) {\n        this.userClass = userClass;\n    }\n    transport(io) {\n        const transport = new socket_1.Transport(io);\n        transport.onConnected(this.connectUser.bind(this));\n        transport.onDisconnected(this.disconnectUser.bind(this));\n        transport.onJoin(this.joinRoom.bind(this));\n        transport.onInput((id, prop, value) => {\n            this.forEachUserRooms(id, (room) => {\n                if (room.$inputs && room.$inputs[prop]) {\n                    room[prop] = value;\n                }\n            });\n        });\n        transport.onAction((id, name, value) => {\n            this.forEachUserRooms(id, (room, user) => {\n                if (room.$actions && room.$actions[name]) {\n                    room[name](user, value);\n                }\n            });\n        });\n    }\n    forEachUserRooms(userId, cb) {\n        const user = this.getUser(userId);\n        if (!user)\n            return;\n        for (let roomId of user._rooms) {\n            const room = this.getRoom(roomId);\n            cb(room, user);\n        }\n    }\n    getUsers() {\n        return this.users;\n    }\n    getUser(id, getProxy = true) {\n        if (!this.users[id])\n            return null;\n        if (getProxy && this.users[id]['proxy']) {\n            return this.users[id]['proxy'];\n        }\n        return this.users[id];\n    }\n    setUser(user, socket) {\n        if (socket)\n            user._socket = socket;\n        user._rooms = [];\n        this.users[user.id] = user;\n        return this.users[user.id];\n    }\n    send() {\n        this.rooms.forEach((room, id) => {\n            const obj = room.$currentState();\n            if (Object.keys(obj).length == 0) {\n                return;\n            }\n            transmitter_1.Transmitter.addPacket(room, obj);\n            for (let id in room.users) {\n                const user = room.users[id];\n                const packets = transmitter_1.Transmitter.getPackets(room);\n                if (packets) {\n                    for (let packet of packets) {\n                        transmitter_1.Transmitter.emit(user, packet, room);\n                    }\n                }\n            }\n            room.$clearCurrentState();\n        });\n        transmitter_1.Transmitter.clear();\n    }\n    connectUser(socket, id) {\n        const user = new this.userClass();\n        user.id = id;\n        socket.emit('uid', id);\n        this.setUser(user, socket);\n        return user;\n    }\n    disconnectUser(userId) {\n        this.forEachUserRooms(userId, (room, user) => {\n            if (room.$leave)\n                room.$leave(user);\n        });\n        delete this.users[userId];\n    }\n    joinOrLeaveRoom(type, roomId, userId) {\n        const room = this.getRoom(roomId);\n        if (!room)\n            return;\n        if (room[type])\n            room[type](this.getUser(userId, false));\n        return room;\n    }\n    leaveRoom(roomId, userId) {\n        return this.joinOrLeaveRoom('$leave', roomId, userId);\n    }\n    joinRoom(roomId, userId) {\n        return this.joinOrLeaveRoom('$join', roomId, userId);\n    }\n    addRoom(id, roomClass) {\n        if (roomClass.constructor.name == 'Function') {\n            roomClass = new roomClass();\n        }\n        const room = new room_1.Room().add(id, roomClass);\n        this.rooms.set(id, room);\n        return room;\n    }\n    getRoom(id) {\n        return this.rooms.get(id);\n    }\n    getRooms() {\n        return this.rooms;\n    }\n    removeRoom(id) {\n        this.rooms.delete(id);\n    }\n}\nexports.WorldClass = WorldClass;\nexports.World = new WorldClass();\n//# sourceMappingURL=world.js.map\n\n//# sourceURL=webpack:///./node_modules/@rpgjs/sync-server/lib/world.js?");

/***/ }),

/***/ "./src/config/server/index.ts":
/*!************************************!*\
  !*** ./src/config/server/index.ts ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = {};\n\n\n//# sourceURL=webpack:///./src/config/server/index.ts?");

/***/ }),

/***/ "./src/modules/index.ts":
/*!******************************!*\
  !*** ./src/modules/index.ts ***!
  \******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst main_1 = __importDefault(__webpack_require__(/*! ./main */ \"./src/modules/main/index.ts\"));\nconst starter_kit_1 = __importDefault(__webpack_require__(/*! @rpgjs/starter-kit */ \"./node_modules/@rpgjs/starter-kit/src/index.ts\"));\nconst default_gui_1 = __importDefault(__webpack_require__(/*! @rpgjs/default-gui */ \"./node_modules/@rpgjs/default-gui/src/index.ts\"));\nconst mobile_gui_1 = __importDefault(__webpack_require__(/*! @rpgjs/mobile-gui */ \"./node_modules/@rpgjs/mobile-gui/src/index.ts\"));\nconst gamepad_1 = __importDefault(__webpack_require__(/*! @rpgjs/gamepad */ \"./node_modules/@rpgjs/gamepad/index.ts\"));\nexports.default = [\n    main_1.default,\n    starter_kit_1.default,\n    default_gui_1.default,\n    mobile_gui_1.default,\n    gamepad_1.default\n];\n\n\n//# sourceURL=webpack:///./src/modules/index.ts?");

/***/ }),

/***/ "./src/modules/main/index.ts":
/*!***********************************!*\
  !*** ./src/modules/main/index.ts ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst client_1 = __importDefault(__webpack_require__(/*! client!./client */ \"./node_modules/@rpgjs/compiler/loaders/null.js!./src/modules/main/client/index.ts\"));\nconst server_1 = __importDefault(__webpack_require__(/*! server!./server */ \"./node_modules/@rpgjs/compiler/loaders/content.js!./src/modules/main/server/index.ts\"));\nexports.default = {\n    client: client_1.default,\n    server: server_1.default\n};\n\n\n//# sourceURL=webpack:///./src/modules/main/index.ts?");

/***/ }),

/***/ "./src/modules/main/server/player.ts":
/*!*******************************************!*\
  !*** ./src/modules/main/server/player.ts ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.player = void 0;\nconst server_1 = __webpack_require__(/*! @rpgjs/server */ \"./node_modules/@rpgjs/server/lib/index.js\");\nexports.player = {\n    onInput(player, { input }) {\n        if (input == server_1.Control.Back) {\n            player.callMainMenu();\n        }\n    }\n};\n\n\n//# sourceURL=webpack:///./src/modules/main/server/player.ts?");

/***/ }),

/***/ "./src/server.ts":
/*!***********************!*\
  !*** ./src/server.ts ***!
  \***********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst http_1 = __importDefault(__webpack_require__(/*! http */ \"http\"));\nconst express_1 = __importDefault(__webpack_require__(/*! express */ \"express\"));\nconst body_parser_1 = __importDefault(__webpack_require__(/*! body-parser */ \"body-parser\"));\nconst socket_io_1 = __webpack_require__(/*! socket.io */ \"socket.io\");\nconst server_1 = __webpack_require__(/*! @rpgjs/server */ \"./node_modules/@rpgjs/server/lib/index.js\");\nconst server_2 = __importDefault(__webpack_require__(/*! ./config/server */ \"./src/config/server/index.ts\"));\nconst modules_1 = __importDefault(__webpack_require__(/*! ./modules */ \"./src/modules/index.ts\"));\nconst PORT = process.env.PORT || 3000;\nconst app = express_1.default();\nconst server = http_1.default.createServer(app);\nconst io = new socket_io_1.Server(server, {\n    maxHttpBufferSize: 1e4\n});\napp.use(body_parser_1.default.json());\nconst rpgGame = server_1.entryPoint(modules_1.default, { io, basePath: __dirname, globalConfig: server_2.default });\nrpgGame.app = app; // Useful for plugins (monitoring, backend, etc.)\napp.use('/', express_1.default.static(__dirname + '/../client'));\nserver.listen(PORT, () => {\n    rpgGame.start();\n    console.log(`\n        ===> MMORPG is running on http://localhost:${PORT} <===\n    `);\n});\n\n\n//# sourceURL=webpack:///./src/server.ts?");

/***/ }),

/***/ "body-parser":
/*!******************************!*\
  !*** external "body-parser" ***!
  \******************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"body-parser\");\n\n//# sourceURL=webpack:///external_%22body-parser%22?");

/***/ }),

/***/ "express":
/*!**************************!*\
  !*** external "express" ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"express\");\n\n//# sourceURL=webpack:///external_%22express%22?");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"fs\");\n\n//# sourceURL=webpack:///external_%22fs%22?");

/***/ }),

/***/ "get-value":
/*!****************************!*\
  !*** external "get-value" ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"get-value\");\n\n//# sourceURL=webpack:///external_%22get-value%22?");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"http\");\n\n//# sourceURL=webpack:///external_%22http%22?");

/***/ }),

/***/ "lodash.merge":
/*!*******************************!*\
  !*** external "lodash.merge" ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"lodash.merge\");\n\n//# sourceURL=webpack:///external_%22lodash.merge%22?");

/***/ }),

/***/ "msgpack-lite":
/*!*******************************!*\
  !*** external "msgpack-lite" ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"msgpack-lite\");\n\n//# sourceURL=webpack:///external_%22msgpack-lite%22?");

/***/ }),

/***/ "rxjs":
/*!***********************!*\
  !*** external "rxjs" ***!
  \***********************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"rxjs\");\n\n//# sourceURL=webpack:///external_%22rxjs%22?");

/***/ }),

/***/ "sat":
/*!**********************!*\
  !*** external "sat" ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"sat\");\n\n//# sourceURL=webpack:///external_%22sat%22?");

/***/ }),

/***/ "set-value":
/*!****************************!*\
  !*** external "set-value" ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"set-value\");\n\n//# sourceURL=webpack:///external_%22set-value%22?");

/***/ }),

/***/ "socket.io":
/*!****************************!*\
  !*** external "socket.io" ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"socket.io\");\n\n//# sourceURL=webpack:///external_%22socket.io%22?");

/***/ }),

/***/ "yuka":
/*!***********************!*\
  !*** external "yuka" ***!
  \***********************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"yuka\");\n\n//# sourceURL=webpack:///external_%22yuka%22?");

/***/ })

/******/ });